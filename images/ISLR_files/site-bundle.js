!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={2:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.wpJsonpTemplateSections=window.wpJsonpTemplateSections||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;return i.push([400,0]),n()}(Array(50).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[],o=0,i=!1,a=!1,s=!1,c=function(){var e=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e={passive:!0}}}))}catch(e){}return e}(),u={scroll:function(e){a||(a=!0,requestAnimationFrame(this.executeCallbacks))},executeCallbacks:function(){for(var e=0;e<o;e+=1)r[e]();a=!1},registerCallback:function(e){var t=r.indexOf(e);!e||t>-1||(r.push(e),o+=1)},removeCallback:function(e){if(e){var t=r.indexOf(e);-1!==t&&(r.splice(t,1),o-=1)}},bindMethods:function(){i||(this.scroll=this.scroll.bind(this),i=!0)},trigger:function(){this.scroll()},on:function(e){s||(s=!0,this.bindMethods(),window.addEventListener("scroll",this.scroll,c)),this.registerCallback(e)},off:function(e){this.removeCallback(e),o||(this.bindMethods(),s=!1,window.removeEventListener("scroll",this.scroll))}};t.default=u},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.USER_ACCOUNT_API="UserAccountApi",t.IS_USER_AUTHENTICATED="isUserAuthenticated",t.OPEN_ACCOUNT_SCREEN="openAccountScreen"},,,,,,function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(214)("wks"),o=n(215),i=n(97).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=i(n(274)),o=i(n(275));function i(e){return e&&e.__esModule?e:{default:e}}var a=n(281),s=n(282),c=s.getValidNodes,u=s.validateCallbacks,l=s.validateBoolean,d=n(305),f=d.VIEWPORT_INFO,h=d.callRangeEvents,p=d.callViewportEvents,m=d.getRatioVisible,v=d.getRangeValues,y=d.getNodePosition,g=d.getScrollDirection,b=d.getScrollingElementScrollTop,w=d.isInRange,S=d.passiveEventListener,A=d.updateNodePosition,O=d.updateRangeValues,x=function(){function e(){(0,r.default)(this,e),this.watchInfo=[],this.scrollingElement=document.scrollingElement||document.body,this.viewportInfo=this.updateViewportInfo(),this.supportsPassive=S(),this.supportsIntersectionObserver=window.IntersectionObserver,this.attachListeners(),this.updateInfo()}return(0,o.default)(e,[{key:"destroy",value:function(){this.watchInfo=[],this.detachListeners()}},{key:"attachListeners",value:function(){this.boundUpdateInfo=this.updateInfo.bind(this),window.addEventListener("scroll",this.boundUpdateInfo,this.supportsPassive),this.crossBrowserUpdateInfo=a.addListener(this.boundUpdateInfo),this.intersectionObserver&&this.intersectionObserver.disconnect()}},{key:"detachListeners",value:function(){window.removeEventListener("scroll",this.boundUpdateInfo,this.supportsPassive),a.removeListener(this.crossBrowserUpdateInfo)}},{key:"updateInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=function(){};r="scroll"===t.type?function(){e.viewportInfo=e.updateViewportInfo(n),e.updateWatchInfo()}:function(){O(e.watchInfo),e.viewportInfo=e.updateViewportInfo(n),e.refreshPositionData()},requestAnimationFrame(r)}},{key:"updateWatchInfo",value:function(){var e=this;this.watchInfo.forEach((function(t){var n=t.suspendWatch,r=t.range,o=t.inRange;if(!0!==n){var i=A(t);t.position=i;var a=w(e.supportsIntersectionObserver,t,i,t.useElementHeight);t.prevRatioVisible=t.ratioVisible||0,t.ratioVisible=m(r,i),t.prevRatioVisible<t.ratioVisible?t.presence="entering":t.prevRatioVisible>t.ratioVisible?t.presence="leaving":t.presence=null,a&&p(t),o!==a&&(a||(t.presence=null),t.inRange=a,h(t,a))}}))}},{key:"updateViewportInfo",value:function(e){var t=e||b(this.scrollingElement);return f.direction=g(this.scrollingElement,t),f.scrollTop=t,f}},{key:"addNodes",value:function(e){var t=this,n=c(e.nodes);if(!n)return!1;var r=u(e.callbacks),o=v(e.range),i=l(e.useElementHeight,!0);this.supportsIntersectionObserver&&(this.intersectionObserver=new window.IntersectionObserver((function(e){e.forEach((function(e){var n=t.getNodeInfo(e.target)[0];n&&(n.observedInRange=e.isIntersecting)})),t.updateWatchInfo()}),{rootNode:null,threshold:0,rootMargin:0-o.top+"px 0px "+(o.bottom-window.innerHeight)+"px 0px"})),n.forEach((function(n){t.intersectionObserver&&t.intersectionObserver.observe(n);var a=y(n);t.watchInfo.push({node:n,callbacks:r,range:o,useElementHeight:i,initialPosition:a,position:a,rangeArray:e.range,suspendWatch:!1})})),this.updateWatchInfo()}},{key:"removeNodes",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;var r=[];return n.forEach((function(e){t.watchInfo=t.watchInfo.reduce((function(t,n){return n.node!==e?t.push(n):r.push({nodes:n.node,range:n.rangeArray,callbacks:n.callbacks}),t}),[])})),r}},{key:"suspendWatchingNodes",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;n.forEach((function(e){t.getNodeInfo(e).forEach((function(e){e.suspendWatch=!0}))}))}},{key:"resumeWatchingNodes",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;n.forEach((function(e){t.getNodeInfo(e).forEach((function(e){e.suspendWatch=!1}))})),this.updateWatchInfo()}},{key:"refreshPositionData",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;n.forEach((function(e){t.getNodeInfo(e).forEach((function(t){t.initialPosition=y(e)}))})),this.updateWatchInfo()}},{key:"getNodeInfo",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;var r=[];return n.forEach((function(e){t.watchInfo.reduce((function(t,n){return n.node===e&&t.push(n),t}),r)})),r}}]),e}();e.exports=x},function(e,t,n){"use strict";var r=n(121);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"containFocus",{enumerable:!0,get:function(){return o.default}});var o=r(n(312))},,,,,function(e,t,n){"use strict";var r=n(18),o=n(61).find,i=n(78),a=n(51),s=!0,c=a("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},,,,,,,,,,,,,,,,,function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(118),o=n(279),i=n(280),a=Object.defineProperty;t.f=n(99)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(156)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r=n(34),o=n(29),i=n(87),a=n(46),s=n(39),c=n(54),u=n(154),l=n(84),d=n(28),f=n(60),h=n(86).f,p=n(68).f,m=n(42).f,v=n(110).trim,y=o.Number,g=y.prototype,b="Number"==c(f(g)),w=function(e){var t,n,r,o,i,a,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=v(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(i("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,A=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof A&&(b?d((function(){g.valueOf.call(n)})):"Number"!=c(n))?u(new y(w(t)),n,A):w(t)},O=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;O.length>x;x++)s(y,S=O[x])&&!s(A,S)&&m(A,S,p(y,S));A.prototype=g,g.constructor=A,a(o,"Number",A)}},,,,,,,,,,,,,,,,function(e,t,n){var r=n(97),o=n(72),i=n(207),a=n(117),s=n(119),c=function(e,t,n){var u,l,d,f=e&c.F,h=e&c.G,p=e&c.S,m=e&c.P,v=e&c.B,y=e&c.W,g=h?o:o[t]||(o[t]={}),b=g.prototype,w=h?r:p?r[t]:(r[t]||{}).prototype;for(u in h&&(n=t),n)(l=!f&&w&&void 0!==w[u])&&s(g,u)||(d=l?w[u]:n[u],g[u]=h&&"function"!=typeof w[u]?n[u]:v&&l?i(d,r):y&&w[u]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((g.virtual||(g.virtual={}))[u]=d,e&c.R&&b&&!b[u]&&a(b,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(98),o=n(157);e.exports=n(99)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(155);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(18),o=n(311).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(221)(Object,"create");e.exports=r},function(e,t,n){var r=n(344);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(350);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";var r=n(169).DOCUMENT,o=n(218);e.exports=function(e){return e?e.nodeType===r?o(e):"HTML"===e.nodeName?o(e.ownerDocument):e:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports={}},function(e,t,n){var r=n(214)("keys"),o=n(215);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(159);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(164),o=n(358),i=n(125),a=function(e,t){return"auto"===e||"scroll"===e||"visible"===e&&"HTML"===t.nodeName};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r(e,"ownerDocument.defaultView"))return!1;var n=o(e),s=n.overflowX,c=n.overflowY;if(!0===t)return a(c,e)||a(s,e);var u=i(e),l=u.scrollHeight,d=u.scrollWidth,f=u.clientHeight,h=u.clientWidth;return"HTML"===e.nodeName&&(f=Math.min(f,e.ownerDocument.defaultView.innerHeight),h=Math.min(h,e.ownerDocument.defaultView.innerWidth)),a(c,e)&&l>f||a(s,e)&&d>h}},function(e,t,n){var r=n(317);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(220),o=n(323);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(168).Symbol;e.exports=r},function(e,t,n){var r=n(320),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";e.exports={ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCTYPE:10,FRAGMENT:11}},function(e,t,n){"use strict";e.exports=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatedImage=t.getVideoSource=t.getVideoID=t.getStartTime=t.getPlayerElement=t.findPlayerAspectRatio=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(172),i=s(n(393)),a=s(n(396));function s(e){return e&&e.__esModule?e:{default:e}}var c={youtube:{parsePath:"query.t",timeRegex:/[hms]/,idRegex:o.YOUTUBE_REGEX,getDimensions:function(e){var t=void 0,n=void 0;for(var o in e){var i=e[o];if("object"===(void 0===i?"undefined":r(i))&&i.width&&i.height){t=i.width,n=i.height;break}}return{w:t,h:n}}},vimeo:{parsePath:null,timeRegex:/[#t=s]/,idRegex:o.VIMEO_REGEX,getDimensions:function(e){var t=void 0,n=void 0;return e.dimensions?(t=e.dimensions.width,n=e.dimensions.height):e.iframe&&(t=e.iframe.clientWidth,n=e.iframe.clientHeight),{w:t,h:n}}}};t.findPlayerAspectRatio=function(e,t,n){var r=void 0,o=void 0;if(t){var i=c[n].getDimensions(t);r=i.w,o=i.h}return r&&o||(r=e.clientWidth,o=e.clientHeight,console.warn("No width and height found in "+n+" player "+t+". Using container dimensions.")),parseInt(r,10)/parseInt(o,10)},t.getPlayerElement=function(e){var t=e.querySelector("#player");return t||((t=e.ownerDocument.createElement("div")).id="player",e.appendChild(t)),t.setAttribute("style","position: absolute; top: 0; bottom: 0; left: 0; right: 0;"),t},t.getStartTime=function(e,t){var n=function(e,t){return c[t].parsePath?(0,a.default)(e,c[t].parsePath):null}(new i.default(e,!0),t);if(n){var r=n.split(c[t].timeRegex).filter(Boolean),o=parseInt(r.pop(),10)||0,s=60*parseInt(r.pop(),10)||0;return(3600*parseInt(r.pop(),10)||0)+s+o}},t.getVideoID=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.DEFAULT_PROPERTY_VALUES.url,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c[t],r=n&&e.match(n.idRegex),i="vimeo"===t?r[3]:r[2];if(r&&i.length)return i;console.error("Video id at "+e+" is not valid")},t.getVideoSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.DEFAULT_PROPERTY_VALUES.url,t=e.match(o.YOUTUBE_REGEX);return t&&t[2].length?"youtube":(t=e.match(o.VIMEO_REGEX))&&t[3].length?"vimeo":void console.error("Video source "+e+" does not match supported types")},t.validatedImage=function(e){if(!e)return!1;var t="IMG"===e.nodeName&&e;return t||console.warn("Element is not a valid image element."),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={enabled:!0,verbose:!1},o={container:"body",url:"https://youtu.be/xkEmYQvJ_68",source:"youtube",fitMode:"fill",scaleFactor:1,playbackSpeed:1,filter:1,filterStrength:50,timeCode:{start:0,end:null},DEBUG:r};t.DEBUG=r,t.DEFAULT_PROPERTY_VALUES=o,t.TIMEOUT=2500,t.YOUTUBE_REGEX=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]{11}).*/,t.VIMEO_REGEX=/^.*(vimeo\.com\/)(channels\/[a-zA-Z0-9]*\/)?([0-9]{7,}(#t\=.*s)?)/},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(28),o=n(30),i=n(77),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){e.exports={default:n(276),__esModule:!0}},function(e,t,n){var r=n(278);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(155),o=n(97).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=!0},function(e,t,n){var r=n(292),o=n(216);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(293),o=n(159);e.exports=function(e){return r(o(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(158),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(72),o=n(97),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(209)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(98).f,o=n(119),i=n(73)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";e.exports=function(e){return e.scrollingElement||e.documentElement||e.body}},function(e,t,n){"use strict";var r=n(163),o=n(359),i=n(169).DOCUMENT;e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&r(e,n)?e:o(e,(function(e){return r(e,n)}),(function(e){return e.nodeType===i}))}},function(e,t,n){var r=n(167),o=n(321),i=n(322),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(331),o=n(336);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(361);e.exports=function(e){return e instanceof Node?function(t){return t===e}:"string"==typeof e?function(t){return r(t,e)}:e}},function(e,t,n){"use strict";var r=n(125),o=n(225),i=n(170),a=n(226),s=n(369),c=function(){},u=function(e,t,n){i(t)&&(e.scrollLeft=t),i(n)&&(e.scrollTop=n)};e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=r(e);var l="function"==typeof n.onEnd?n.onEnd:c,d=a(n.minDuration,50),f=a(n.maxDuration,50),h=n.easing;if(i(t)&&(t={top:t}),!1===h)return u(e,t.left,t.top),l(),null;var p={left:e.scrollLeft,top:e.scrollTop},m=[t.left-p.left,t.top-p.top],v=Math.max.apply(null,m.map((function(e){return Math.abs(e)})).filter(i));if(v<1)return l(),null;var y=new s((function(t){var n=p.left+t*m[0],r=p.top+t*m[1];u(e,n,r)}),{onEnd:l,duration:o(v,d,f),easing:"string"==typeof h&&h?h:"easeOutSine"});return y.start(),y}},function(e,t,n){"use strict";e.exports=function(e,t,n){return Math.max(t,Math.min(e,n))}},function(e,t,n){"use strict";var r=n(170);e.exports=function(e,t){return r(e)?e:t}},function(e,t,n){"use strict";var r=n(18),o=n(29),i=n(87),a=n(46),s=n(228),c=n(153),u=n(95),l=n(36),d=n(28),f=n(138),h=n(69),p=n(154);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),y=m?"set":"add",g=o[e],b=g&&g.prototype,w=g,S={},A=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof g||!(v||b.forEach&&!d((function(){(new g).entries().next()})))))w=n.getConstructor(t,e,m,y),s.REQUIRED=!0;else if(i(e,!0)){var O=new w,x=O[y](v?{}:-0,1)!=O,E=d((function(){O.has(1)})),P=f((function(e){new g(e)})),k=!v&&d((function(){for(var e=new g,t=5;t--;)e[y](t,t);return!e.has(-0)}));P||((w=t((function(t,n){u(t,w,e);var r=p(new g,t,w);return null!=n&&c(n,r[y],r,m),r}))).prototype=b,b.constructor=w),(E||k)&&(A("delete"),A("has"),m&&A("get")),(k||x)&&A(y),v&&b.clear&&delete b.clear}return S[e]=w,r({global:!0,forced:w!=g},S),h(w,e),v||n.setStrong(w,e,m),w}},function(e,t,n){var r=n(85),o=n(36),i=n(39),a=n(42).f,s=n(103),c=n(383),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(e){a(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},getWeakData:function(e,t){if(!i(e,u)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},onFreeze:function(e){return c&&h.REQUIRED&&d(e)&&!i(e,u)&&f(e),e}};r[u]=!0},function(e,t,n){"use strict";var r=n(42).f,o=n(60),i=n(151),a=n(70),s=n(95),c=n(153),u=n(139),l=n(152),d=n(34),f=n(228).fastKey,h=n(56),p=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&c(r,e[u],e,n)})),h=m(t),v=function(e,t,n){var r,o,i=h(e),a=y(e,t);return a?a.value=n:(i.last=a={index:o=f(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),d?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},y=function(e,t){var n,r=h(e),o=f(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=h(this),n=y(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),i(l.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=m(t),i=m(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(391),o=r.OggVideo,i=r.Mp4Video;t.default=function(){return new Promise((function(e,t){var n=document.createElement("video");n.autoplay=!0,n.setAttribute("autoplay",!0),n.muted=!0,n.setAttribute("muted",!0),n.playsinline=!0,n.setAttribute("playsinline",!0),n.volume=0,n.setAttribute("data-is-playing","false"),n.setAttribute("style","width: 1px; height: 1px; position: fixed; top: 0; left: 0; z-index: 100;"),document.body.appendChild(n);var r=null,a=function(){r&&(clearTimeout(r),r=null);try{document.body.removeChild(n)}catch(e){return}};try{if(n.canPlayType('video/ogg; codecs="theora"').match(/^(probably)|(maybe)/))n.src=o;else{if(!n.canPlayType('video/mp4; codecs="avc1.42E01E"').match(/^(probably)|(maybe)/))return a(),void t("no autoplay: element does not support mp4 or ogg format");n.src=i}}catch(e){return a(),void t("no autoplay: "+e)}n.addEventListener("play",(function(){n.setAttribute("data-is-playing","true"),r=setTimeout((function(){a(),t("no autoplay: unsure")}),3e3)})),n.addEventListener("canplay",(function(){return"true"===n.getAttribute("data-is-playing")?(a(),e("autoplay supported"),!0):(a(),t("no autoplay: browser does not support autoplay"),!1)})),n.load(),n.play()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.filterOptions=["none","blur","brightness","contrast","invert","opacity","saturate","sepia","drop-shadow","grayscale","hue-rotate"],t.filterProperties={blur:{modifier:function(e){return.3*e},unit:"px"},brightness:{modifier:function(e){return.009*e+.1},unit:""},contrast:{modifier:function(e){return.4*e+80},unit:"%"},grayscale:{modifier:function(e){return e},unit:"%"},"hue-rotate":{modifier:function(e){return 3.6*e},unit:"deg"},invert:{modifier:function(e){return 1},unit:""},opacity:{modifier:function(e){return e},unit:"%"},saturate:{modifier:function(e){return 2*e},unit:"%"},sepia:{modifier:function(e){return e},unit:"%"}}},,function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&c()}function s(){i(a)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=y(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=l(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=h(r,"left","right")+i),Math.round(c+a)!==n&&(c-=h(r,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var u=Math.round(s+i)-t,p=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(c-=p)}return y(o.left,o.top,s,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):p(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,c,l=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),c);u(this,{target:e,contentRect:l})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new n,A=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);S.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){A.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));var O=void 0!==o.ResizeObserver?o.ResizeObserver:A;t.a=O}).call(this,n(67))},function(e,t,n){"use strict";e.exports={getDocScrollNode:n(218),getScrollParent:n(219),getScrollParents:n(362),isScrollableNode:n(163),normalizeScrollEmitter:n(364),normalizeScrollSetter:n(125),scrollIntoView:n(365),scrollTo:n(224)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(385),i=n(398),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=e.querySelector(".sqs-video-background"),r=(0,a.default)(n),i=new o.VideoBackground(r);return"function"==typeof t&&t({handleResize:function(){i.scaleVideo()},handleTweak:function(){i.destroy(),i=new o.VideoBackground(r)}}),{destroy:function(){i.destroy()}}},e.exports=t.default},function(e,t){e.exports=function(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}},function(e,t,n){!function(){"use strict";function e(e){var t=!0,n=!1,r=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function s(e){t=!1}function c(){document.addEventListener("mousemove",u),document.addEventListener("mousedown",u),document.addEventListener("mouseup",u),document.addEventListener("pointermove",u),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",u),document.addEventListener("touchmove",u),document.addEventListener("touchstart",u),document.addEventListener("touchend",u)}function u(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",u),document.removeEventListener("pointermove",u),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",u),document.removeEventListener("touchmove",u),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",u))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(i(e.activeElement)&&a(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerdown",s,!0),document.addEventListener("touchstart",s,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),c())}),!0),c(),e.addEventListener("focus",(function(e){var n,r,s;i(e.target)&&(t||(n=e.target,r=n.type,"INPUT"===(s=n.tagName)&&o[r]&&!n.readOnly||"TEXTAREA"===s&&!n.readOnly||n.isContentEditable))&&a(e.target)}),!0),e.addEventListener("blur",(function(e){var t;i(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},function(e,t,n){"use strict";!function(){function e(e){for(var t=[];e=e.parentNode||e.host||e.defaultView;)t.push(e);return t}function t(e){return function(t){var n=void 0!==t.getAttribute?t.getAttribute("class")||"":void 0;void 0!==n&&-1===n.indexOf(e)&&t.setAttribute("class",n.concat(" ",e).trim())}}var n=["\n","\t"," ","\r"];try{document.querySelector(":focus-within")}catch(r){return function(){function r(r){if(!o){window.requestAnimationFrame((function(){o=!1,"blur"===r.type&&Array.prototype.slice.call(e(r.target)).forEach(function(e){return function(t){var r=void 0!==t.getAttribute?t.getAttribute("class")||"":void 0;if(r){var o=r.indexOf(e);0<=o&&(0===o||0<=n.indexOf(r.charAt(o-1)))&&(""===(r=r.replace(e,"").trim())?t.removeAttribute("class"):t.setAttribute("class",r))}}}("focus-within")),"focus"===r.type&&Array.prototype.slice.call(e(r.target)).forEach(t("focus-within"))}));var o=!0}}return document.addEventListener("focus",r,!0),document.addEventListener("blur",r,!0),t("js-focus-within")(document.body),!0}()}}()},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(18),o=n(264),i=n(78);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,n){"use strict";var r=n(47),o=n(104),i=n(43);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},,,,function(e,t,n){"use strict";var r=n(108),o=n(37),i=n(53),a=n(269),s=n(109);r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=o(e),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var l=s(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===l?-1:l.index}]}))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";n(7);var r,o=n(18),i=n(34),a=n(205),s=n(29),c=n(180),u=n(46),l=n(95),d=n(39),f=n(196),h=n(186),p=n(144).codeAt,m=n(271),v=n(69),y=n(272),g=n(56),b=s.URL,w=y.URLSearchParams,S=y.getState,A=g.set,O=g.getterFor("URL"),x=Math.floor,E=Math.pow,P=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,T=/\d/,C=/^(0x|0X)/,I=/^[0-7]+$/,j=/^\d+$/,L=/^[\dA-Fa-f]+$/,_=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,R=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=z(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Y(e)){if(t=m(t),_.test(t))return"Invalid host";if(null===(n=B(t)))return"Invalid host";e.host=n}else{if(R.test(t))return"Invalid host";for(n="",r=h(t),o=0;o<r.length;o++)n+=V(r[o],W);e.host=n}},B=function(e){var t,n,r,o,i,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=C.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?j:8==i?I:L).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=E(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},z=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=n=0;n<4&&L.test(f());)t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,u>6)return;for(r=0;f();){if(o=null,r>0){if(!("."==f()&&r<4))return;d++}if(!T.test(f()))return;for(;T.test(f());){if(i=parseInt(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},N=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},U=f({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),q=f({},U,{"#":1,"?":1,"{":1,"}":1}),H=f({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return d(G,e.scheme)},X=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Z=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},J=function(e){var t;return e.length>1&&Z(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},K=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Z(t[0],!0)||t.pop()},$=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},oe={},ie={},ae={},se={},ce={},ue={},le={},de={},fe={},he={},pe={},me={},ve={},ye={},ge={},be={},we={},Se=function(e,t,n,o){var i,a,s,c,u,l=n||ee,f=0,p="",m=!1,v=!1,y=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(M,""),i=h(t);f<=i.length;){switch(a=i[f],l){case ee:if(!a||!P.test(a)){if(n)return"Invalid scheme";l=ne;continue}p+=a.toLowerCase(),l=te;break;case te:if(a&&(k.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",l=ne,f=0;continue}if(n&&(Y(e)!=d(G,p)||"file"==p&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(Y(e)&&G[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?l=he:Y(e)&&o&&o.scheme==e.scheme?l=re:Y(e)?l=se:"/"==i[f+1]?(l=oe,f++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ge)}break;case ne:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=we;break}l="file"==o.scheme?he:ie;continue;case re:if("/"!=a||"/"!=i[f+1]){l=ie;continue}l=ce,f++;break;case oe:if("/"==a){l=ue;break}l=ye;continue;case ie:if(e.scheme=o.scheme,a==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&Y(e))l=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=be;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=ye;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=we}break;case ae:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=ye;continue}l=ue}else l=ce;break;case se:if(l=ce,"/"!=a||"/"!=p.charAt(f+1))continue;f++;break;case ce:if("/"!=a&&"\\"!=a){l=ue;continue}break;case ue:if("@"==a){m&&(p="%40"+p),m=!0,s=h(p);for(var g=0;g<s.length;g++){var b=s[g];if(":"!=b||y){var w=V(b,H);y?e.password+=w:e.username+=w}else y=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(m&&""==p)return"Invalid authority";f-=h(p).length+1,p="",l=le}else p+=a;break;case le:case de:if(n&&"file"==e.scheme){l=me;continue}if(":"!=a||v){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==p)return"Invalid host";if(n&&""==p&&(X(e)||null!==e.port))return;if(c=F(e,p))return c;if(p="",l=ve,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),p+=a}else{if(""==p)return"Invalid host";if(c=F(e,p))return c;if(p="",l=fe,n==de)return}break;case fe:if(!T.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||n){if(""!=p){var S=parseInt(p,10);if(S>65535)return"Invalid port";e.port=Y(e)&&S===G[e.scheme]?null:S,p=""}if(n)return;l=ve;continue}return"Invalid port"}p+=a;break;case he:if(e.scheme="file","/"==a||"\\"==a)l=pe;else{if(!o||"file"!=o.scheme){l=ye;continue}if(a==r)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=be;else{if("#"!=a){J(i.slice(f).join(""))||(e.host=o.host,e.path=o.path.slice(),K(e)),l=ye;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=we}}break;case pe:if("/"==a||"\\"==a){l=me;break}o&&"file"==o.scheme&&!J(i.slice(f).join(""))&&(Z(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=ye;continue;case me:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Z(p))l=ye;else if(""==p){if(e.host="",n)return;l=ve}else{if(c=F(e,p))return c;if("localhost"==e.host&&(e.host=""),n)return;p="",l=ve}continue}p+=a;break;case ve:if(Y(e)){if(l=ye,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=ye,"/"!=a))continue}else e.fragment="",l=we;else e.query="",l=be;break;case ye:if(a==r||"/"==a||"\\"==a&&Y(e)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(K(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):$(p)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Z(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=be):"#"==a&&(e.fragment="",l=we)}else p+=V(a,q);break;case ge:"?"==a?(e.query="",l=be):"#"==a?(e.fragment="",l=we):a!=r&&(e.path[0]+=V(a,W));break;case be:n||"#"!=a?a!=r&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":V(a,W)):(e.fragment="",l=we);break;case we:a!=r&&(e.fragment+=V(a,U))}f++}},Ae=function(e){var t,n,r=l(this,Ae,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=A(r,{type:"URL"});if(void 0!==o)if(o instanceof Ae)t=O(o);else if(n=Se(t={},String(o)))throw TypeError(n);if(n=Se(s,a,null,t))throw TypeError(n);var c=s.searchParams=new w,u=S(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=xe.call(r),r.origin=Ee.call(r),r.protocol=Pe.call(r),r.username=ke.call(r),r.password=Te.call(r),r.host=Ce.call(r),r.hostname=Ie.call(r),r.port=je.call(r),r.pathname=Le.call(r),r.search=_e.call(r),r.searchParams=Re.call(r),r.hash=De.call(r))},Oe=Ae.prototype,xe=function(){var e=O(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",X(e)&&(u+=n+(r?":"+r:"")+"@"),u+=N(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Ee=function(){var e=O(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+N(e.host)+(null!==n?":"+n:""):"null"},Pe=function(){return O(this).scheme+":"},ke=function(){return O(this).username},Te=function(){return O(this).password},Ce=function(){var e=O(this),t=e.host,n=e.port;return null===t?"":null===n?N(t):N(t)+":"+n},Ie=function(){var e=O(this).host;return null===e?"":N(e)},je=function(){var e=O(this).port;return null===e?"":String(e)},Le=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},_e=function(){var e=O(this).query;return e?"?"+e:""},Re=function(){return O(this).searchParams},De=function(){var e=O(this).fragment;return e?"#"+e:""},Me=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&c(Oe,{href:Me(xe,(function(e){var t=O(this),n=String(e),r=Se(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:Me(Ee),protocol:Me(Pe,(function(e){var t=O(this);Se(t,String(e)+":",ee)})),username:Me(ke,(function(e){var t=O(this),n=h(String(e));if(!Q(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=V(n[r],H)}})),password:Me(Te,(function(e){var t=O(this),n=h(String(e));if(!Q(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=V(n[r],H)}})),host:Me(Ce,(function(e){var t=O(this);t.cannotBeABaseURL||Se(t,String(e),le)})),hostname:Me(Ie,(function(e){var t=O(this);t.cannotBeABaseURL||Se(t,String(e),de)})),port:Me(je,(function(e){var t=O(this);Q(t)||(""==(e=String(e))?t.port=null:Se(t,e,fe))})),pathname:Me(Le,(function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],Se(t,e+"",ve))})),search:Me(_e,(function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,be)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Me(Re),hash:Me(De,(function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,we)):t.fragment=null}))}),u(Oe,"toJSON",(function(){return xe.call(this)}),{enumerable:!0}),u(Oe,"toString",(function(){return xe.call(this)}),{enumerable:!0}),b){var Fe=b.createObjectURL,Be=b.revokeObjectURL;Fe&&u(Ae,"createObjectURL",(function(e){return Fe.apply(b,arguments)})),Be&&u(Ae,"revokeObjectURL",(function(e){return Be.apply(b,arguments)}))}v(Ae,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Ae})},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},u=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,l=128,d=0,f=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<o;){var m=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=l&&n<m&&(m=n);var v=p+1;if(m-l>a((2147483647-d)/v))throw RangeError(i);for(d+=(m-l)*v,l=m,t=0;t<e.length;t++){if((n=e[t])<l&&++d>2147483647)throw RangeError(i);if(n==l){for(var y=d,g=36;;g+=36){var b=g<=f?1:g>=f+26?26:g-f;if(y<b)break;var w=y-b,S=36-b;r.push(s(c(b+w%S))),y=a(w/S)}r.push(s(c(y))),f=u(d,v,p==h),d=0,++p}}++d,++l}return r.join("")};e.exports=function(e){var t,n,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)n=a[t],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(e,t,n){"use strict";n(9);var r=n(18),o=n(59),i=n(205),a=n(46),s=n(151),c=n(69),u=n(189),l=n(56),d=n(95),f=n(39),h=n(70),p=n(136),m=n(37),v=n(36),y=n(60),g=n(76),b=n(273),w=n(106),S=n(30),A=o("fetch"),O=o("Headers"),x=S("iterator"),E=l.set,P=l.getterFor("URLSearchParams"),k=l.getterFor("URLSearchParamsIterator"),T=/\+/g,C=Array(4),I=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},j=function(e){try{return decodeURIComponent(e)}catch(t){return e}},L=function(e){var t=e.replace(T," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(I(n--),j);return t}},_=/[!'()~]|%20/g,R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return R[e]},M=function(e){return encodeURIComponent(e).replace(_,D)},F=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:L(r.shift()),value:L(r.join("="))}))},B=function(e){this.entries.length=0,F(this.entries,e)},z=function(e,t){if(e<t)throw TypeError("Not enough arguments")},N=u((function(e,t){E(this,{type:"URLSearchParamsIterator",iterator:b(P(e).entries),kind:t})}),"Iterator",(function(){var e=k(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),W=function(){d(this,W,"URLSearchParams");var e,t,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(E(l,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:B}),void 0!==u)if(v(u))if("function"==typeof(e=w(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(i=(o=b(m(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(c in u)f(u,c)&&h.push({key:c,value:u[c]+""});else F(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},U=W.prototype;s(U,{append:function(e,t){z(arguments.length,2);var n=P(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){z(arguments.length,1);for(var t=P(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){z(arguments.length,1);for(var t=P(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){z(arguments.length,1);for(var t=P(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){z(arguments.length,1);for(var t=P(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){z(arguments.length,1);for(var n,r=P(this),o=r.entries,i=!1,a=e+"",s=t+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=P(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=P(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),a(U,x,U.entries),a(U,"toString",(function(){for(var e,t=P(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(M(e.key)+"="+M(e.value));return n.join("&")}),{enumerable:!0}),c(W,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:W}),i||"function"!=typeof A||"function"!=typeof O||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(v(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new O(t.headers):new O).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:g(0,String(n)),headers:g(0,r)}))),o.push(t)),A.apply(this,o)}}),e.exports={URLSearchParams:W,getState:P}},function(e,t,n){var r=n(37),o=n(106);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(206),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){n(277);var r=n(72).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(116);r(r.S+r.F*!n(99),"Object",{defineProperty:n(98).f})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(99)&&!n(156)((function(){return 7!=Object.defineProperty(n(208)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(155);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n,r,o,i;function a(){n=i.innerWidth,r=i.screen.availHeight,o=i.outerHeight}e.exports={addListener:function(e,t){var s;t||(t=window),!i&&((s=t)&&s.window===s)&&(i=t);var c=function(e){return function(t){i.innerWidth===n&&i.screen.availHeight===r&&i.outerHeight===o||e(t)}}(e);return i.addEventListener("resize",c),i.removeEventListener("resize",a),i.addEventListener("resize",a),c},removeListener:function(e){i.removeEventListener("resize",e)}}},function(e,t,n){"use strict";var r,o=n(283),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e){return e instanceof HTMLElement||e&&"children"in e},s=function(e){return Array.isArray(e)&&!e.some((function(e){return!a(e)}))?e:function(e){return e instanceof NodeList&&e.length>0}(e)?(0,i.default)(e):a(e)?[e]:(console.error("`nodes` must be HTMLElement or NodeList"),null)};e.exports={getValidNodes:function(e,t){if(e)return s(e);var n=[];return t.forEach((function(e){n.push(e.node)})),n},validateNodes:s,validateCallbacks:function(e){return["onEnter","onExit","whileInRange"].reduce((function(t,n){var r=e[n],o=r&&"function"==typeof r;return t[n]=o?r:function(){},t}),{})},validateBoolean:function(e,t){return"true"===e||!0===e||"false"!==e&&!1!==e&&(t||!1)}}},function(e,t,n){e.exports={default:n(284),__esModule:!0}},function(e,t,n){n(285),n(298),e.exports=n(72).Array.from},function(e,t,n){"use strict";var r=n(286)(!0);n(287)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(158),o=n(159);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(209),o=n(116),i=n(288),a=n(117),s=n(160),c=n(289),u=n(217),l=n(297),d=n(73)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,v,y){c(n,t,p);var g,b,w,S=function(e){if(!f&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",O="values"==m,x=!1,E=e.prototype,P=E[d]||E["@@iterator"]||m&&E[m],k=P||S(m),T=m?O?S("entries"):k:void 0,C="Array"==t&&E.entries||P;if(C&&(w=l(C.call(new e)))!==Object.prototype&&w.next&&(u(w,A,!0),r||"function"==typeof w[d]||a(w,d,h)),O&&P&&"values"!==P.name&&(x=!0,k=function(){return P.call(this)}),r&&!y||!f&&!x&&E[d]||a(E,d,k),s[t]=k,s[A]=h,m)if(g={values:O?k:S("values"),keys:v?k:S("keys"),entries:T},y)for(b in g)b in E||i(E,b,g[b]);else o(o.P+o.F*(f||x),t,g);return g}},function(e,t,n){e.exports=n(117)},function(e,t,n){"use strict";var r=n(290),o=n(157),i=n(217),a={};n(117)(a,n(73)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(118),o=n(291),i=n(216),a=n(161)("IE_PROTO"),s=function(){},c=function(){var e,t=n(208)("iframe"),r=i.length;for(t.style.display="none",n(296).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(98),o=n(118),i=n(210);e.exports=n(99)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(119),o=n(211),i=n(294)(!1),a=n(161)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(212);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(211),o=n(213),i=n(295);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(158),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(97).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(119),o=n(162),i=n(161)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(207),o=n(116),i=n(162),a=n(299),s=n(300),c=n(213),u=n(301),l=n(302);o(o.S+o.F*!n(304)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,f=i(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,y=0,g=l(f);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),null==g||h==Array&&s(g))for(n=new h(t=c(f.length));t>y;y++)u(n,y,v?m(f[y],y):f[y]);else for(d=g.call(f),n=new h;!(o=d.next()).done;y++)u(n,y,v?a(d,m,[o.value,y],!0):o.value);return n.length=y,n}})},function(e,t,n){var r=n(118);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(160),o=n(73)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(98),o=n(157);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(303),o=n(73)("iterator"),i=n(160);e.exports=n(72).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(212),o=n(73)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(73)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=i(n(306)),o=i(n(310));function i(e){return e&&e.__esModule?e:{default:e}}var a={},s="toTop",c="toBottom",u="top",l="bottom",d=["node","position","presence","ratioOfRange","ratioVisible"],f=function(e){return window.innerHeight*e/100},h=function(e){var t;if(!Array.isArray(e)||2!==e.length||"number"==typeof e[0]&&isNaN(e[0])||"number"==typeof e[1]&&isNaN(e[1]))throw new Error("Must be an array of two numbers");return t={},(0,o.default)(t,l,f(Math.max(e[0],e[1]))),(0,o.default)(t,u,f(Math.min(e[0],e[1]))),t},p=function(e){var t={};return(0,r.default)(e).forEach((function(n){d.includes(n)&&(t[n]=e[n])})),t};e.exports={VIEWPORT_INFO:a,callRangeEvents:function(e,t){var n=a,r=void 0;t?r=e.callbacks.onEnter:(e.ratioOfRange=n.direction===c?1:0,r=e.callbacks.onExit),r(p(e),n.direction||null)},callViewportEvents:function(e){var t=a,n=e.position,r=e.range,o=e.useElementHeight?n.height:0,i=(r.bottom-n.top)/(r.bottom-r.top+o);e.ratioOfRange=Math.min(Math.max(i,0),1);var s=p(e);e.callbacks.whileInRange(s,t.direction)},convertToPixelValue:f,getNodePosition:function(e){var t=e.getBoundingClientRect();return{top:t.top+a.scrollTop,bottom:t.bottom+a.scrollTop,width:t.width,height:t.height}},getRangeValues:h,getRatioVisible:function(e,t){var n=t.top,r=t.height,o=Math.min((e.bottom-n)/r,1)+Math.min((n-e.top)/r,0);return Math.min(Math.max(o,0),100)},getScrollDirection:function(e,t){var n=a.scrollTop;return t&&t!==n?n>t?s:c:a.direction},getScrollingElementScrollTop:function(e){if(0===e.scrollTop&&e===document.body){if(void 0!==window.pageYOffset)return window.pageYOffset;if(document.documentElement&&document.documentElement.scrollTop)return document.documentElement.scrollTop}return e.scrollTop},isInRange:function(e,t,n,r){return e&&t.useElementHeight?t.observedInRange:!(n.top>t.range.bottom-1)&&!(n[r?"bottom":"top"]<t.range.top)},passiveEventListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){console.log(e)}return!!e&&{passive:!0}},updateNodePosition:function(e){return{top:e.initialPosition.top-a.scrollTop,bottom:e.initialPosition.bottom-a.scrollTop,width:e.initialPosition.width,height:e.initialPosition.height}},updateRangeValues:function(e){e.forEach((function(e){e.range=h(e.rangeArray)}))}}},function(e,t,n){e.exports={default:n(307),__esModule:!0}},function(e,t,n){n(308),e.exports=n(72).Object.keys},function(e,t,n){var r=n(162),o=n(210);n(309)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(116),o=n(72),i=n(156);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(206),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(34),o=n(89),i=n(52),a=n(101).f,s=function(e){return function(t){for(var n,s=i(t),c=o(s),u=c.length,l=0,d=[];u>l;)n=c[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){"use strict";var r=n(121);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=void 0===t?null:t,r=e.predicate,o=void 0===r?null:r,a=e.root,u=void 0===a?document.body:a,l=e.setFocusOnContain,d=void 0===l||l,f=e.restoreFocusOnRevert,h=void 0===f||f;if(!n&&!o||n&&o)throw new Error("One (and only one) of container and predicate must be set");n&&(o=function(e){return n.contains(e)});var p=document.activeElement,m=[],v=!1;return setTimeout((function(){if(!v){var e,t=i(u.querySelectorAll(s));try{for(t.s();!(e=t.n()).done;){var n=e.value;o(n)||(m.push({element:n,originalTabIndex:n.tabIndex}),n.tabIndex=-1)}}catch(e){t.e(e)}finally{t.f()}var r=c(d,o);r&&"function"==typeof r.focus&&r.focus()}}),0),function(){v=!0;var e,t=i(m);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.element.tabIndex=n.originalTabIndex}}catch(e){t.e(e)}finally{t.f()}h&&p&&"function"==typeof p.focus&&p.focus()}};var o=r(n(313));function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"iframe"].join(",");function c(e,t){return e instanceof HTMLElement?e:"string"==typeof e?document.body.querySelector(e):e?(0,o.default)(document.body.querySelectorAll(s)).find((function(e){return t(e)})):null}e.exports=t.default},function(e,t,n){var r=n(314),o=n(315),i=n(316);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){var r=n(318),o=n(357);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(165),o=n(319),i=n(324),a=n(354);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(165),o=n(166),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(67))},function(e,t,n){var r=n(167),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(325),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(326);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(327);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(328),o=n(349),i=n(351),a=n(352),s=n(353);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(329),o=n(341),i=n(348);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(330),o=n(337),i=n(338),a=n(339),s=n(340);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(122);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(332),o=n(333),i=n(222),a=n(335),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(220),o=n(222);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r,o=n(334),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(168)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(122),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(122),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(122);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(342),o=n(343),i=n(345),a=n(346),s=n(347);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(123),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(123);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(123);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(123);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(221)(n(168),"Map");e.exports=r},function(e,t,n){var r=n(124);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(124);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(124);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(124);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(355);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(167),o=n(356),i=n(165),a=n(166),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(166);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";var r=n(164);e.exports=function(e){var t=r(e,"ownerDocument.defaultView");return t?t.getComputedStyle(e):{}}},function(e,t,n){"use strict";var r=n(360);e.exports=function(e,t,n){return e?r(e.parentElement,t,n):null}},function(e,t,n){"use strict";var r=n(223);e.exports=function(e,t,n){for(t=r(t),n=r(n);e&&(!n||!n(e));){if(t(e))return e;e=e.parentElement}return null}},function(e,t,n){"use strict";var r="undefined"!=typeof Element?Element.prototype:{},o=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}},function(e,t,n){"use strict";var r=n(163),o=n(363),i=n(169).DOCUMENT;e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[];return t&&r(e,n)&&a.push(e),a.concat(o(e,(function(e){return r(e,n)}),(function(e){return e.nodeType===i})))}},function(e,t,n){"use strict";var r=n(223);e.exports=function(e,t,n){t=r(t),n=r(n),e=e.parentElement;for(var o=[];e&&(!n||!n(e));)t&&!t(e)||o.push(e),e=e.parentElement;return o}},function(e,t,n){"use strict";e.exports=function(e){return e&&"HTML"===e.nodeName?e.ownerDocument:e}},function(e,t,n){"use strict";var r=n(121),o=r(n(366)),i=r(n(368));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=n(164),c=n(125),u=n(219),l=n(224),d=n(225),f=n(226),h=/(body|html)/i,p=function(e,t,n,r){return e[0]-n<t[0]||r&&e[1]+n>t[1]?Math.round(e[0]-t[0]-n):e[1]+n>t[1]?Math.round(e[1]-t[1]+n):0},m=function(e){var t=e.getClientRects()[0],n=e.ownerDocument.defaultView.innerWidth,r=e.ownerDocument.defaultView.innerHeight;h.test(e.nodeName)||(n=Math.min(e.clientWidth||e.scrollWidth,n),r=Math.min(e.clientHeight||e.scrollHeight,r));var o=t.left+e.scrollLeft,i=t.top+e.scrollTop;return{width:n,height:r,left:o,top:i,right:o+n,bottom:i+r}},v=function(e,t){"boolean"==typeof e&&(e={anchorToTopLeft:e});var n=e,r=n.scrollNode,o=n.offset;return r||(r=u(t)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{scrollNode:r=c(r),offset:o=f(o,30)})};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v(t,e),r=n.scrollNode,i=n.anchorToTopLeft,a=n.offset,c=(0,o.default)(n,["scrollNode","anchorToTopLeft","offset"]);if(!r||!s(r,"ownerDocument.defaultView"))return null;var u=e.getClientRects()[0],f=m(r),h=p([u.left,u.right],[f.left,f.right],a,i),y=p([u.top,u.bottom],[f.top,f.bottom],a,i);if(Math.abs(h)<1&&Math.abs(y)<1)return null;var g=r.scrollWidth-f.width,b=r.scrollHeight-f.height;return l(r,{left:d(r.scrollLeft+h,0,g),top:d(r.scrollTop+y,0,b)},c)}},function(e,t,n){var r=n(367);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(121),o=r(n(370)),i=r(n(371)),a=n(372),s=n(375),c=n(170),u=function(){function e(t,n){if((0,o.default)(this,e),"function"!=typeof t)throw new Error("[Tween] First parameter needs to be a function.");var r=n.duration,i=n.easing,a=n.onEnd;if(void 0!==r&&!c(r))throw new Error("[Tween] Duration is not a finite number.");this.fn=t,this.duration=void 0===r?300:r,this.easingFn=s[i||"linear"],this.onEnd=a}return(0,i.default)(e,[{key:"start",value:function(){var e=this;this.next=a((function(){e.startTime=(new Date).getTime(),e.tween()}))}},{key:"end",value:function(){this.cancelNext(),this.fn(1),"function"==typeof this.onEnd&&this.onEnd()}},{key:"cancelNext",value:function(){this.next&&(a.cancel(this.next),this.next=null)}},{key:"pause",value:function(){this.next&&(this.cancelNext(),this.pausedTime=(new Date).getTime())}},{key:"resume",value:function(){var e=this;this.pausedTime&&(this.next=a((function(){var t=(new Date).getTime()-e.pausedTime;e.startTime+=t,e.tween(),delete e.pausedTime})))}},{key:"isPaused",value:function(){return!!this.pausedTime}},{key:"isRunning",value:function(){return!!this.next}},{key:"getMultiplier",value:function(e){return this.easingFn(e,0,1,1)}},{key:"tween",value:function(){this.next=null;var e=(new Date).getTime(),t=this.duration,n=e-this.startTime;n>=t?this.end():(this.fn(this.getMultiplier(n/t)),this.next=a(this.tween.bind(this)))}}]),e}(),l=["start","end","resume","pause","isRunning","isPaused"];e.exports=function e(t,n){var r=this;(0,o.default)(this,e);var i=new u(t,n);l.forEach((function(e){r[e]=function(){return i[e]()}}))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){(function(t){for(var r=n(373),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],c=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!c){var l=0,d=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(67))},function(e,t,n){(function(t){(function(){var n,r,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(374))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";t.__esModule=!0;var r={linear:function(e,t,n,r){return n*e/r+t},easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var o;return null!==(o=0===e)?o:{b:n*Math.pow(2,10*(e/r-1))+t}},easeOutExpo:function(e,t,n,r){var o;return null!==(o=e===r)?o:t+{c:n*(1-Math.pow(2,-10*e/r))+t}},easeInOutExpo:function(e,t,n,r){return(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var o,i,a;return a=1.70158,0===e||(e/=r),(i=0)||(i=.3*r),(o=n)<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)+t},easeOutElastic:function(e,t,n,r){var o,i,a;return a=1.70158,0===e||(e/=r),(i=0)||(i=.3*r),(o=n)<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/i)+n+t},easeInOutElastic:function(e,t,n,r){var o,i,a;return a=1.70158,0===e||(e/=r/2),(i=0)||(i=r*(.3*1.5)),(o=n)<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*.5+n+t},easeInBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},easeInBounce:function(e,t,n,o){return n-r.easeOutBounce(o-e,0,n,o)+t},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,o){return e<o/2?.5*r.easeInBounce(2*e,0,n,o)+t:.5*r.easeOutBounce(2*e-o,0,n,o)+.5*n+t}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=n(18),o=n(377);r({target:"String",proto:!0,forced:n(378)("link")},{link:function(e){return o(this,"a","href",e)}})},function(e,t,n){var r=n(53),o=/"/g;e.exports=function(e,t,n,i){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var r=n(28);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){"use strict";var r=n(18),o=n(380),i=n(47),a=n(43),s=n(57),c=n(105);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),n=a(t.length),r=c(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:s(e)),r}})},function(e,t,n){"use strict";var r=n(88),o=n(43),i=n(70),a=function(e,t,n,s,c,u,l,d){for(var f,h=c,p=0,m=!!l&&i(l,d,3);p<s;){if(p in n){if(f=m?m(n[p],p,t):n[p],u>0&&r(f))h=a(e,t,f,o(f.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=f}h++}p++}return h};e.exports=a},function(e,t,n){n(78)("flat")},function(e,t,n){"use strict";var r=n(227),o=n(229);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){var r=n(28);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(18),o=n(61).every,i=n(63),a=n(51),s=i("every"),c=a("every");r({target:"Array",proto:!0,forced:!s||!c},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoAutoplayTest=t.VideoFilterPropertyValues=t.VideoBackground=void 0,n(386);var r=n(387);t.VideoBackground=r.VideoBackground,t.VideoFilterPropertyValues=r.VideoFilterPropertyValues,t.videoAutoplayTest=r.videoAutoplayTest},function(e,t){!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoAutoplayTest=t.VideoFilterPropertyValues=t.VideoBackground=void 0;var r=a(n(388)),o=n(231),i=a(n(230));function a(e){return e&&e.__esModule?e:{default:e}}t.VideoBackground=r.default,t.VideoFilterPropertyValues=o.filterProperties,t.videoAutoplayTest=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(389)),i=d(n(230)),a=n(392),s=n(397),c=n(172),u=n(231),l=n(171);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h={vimeo:{api:a.initializeVimeoAPI,player:a.initializeVimeoPlayer},youtube:{api:s.initializeYouTubeAPI,player:s.initializeYouTubePlayer}},p=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;f(this,e),this.windowContext=r,this.events=[],this.browserCanAutoPlay=!1,this.videoCanAutoPlay=!1,this.setInstanceProperties(t),this.renderFallbackBehavior(),(0,i.default)().then((function(e){n.logger(e),n.browserCanAutoPlay=!0,n.initializeVideoAPI()}),(function(e){n.logger(e),n.browserCanAutoPlay=!1})).then((function(){n.setDisplayEffects(),n.bindUI(),!0===n.DEBUG.enabled&&(window.vdbg=n)}))}return r(e,[{key:"destroy",value:function(){this.events&&this.events.forEach((function(e){return e.target.removeEventListener(e.type,e.handler,!0)})),this.events=null,this.player&&"function"==typeof this.player.destroy&&(this.player.iframe&&this.player.iframe.classList.remove("ready"),this.player.destroy(),this.player={}),"number"==typeof this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"bindUI",value:function(){var e=this,t=function(){e.windowContext.requestAnimationFrame((function(){e.scaleVideo()}))};this.events.push({target:this.windowContext,type:"resize",handler:t}),this.windowContext.addEventListener("resize",t,!0)}},{key:"setInstanceProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1===(e=(0,o.default)({},c.DEFAULT_PROPERTY_VALUES,e)).container.nodeType?this.container=e.container:"string"==typeof e.container&&(this.container=document.querySelector(e.container)),!this.container)return console.error("Container "+e.container+" not found"),!1;this.videoSource=(0,l.getVideoSource)(e.url),this.videoId=(0,l.getVideoID)(e.url,this.videoSource),this.customFallbackImage=(0,l.validatedImage)(e.customFallbackImage||e.container.querySelector("img")),this.filter=e.filter,this.filterStrength=e.filterStrength,this.fitMode=e.fitMode,this.scaleFactor=e.scaleFactor,this.playbackSpeed=parseFloat(e.playbackSpeed)<.5?1:parseFloat(e.playbackSpeed),this.timeCode={start:(0,l.getStartTime)(e.url,this.videoSource)||e.timeCode.start,end:e.timeCode.end},this.player={},this.DEBUG=e.DEBUG}},{key:"onFallbackImageLoaded",value:function(){this.customFallbackImage.classList.add("loaded")}},{key:"setFallbackImage",value:function(){var e=this,t=this.customFallbackImage;t&&(t.hasAttribute("src")&&t.complete?this.onFallbackImageLoaded():(t.addEventListener("load",(function(){e.onFallbackImageLoaded()}),{once:!0}),this.windowContext.ImageLoader?this.windowContext.ImageLoader.load(t,{load:!0}):t.src=t.src))}},{key:"initializeVideoAPI",value:function(){var e=this;this.browserCanAutoPlay&&this.videoSource&&this.videoId?(this.player.ready=!1,(0,h[this.videoSource].api)(this.windowContext).then((function(t){e.logger(t),e.player.ready=!1,e.initializeVideoPlayer()})).catch((function(t){document.body.classList.add("ready"),e.logger(t)}))):document.body.classList.add("ready")}},{key:"initializeVideoPlayer",value:function(){var e=this;if(this.player.ready){try{this.player.destroy()}catch(e){}this.player.ready=!1}(0,h[this.videoSource].player)({instance:this,container:this.container,win:this.windowContext,videoId:this.videoId,startTime:this.timeCode.start,speed:this.playbackSpeed,readyCallback:function(){e.player.iframe.classList.add("background-video"),e.videoAspectRatio=(0,l.findPlayerAspectRatio)(e.container,e.player,e.videoSource),e.syncPlayer();var t=new CustomEvent("ready");e.container.dispatchEvent(t)},stateChangeCallback:function(t,n){switch(t){case"playing":e.videoCanAutoPlay||(e.logger("video started playing"),e.videoCanAutoPlay=!0,e.player.ready=!0,e.player.iframe.classList.add("ready"),e.container.classList.remove("mobile"))}t&&e.logger(t),n&&e.logger(n)}}).then((function(t){e.player=t}),(function(t){e.logger(t)}))}},{key:"renderFallbackBehavior",value:function(){this.setFallbackImage(),this.container.classList.add("mobile"),this.logger("added mobile")}},{key:"syncPlayer",value:function(){this.setDisplayEffects(),this.setSpeed(),this.scaleVideo()}},{key:"scaleVideo",value:function(e){this.setFallbackImage();var t=this.player.iframe;if(t){var n=e||this.scaleFactor;if("fill"!==this.fitMode)return t.style.width="",void(t.style.height="");var r=t.parentNode.clientWidth,o=t.parentNode.clientHeight,i=r/o,a=0,s=0;i>this.videoAspectRatio?(a=r*n,s=r*n/this.videoAspectRatio):this.videoAspectRatio>i?(a=o*n*this.videoAspectRatio,s=o*n):(a=r*n,s=o*n),t.style.width=a+"px",t.style.height=s+"px",t.style.left=0-(a-r)/2+"px",t.style.top=0-(s-o)/2+"px"}}},{key:"setSpeed",value:function(e){this.playbackSpeed=parseFloat(this.playbackSpeed),this.player.setPlaybackRate&&this.player.setPlaybackRate(this.playbackSpeed)}},{key:"setDisplayEffects",value:function(){this.setFilter()}},{key:"setFilter",value:function(){var e=this.container.style,t=u.filterOptions[this.filter-1],n="";"none"!==t&&(n=this.getFilterStyle(t,this.filterStrength));var r="blur"===t;e.webkitFilter=r?"":n,e.filter=r?"":n,this.container.classList.toggle("filter-blur",r),Array.prototype.slice.call(this.container.children).forEach((function(e){e.style.webkitFilter=r?n:"",e.style.filter=r?n:""}))}},{key:"getFilterStyle",value:function(e,t){return e+"("+(u.filterProperties[e].modifier(t)+u.filterProperties[e].unit)+")"}},{key:"logger",value:function(e){this.DEBUG.enabled&&this.DEBUG.verbose&&this.windowContext.console.log(e)}}]),e}();t.default=p},function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,c=a||s||Function("return this")(),u=t&&!t.nodeType&&t,l=u&&"object"==typeof n&&n&&!n.nodeType&&n,d=l&&l.exports===u,f=d&&a.process,h=function(){try{var e=l&&l.require&&l.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(e){}}(),p=h&&h.isTypedArray;function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var v,y,g,b=Array.prototype,w=Function.prototype,S=Object.prototype,A=c["__core-js_shared__"],O=w.toString,x=S.hasOwnProperty,E=(v=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",P=S.toString,k=O.call(Object),T=RegExp("^"+O.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=d?c.Buffer:void 0,I=c.Symbol,j=c.Uint8Array,L=C?C.allocUnsafe:void 0,_=(y=Object.getPrototypeOf,g=Object,function(e){return y(g(e))}),R=Object.create,D=S.propertyIsEnumerable,M=b.splice,F=I?I.toStringTag:void 0,B=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=C?C.isBuffer:void 0,N=Math.max,W=Date.now,U=ue(c,"Map"),q=ue(Object,"create"),H=function(){function e(){}return function(t){if(!Se(t))return{};if(R)return R(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=this.__data__=new G(e);this.size=t.size}function Q(e,t){var n=ve(e),r=!n&&me(e),o=!n&&!r&&ge(e),i=!n&&!r&&!o&&Oe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!x.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||le(u,c))||s.push(u);return s}function Z(e,t,n){(void 0!==n&&!pe(e[t],n)||void 0===n&&!(t in e))&&$(e,t,n)}function J(e,t,n){var r=e[t];x.call(e,t)&&pe(r,n)&&(void 0!==n||t in e)||$(e,t,n)}function K(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}function $(e,t,n){"__proto__"==t&&B?B(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}V.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},V.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},V.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return x.call(t,e)?t[e]:void 0},V.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:x.call(t,e)},V.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this},G.prototype.clear=function(){this.__data__=[],this.size=0},G.prototype.delete=function(e){var t=this.__data__,n=K(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),--this.size,!0)},G.prototype.get=function(e){var t=this.__data__,n=K(t,e);return n<0?void 0:t[n][1]},G.prototype.has=function(e){return K(this.__data__,e)>-1},G.prototype.set=function(e,t){var n=this.__data__,r=K(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Y.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(U||G),string:new V}},Y.prototype.delete=function(e){var t=ce(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return ce(this,e).get(e)},Y.prototype.has=function(e){return ce(this,e).has(e)},Y.prototype.set=function(e,t){var n=ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},X.prototype.clear=function(){this.__data__=new G,this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var n=this.__data__;if(n instanceof G){var r=n.__data__;if(!U||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Y(r)}return n.set(e,t),this.size=n.size,this};var ee,te=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[ee?a:++r];if(!1===t(o[s],s,o))break}return e};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=x.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var o=P.call(e);r&&(t?e[F]=n:delete e[F]);return o}(e):function(e){return P.call(e)}(e)}function re(e){return Ae(e)&&"[object Arguments]"==ne(e)}function oe(e){return!(!Se(e)||function(e){return!!E&&E in e}(e))&&(be(e)?T:r).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ie(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=de(e),n=[];for(var r in e)("constructor"!=r||!t&&x.call(e,r))&&n.push(r);return n}function ae(e,t,n,r,o){e!==t&&te(t,(function(i,a){if(o||(o=new X),Se(i))!function(e,t,n,r,o,i,a){var s=fe(e,n),c=fe(t,n),u=a.get(c);if(u)return void Z(e,n,u);var l=i?i(s,c,n+"",e,t,a):void 0,d=void 0===l;if(d){var f=ve(c),h=!f&&ge(c),p=!f&&!h&&Oe(c);l=c,f||h||p?ve(s)?l=s:Ae(b=s)&&ye(b)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):h?(d=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=L?L(n):new e.constructor(n);return e.copy(r),r}(c,!0)):p?(d=!1,m=c,v=!0?(y=m.buffer,g=new y.constructor(y.byteLength),new j(g).set(new j(y)),g):m.buffer,l=new m.constructor(v,m.byteOffset,m.length)):l=[]:function(e){if(!Ae(e)||"[object Object]"!=ne(e))return!1;var t=_(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==k}(c)||me(c)?(l=s,me(s)?l=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?$(n,s,c):J(n,s,c)}return n}(e,xe(e))}(s):Se(s)&&!be(s)||(l=function(e){return"function"!=typeof e.constructor||de(e)?{}:H(_(e))}(c))):d=!1}var m,v,y,g;var b;d&&(a.set(c,l),o(l,c,r,i,a),a.delete(c));Z(e,n,l)}(e,t,a,n,ae,r,o);else{var s=r?r(fe(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),Z(e,a,s)}}),xe)}function se(e,t){return he(function(e,t,n){return t=N(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=N(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),m(e,this,s)}}(e,t,ke),e+"")}function ce(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return oe(n)?n:void 0}function le(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var he=function(e){var t=0,n=0;return function(){var r=W(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(B?function(e,t){return B(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ke);function pe(e,t){return e===t||e!=e&&t!=t}var me=re(function(){return arguments}())?re:function(e){return Ae(e)&&x.call(e,"callee")&&!D.call(e,"callee")},ve=Array.isArray;function ye(e){return null!=e&&we(e.length)&&!be(e)}var ge=z||function(){return!1};function be(e){if(!Se(e))return!1;var t=ne(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Oe=p?function(e){return function(t){return e(t)}}(p):function(e){return Ae(e)&&we(e.length)&&!!i[ne(e)]};function xe(e){return ye(e)?Q(e,!0):ie(e)}var Ee,Pe=(Ee=function(e,t,n){ae(e,t,n)},se((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Ee.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Se(n))return!1;var r=typeof t;return!!("number"==r?ye(n)&&le(t,n.length):"string"==r&&t in n)&&pe(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Ee(e,a,n,o)}return e})));function ke(e){return e}n.exports=Pe}).call(this,n(67),n(390)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OggVideo="data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A",t.Mp4Video="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeVimeoPlayer=t.initializeVimeoAPI=void 0;var r=n(171),o=n(172),i=void 0,a="*",s=null,c=function(e,t){var n={method:e};t&&(n.value=t);var r=JSON.stringify(n);i.ownerDocument.defaultView.eval("(function(playerIframe){ playerIframe.contentWindow.postMessage("+r+", "+JSON.stringify(a)+") })")(i)};t.initializeVimeoAPI=function(){return new Promise((function(e,t){e("no api needed")}))},t.initializeVimeoPlayer=function(e){var t=e.win,n=e.instance,u=e.container,l=e.videoId,d=e.startTime,f=e.readyCallback,h=e.stateChangeCallback;return new Promise((function(e,p){var m=n.logger||function(){};(i=t.document.createElement("iframe")).id="vimeoplayer";i.src="//player.vimeo.com/video/"+l+"?api=1&background=1",(0,r.getPlayerElement)(u).appendChild(i);var v={iframe:i,setPlaybackRate:function(){}};e(v);var y=function(){c("getDuration"),c("getVideoHeight"),c("getVideoWidth")},g=null,b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||v.dimensions.width&&v.dimensions.height&&v.duration)&&(e&&y(),v.dimensions.width=v.dimensions.width||v.iframe.parentNode.offsetWidth,v.dimensions.height=v.dimensions.height||v.iframe.parentNode.offsetHeight,v.duration=v.duration||10,c("setVolume","0"),c("setLoop","true"),c("seekTo",d),c("addEventListener","playProgress"),f(v))},w=function(e){if(!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;a=e.origin;var t=e.data;switch("string"==typeof t&&(t=JSON.parse(t)),t.event){case"ready":s&&(clearTimeout(s),s=null),v.dimensions||(v.dimensions={},y(),h("buffering"),g=setTimeout((function(){m.call(n,"retrying"),b(!0)}),.75*o.TIMEOUT));break;case"playProgress":case"timeupdate":g&&(clearTimeout(g),g=null),h("playing",t),c("setVolume","0"),t.data.percent>=.98&&d>0&&c("seekTo",d)}switch(t.method){case"getVideoHeight":m.call(n,t.method),v.dimensions.height=t.value,b();break;case"getVideoWidth":m.call(n,t.method),v.dimensions.width=t.value,b();break;case"getDuration":m.call(n,t.method),v.duration=t.value,d>=v.duration&&(d=0),b()}},S=function(e){w(e)};t.addEventListener("message",S,!1),v.destroy=function(){t.removeEventListener("message",S),v.iframe.parentElement&&v.iframe.parentElement.removeChild(v.iframe)},s=setTimeout((function(){p("Ran out of time")}),o.TIMEOUT)}))}},function(e,t,n){"use strict";(function(t){var r=n(394),o=n(395),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(e=e||r);if("blob:"===e.protocol)o=new h(unescape(e.pathname),{});else if("string"===a)for(n in o=new h(e,{}),l)delete o[n];else if("object"===a){for(n in e)n in l||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function f(e){e=c(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,n){if(e=c(e),!(this instanceof h))return new h(e,t,n);var i,a,s,l,p,m,v=u.slice(),y=typeof t,g=this,b=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=d(t),i=!(a=f(e||"")).protocol&&!a.slashes,g.slashes=a.slashes||i&&t.slashes,g.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);b<v.length;b++)"function"!=typeof(l=v[b])?(s=l[0],m=l[1],s!=s?g[m]=e:"string"==typeof s?~(p=e.indexOf(s))&&("number"==typeof l[2]?(g[m]=e.slice(0,p),e=e.slice(p+l[2])):(g[m]=e.slice(p),e=e.slice(0,p))):(p=s.exec(e))&&(g[m]=p[1],e=e.slice(0,p.index)),g[m]=g[m]||i&&l[3]&&t[m]||"",l[4]&&(g[m]=g[m].toLowerCase())):e=l(e);n&&(g.query=n(g.query)),i&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(g.pathname,t.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(l=g.auth.split(":"),g.username=l[0]||"",g.password=l[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}h.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;default:i[e]=t}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},h.extractProtocol=f,h.location=d,h.trimLeft=c,h.qs=o,e.exports=h}).call(this,n(67))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)if(r.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;i.push(o+"="+n)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(e,t,n){(function(t){var n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/,o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")();var d,f=Array.prototype,h=Function.prototype,p=Object.prototype,m=l["__core-js_shared__"],v=(d=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",y=h.toString,g=p.hasOwnProperty,b=p.toString,w=RegExp("^"+y.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=l.Symbol,A=f.splice,O=R(l,"Map"),x=R(Object,"create"),E=S?S.prototype:void 0,P=E?E.toString:void 0;function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function j(e,t){for(var o,i=0,a=(t=function(e,t){if(B(e))return!1;var o=typeof e;if("number"==o||"symbol"==o||"boolean"==o||null==e||N(e))return!0;return r.test(e)||!n.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:B(o=t)?o:D(o)).length;null!=e&&i<a;)e=e[M(t[i++])];return i&&i==a?e:void 0}function L(e){return!(!z(e)||(t=e,v&&v in t))&&(function(e){var t=z(e)?b.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:s).test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function _(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function R(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}k.prototype.clear=function(){this.__data__=x?x(null):{}},k.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},k.prototype.get=function(e){var t=this.__data__;if(x){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return g.call(t,e)?t[e]:void 0},k.prototype.has=function(e){var t=this.__data__;return x?void 0!==t[e]:g.call(t,e)},k.prototype.set=function(e,t){return this.__data__[e]=x&&void 0===t?"__lodash_hash_undefined__":t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,n=I(t,e);return!(n<0)&&(n==t.length-1?t.pop():A.call(t,n,1),!0)},T.prototype.get=function(e){var t=this.__data__,n=I(t,e);return n<0?void 0:t[n][1]},T.prototype.has=function(e){return I(this.__data__,e)>-1},T.prototype.set=function(e,t){var n=this.__data__,r=I(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new k,map:new(O||T),string:new k}},C.prototype.delete=function(e){return _(this,e).delete(e)},C.prototype.get=function(e){return _(this,e).get(e)},C.prototype.has=function(e){return _(this,e).has(e)},C.prototype.set=function(e,t){return _(this,e).set(e,t),this};var D=F((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(N(e))return P?P.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return o.test(e)&&n.push(""),e.replace(i,(function(e,t,r,o){n.push(r?o.replace(a,"$1"):t||e)})),n}));function M(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function F(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(F.Cache||C),n}F.Cache=C;var B=Array.isArray;function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:j(e,t);return void 0===r?n:r}}).call(this,n(67))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeYouTubePlayer=t.initializeYouTubeAPI=void 0;var r=n(171);t.initializeYouTubeAPI=function(e){return new Promise((function(t,n){if(e.document.documentElement.querySelector('script[src*="www.youtube.com/iframe_api"].loaded'))t("already loaded");else{var r=e.document.createElement("script");r.src="https://www.youtube.com/iframe_api";var o=e.document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o),r.addEventListener("load",(function(e){e.currentTarget.classList.add("loaded"),t("api script tag created and loaded")}),!0),r.addEventListener("error",(function(e){n("Failed to load YouTube script: ",e)}))}}))},t.initializeYouTubePlayer=function(e){var t=e.container,n=e.win,o=e.videoId,i=e.startTime,a=e.speed,s=e.readyCallback,c=e.stateChangeCallback,u=(0,r.getPlayerElement)(t),l=function(){return new n.YT.Player(u,{videoId:o,playerVars:{autohide:1,autoplay:0,controls:0,enablejsapi:1,iv_load_policy:3,loop:0,modestbranding:1,playsinline:1,rel:0,showinfo:0,wmode:"opaque"},events:{onReady:function(e){!function(e,t){var n=e.target;n.iframe=n.getIframe(),n.mute(),n.ready=!0,n.seekTo(t<n.getDuration()?t:0),n.playVideo()}(e,i),s(e.target)},onStateChange:function(e){var t=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.target,i=(o.getDuration()-t)/r,a=function e(){o.getCurrentTime()+.1>=o.getDuration()&&(o.pauseVideo(),o.seekTo(t),o.playVideo()),requestAnimationFrame(e)};return e.data===n.YT.PlayerState.BUFFERING&&1!==o.getVideoLoadedFraction()&&(0===o.getCurrentTime()||o.getCurrentTime()>i- -.1)?"buffering":e.data===n.YT.PlayerState.PLAYING?(requestAnimationFrame(a),"playing"):void(e.data===n.YT.PlayerState.ENDED&&o.playVideo())}(e,i,n,a);c(t,t)}}})};return new Promise((function(e,t){!function t(){1===n.YT.loaded?e(l()):setTimeout(t,100)}()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t={container:e};return e.getAttribute("data-config-url")&&(t.url=e.getAttribute("data-config-url")),e.getAttribute("data-config-playback-speed")&&(t.playbackSpeed=e.getAttribute("data-config-playback-speed")),e.getAttribute("data-config-filter")&&(t.filter=e.getAttribute("data-config-filter")),e.getAttribute("data-config-filter-strength")&&(t.filterStrength=e.getAttribute("data-config-filter-strength")),t},e.exports=t.default},function(e,t,n){"use strict";var r=n(227),o=n(229);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){"use strict";n.r(t);n(237),n(238),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}();var r=n(15),o=n(5),i=n.n(o),a=n(16),s=function(e){var t=function(){"true"===i.a.getValue("tweak-blog-item-show-author-profile")&&a.a.loadLazy(e,{load:!0,mode:"cover"})};i.a.watch(["tweak-blog-item-show-author-profile"],t),t()},c=(n(4),n(6),n(2)),u=n(0),l=function(e){var t=function(){a.a.loadAllLazy({load:!0,mode:"cover"},e)},n=function(e){e.closest(".blog-item").classList.add("is-loaded")};return i.a.watch(["basicBlogGutter","basicBlogColumns","tweak-blog-basic-grid-image-aspect-ratio","tweak-blog-basic-grid-columns","tweak-blog-single-column-image-aspect-ratio","tweak-blog-side-by-side-image-aspect-ratio","tweak-blog-side-by-side-image-size","tweak-blog-alternating-side-by-side-image-aspect-ratio","tweak-blog-alternating-side-by-side-image-size","tweak-blog-grid-basic-gutter","tweak-blog-single-column-width"],(function(e){t()})),e.querySelectorAll("img").forEach((function(e){var t=n.bind(void 0,e);e.addEventListener("load",t)})),t(),c.a.on(t,u.e),{destroy:function(){c.a.off(t)}}},d=(n(27),n(7),n(3),n(11),n(12),n(32),n(22),n(9),n(33),n(25),n(26),n(20),n(19),n(8),n(21),n(13),n(10),n(1)),f=n(65),h=n(31);n(263),n(45),n(40),n(41);function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}var P=function(){function e(t){var n=t.node,r=t.imgWrapper,o=t.img,i=t.autoFitImage;O(this,e),this.node=n,this.imageWrapper=r,this.image=o,this.node.style.position="absolute",this.autoFitImage=i,i&&this.image&&(this.imageAspectRatio=Object(h.a)(this.image))}return E(e,[{key:"applyAspectRatio",value:function(e){var t=e.aspectRatio,n=(e.x,e.y,e.width),r=e.height;if(t<=0)return Object(f.a)(this.image,{width:"100%",top:"0%",left:"0%",transform:"none"}),void(this.imageWrapper.style.height="auto");var o=Math.ceil(n*(1/t));if(r/o<1){var i=o/r,a=Math.round(n*i);Object(f.a)(this.image,{width:"".concat(a,"px"),height:"".concat(o,"px")})}this.imageWrapper.style.height="".concat(o,"px")}},{key:"setPosition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(r=this.imageAspectRatio?this.imageAspectRatio:r,Object(f.a)(this.node,{width:"".concat(Math.round(n),"px"),transform:"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}),!this.autoFitImage||!this.image)return this.node.clientHeight;var o=Math.round(1/this.imageAspectRatio*n);return this.image.style.width="100%",this.image.style.height="".concat(o,"px"),this.imageWrapper&&this.applyAspectRatio({aspectRatio:r,x:e,y:t,width:n,height:o}),this.node.clientHeight}},{key:"clearPosition",value:function(){this.node.style.width="",this.node.style.transform="",this.autoFitImage&&this.image&&this.imageWrapper&&(this.image.style.width="",this.image.style.height="",this.imageWrapper.style.top="",this.imageWrapper.style.left="",this.imageWrapper.style.transform="")}}]),e}(),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,e);var t=b(n);function n(e){var r;O(this,n);var o=(r=t.call(this,e)).props,i=o.container,a=o.nodes,s=o.gutter,c=o.columns,u=o.isReadyClass,l=o.aspectRatio,d=o.horizontalGutter,f=o.verticalGutter;return r.state={columns:c,aspectRatio:l,horizontalGutter:isNaN(d)?s:d,verticalGutter:isNaN(f)?s:f,shouldApplyGutterToContainerEdge:!1},r.nodes=r.getNodes(a),r.len=r.nodes.length,r.layout(),setTimeout((function(){i.classList.add(u)}),0),r}return E(n,[{key:"getNodes",value:function(e){var t=this.props,n=t.imageWrapperSelector,r=t.imageSelector,o=t.autoFitImage,i=t.aspectRatio;return e.map((function(e){var t=e.querySelector(n),a=e.querySelectorAll(r)[0];return new P({node:e,imgWrapper:t,img:a,autoFitImage:o,aspectRatio:i})}))}},{key:"setStyles",value:function(){var e,t,n,r=this.props.container,o=this.state,i=o.columns,a=o.horizontalGutter,s=o.verticalGutter,c=o.aspectRatio,u=o.shouldApplyGutterToContainerEdge,l=(e=i,"function"==typeof(t=0)?new Array(e).fill("").map(t):new Array(e).fill(t)),d=r.clientWidth,f=d/100,h=a/20*f,m=s/20*f,v=0,y=(d+h)/i,g=y-h;u&&(v=h,g=(y=(d-h)/i)-h);for(var b=0;b<this.len;b+=1){var w=(n=l).indexOf(Math.min.apply(Math,p(n))),S=v+y*w,A=this.nodes[b].setPosition(S,l[w],g,c);l[w]+=A+m}r.style.height="".concat(l[function(e){return e.indexOf(Math.max.apply(Math,p(e)))}(l)]-m,"px")}},{key:"clearStyles",value:function(){this.props.container.style.height="";for(var e=0;e<this.len;e+=1)this.nodes[e].clearPosition()}},{key:"layout",value:function(e){e&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.setStyles()}},{key:"destroy",value:function(){this.clearStyles()}}]),n}(d.a);function T(){var e=window.matchMedia("(max-width: ".concat(u.g.md-1,"px)"));return e&&e.matches}A(k,"defaultProps",{container:document.createElement("div"),nodes:[],autoFitImage:!0,imageWrapperSelector:null,imageSelector:"img",aspectRatio:-1,gutter:0,columns:2,isReadyClass:"masonry-ready",horizontalGutter:void 0,verticalGutter:void 0});var C=function(e){var t,n=function(e){e.closest(".blog-item").classList.add("is-loaded")},r=function(){!function(){t&&(t.destroy(),t=null);var e=document.getElementById("BlogMasonryContainer");if(e){var n=Array.from(e.querySelectorAll(".blog-item")),r=T()?1:parseInt(i.a.getValue("tweak-blog-masonry-columns"),10);(t=new k({container:e,nodes:n,columns:r,horizontalGutter:parseInt(i.a.getValue("tweak-blog-masonry-horizontal-spacing"),10),verticalGutter:parseInt(i.a.getValue("tweak-blog-masonry-vertical-spacing"),10),imageWrapperSelector:".image-wrapper",shouldApplyGutterToContainerEdge:!1})).layout()}}(),a.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e)};return i.a.watch(["tweak-blog-masonry-horizontal-spacing","tweak-blog-masonry-vertical-spacing","tweak-blog-masonry-columns","tweak-blog-masonry-list-read-more-style","tweak-blog-masonry-image-spacing","tweak-blog-masonry-read-more-spacing","tweak-blog-masonry-width","tweak-blog-masonry-meta-spacing"],(function(e){r()})),e.querySelectorAll("img").forEach((function(e){e.addEventListener("load",n.bind(void 0,e))})),r(),c.a.on(r,u.e),{destroy:function(){c.a.off(r)}}},I=function(e){var t=function(){"true"===i.a.getValue("tweak-events-stacked-show-thumbnails")&&a.a.loadAllLazy({load:!0,mode:"content-fill"},e)};return i.a.watch(["tweak-events-stacked-show-thumbnails","tweak-events-stacked-thumbnail-size"],(function(e){t()})),t(),c.a.on(t,u.e),{destroy:function(){c.a.off(t)}}},j=(n(35),n(38),n(24));function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"addBlogMobileStyles",(function(e){n.isBlogMobileStylingEnabled&&(e.dataset.blogMobileStyles=!0)})),L(this,"addGalleryMobileStyles",(function(e){n.isGalleryMobileStylingEnabled&&(e.dataset.galleryMobileStyles=!0)})),L(this,"addSummaryBlockMobileStyles",(function(e){n.isSummaryBlockMobileStylingEnabled&&(e.dataset.summaryBlockMobileStyles=!0)})),L(this,"addMobileLogo",(function(e){n.isMobileHeaderEditingEnabled&&(e.dataset.mobileHeaderEditing=!0)})),L(this,"addMenuOverlayThemeSwitcher",(function(e){n.isMenuOverlayThemeSwitcherEnabled&&(e.dataset.menuOverlayThemeSwitcher=!0)})),L(this,"addMobileHeaderFontTweaks",(function(e){n.isMobileHeaderFontTweaksEnabled&&(e.dataset.mobileHeaderFontTweaks=!0)})),L(this,"addQuickViewLightboxColors",(function(e){n.isQuickViewLightboxColorsEnabled&&(e.dataset.quickViewLightboxColors=!0)})),L(this,"addUserItemsListCardThemes",(function(e){n.isUserItemsListCardThemesEnabled&&(e.dataset.userItemsListCardThemes=!0)})),this.node=t,this.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),this.isBlogMobileStylingEnabled=this.betaFeatureFlags.includes("seven-one-blog-mobile-styles"),this.isGalleryMobileStylingEnabled=this.betaFeatureFlags.includes("seven-one-gallery-mobile-styles"),this.isSummaryBlockMobileStylingEnabled=this.betaFeatureFlags.includes("seven-one-summary-block-mobile-styles"),this.isMobileHeaderEditingEnabled=this.betaFeatureFlags.includes("seven_one_header_editor_update"),this.isMenuOverlayThemeSwitcherEnabled=this.betaFeatureFlags.includes("seven-one-menu-overlay-theme-switcher"),this.isMobileHeaderFontTweaksEnabled=this.betaFeatureFlags.includes("seven-one-mobile-header-font-tweaks"),this.isQuickViewLightboxColorsEnabled=this.betaFeatureFlags.includes("seven-one-quick-view-lightbox-colors"),this.isUserItemsListCardThemesEnabled=this.betaFeatureFlags.includes("seven_one_list_section_card_themes"),this.addBlogMobileStyles(this.node),this.addGalleryMobileStyles(this.node),this.addSummaryBlockMobileStyles(this.node),this.addMobileLogo(this.node),this.addMenuOverlayThemeSwitcher(this.node),this.addMobileHeaderFontTweaks(this.node),this.addQuickViewLightboxColors(this.node),this.addUserItemsListCardThemes(this.node)},R=n(126),D=function(e){Object(R.a)().then((function(){var t=Object(j.a)(window,"Y.Squarespace.Singletons.ShoppingCart",null);t&&(t.on("item-added",(function(t){e.classList.remove("hidden")})),t.after("load",(function(t){t.target.get("totalQuantity")>0&&e.classList.remove("hidden")})))}))},M=n(23);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z={square:[1,1],standard:[3,2],"standard-vertical":[2,3],"four-three":[4,3],"three-four-vertical":[3,4],widescreen:[16,9],"anamorphic-widescreen":[2.4,1],"ultra-widescreen":[2.4,1]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toLowerCase();if("natural"===t)return-1;var n=t||"standard",r=z[n]||z.standard,o=F(r,2),i=o[0],a=o[1];return a/i},W=n(48);n(204),n(44),n(268),n(270);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(i,e);var t,n,r,o=Y(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),J(Q(t=o.call(this,e)),"onResize",(function(){var e=t.ref.image;a.a.loadLazy(e,H({load:!0,forceImageUpdate:!0},t.props.imageLoadMode)),t.calculateCaptionVerticalPositionFromTopOnMobile()}));var n=t.props,r=n.node,s=n.regionSelector,c=n.imageSelector,u=n.imageWrapperSelector,l=n.videoWrapperSelector,d=n.captionSelector;return t.state={},t.node=r,t.ref={region:r.querySelector(s),image:r.querySelector(c),caption:r.querySelector(d)},t.isVideo=null!==t.ref.image.closest(l),t.ref.wrapper=u?t.ref.image.closest(u):t.ref.image.parentNode,t.slideUrl=t.node.dataset.slideUrl,t.slideId=t.node.dataset.itemId,t.state=H(H({isActive:!1,isVideo:!1},Object(h.c)(t.ref.image)),{},{focalPoint:Object(h.b)(t.ref.image)}),t.activeTimeout=null,t.transitionTimeout=null,t.ref.image.onload=function(){t.ref.wrapper.dataset.loaded=!0,t.calculateCaptionVerticalPositionFromTopOnMobile()},t}return t=i,(n=[{key:"calculateCaptionVerticalPositionFromTopOnMobile",value:function(){var e=this.ref,t=e.image,n=e.caption,r=e.region;if(n&&T()){var o=r.clientHeight,i=o/2+t.clientHeight/2,a=Math.round(i/o*100);n.style.top="".concat(a,"%")}}},{key:"loadImage",value:function(){var e=this.ref.image;a.a.loadLazy(e,H({load:!0},this.props.imageLoadMode))}},{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.switchDelay;if(this.loadImage(),this.node.dataset.active=!1,this.node.dataset.next=e,this.node.dataset.static=n,this.node.parentNode&&this.node.parentNode.appendChild(this.node),this.setState({isActive:!0,isVideo:this.isVideo}),this.calculateCaptionVerticalPositionFromTopOnMobile(),clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout),n)return this.node.dataset.active=!0,void(this.node.dataset.in=!0);this.activeTimeout=setTimeout((function(){t.node.dataset.active=!0}),0),this.transitionTimeout=setTimeout((function(){t.node.dataset.in=!0}),r)}},{key:"remove",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.transitionDuration;if(this.node.dataset.next=!e,this.node.dataset.in=!1,this.node.dataset.static=n,clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout),n)return this.setState({isActive:!1}),void(this.node.dataset.active=!1);this.transitionTimeout=setTimeout((function(){t.setState({isActive:!1}),t.node.dataset.active=!1}),n?0:r)}},{key:"destroy",value:function(){clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout)}}])&&V(t.prototype,n),r&&V(t,r),i}(d.a);J(K,"defaultProps",{node:null,regionSelector:".gallery-slideshow-item-wrapper",imageSelector:"img",videoWrapperSelector:".sqs-video-wrapper",captionSelector:".gallery-caption-slideshow",isLightbox:!1,switchDelay:0,transitionDuration:500,imageLoadMode:{},isVideo:!1});var $=n(81),ee=function(e,t){var n,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=function(){return e.apply(void 0,o)};clearTimeout(n),n=setTimeout(a,t)};return r.cancel=function(){window.clearTimeout(n)},r},te=n(14);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(i,e);var t,n,r,o=se(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),de(ue(t=o.call(this,e)),"onSwipe",(function(e){console.log(e)})),de(ue(t),"getSlideIndexByUrlOrId",(function(e){return t.slides.findIndex((function(t){return t.slideId===e||t.slideUrl===e}))})),de(ue(t),"getSlides",(function(e,t){var n=t.regionSelector,r=t.imageSelector,o=t.switchDelay,i=t.transitionDuration,a=t.imageLoadMode,s=t.isInstant,c=t.imageWrapperSelector;return e.map((function(e){return new K({node:e,regionSelector:n,imageSelector:r,switchDelay:o,transitionDuration:i,imageLoadMode:a,isInstant:s,imageWrapperSelector:c})}))})),de(ue(t),"onDisableMove",(function(e){e.preventDefault()})),de(ue(t),"onPreviousSlide",(function(e){t.setTargetSlide(t.state.index-1,!1,!1,t.state.isInstant),e&&e.preventDefault&&e.preventDefault()})),de(ue(t),"onNextSlide",(function(e){t.setTargetSlide(t.state.index+1,!0,!1,t.state.isInstant),e&&e.preventDefault&&e.preventDefault()})),de(ue(t),"onCloseLightbox",(function(e){t.closeLightbox()})),de(ue(t),"keyCodeListener",(function(e){if(27===e.keyCode&&(t.closeLightbox(),e.stopPropagation()),39===e.keyCode){var n=t.state.index+1;t.setSlide(n,!1,t.state.isInstant)}if(37===e.keyCode){var r=t.state.index-1;t.setSlide(r,!1,t.state.isInstant)}})),de(ue(t),"initAutoplay",(function(e){t.autoplayInterval=setInterval((function(){var e=t.state.index+1;t.setSlide(e,!1,t.state.isInstant)}),e)})),de(ue(t),"onHistoryStateChange",(function(){var e=t.matchUrlToSlideIndex(),n=t.state.isLightboxOpen;-1===e&&n?t.closeLightbox({adjustHistory:!1}):e>-1&&!n&&t.openLightbox(e)})),de(ue(t),"onResize",(function(){var e=ue(t).sizedWrapper,n=t.state.aspectRatio;n&&(e.style.height="".concat(e.clientWidth*n,"px")),t.loadSlides()})),de(ue(t),"loadSlides",(function(){var e=t.state,n=e.index,r=e.thumbnailsEnabled,o=e.controls;if(-1!==n){var i;if(r||"bullets"===o)i=t.slides.map((function(e,t){return t}));else{var a=t.slides.length;i=[n,(a+n-1)%a,(a+n+1)%a]}i.forEach((function(e){return t.slides[e].loadImage()}))}}));var n=t.props,r=n.node,a=n.display,s=n.isHistoryEnabled,c=n.isLightbox,l=n.autoplayEnabled,d=n.slideDurationMs,f=n.slides,h=n.aspectRatio,p=n.isInstant,m=n.galleryHeight,v=n.galleryWidth,y=n.controls,g=n.thumbnailsEnabled,b=n.sizedWrapper,w=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null);return t.node=r,t.display=a||r,t.sizedWrapper=b||t.display,t.history=Object(W.a)(),t.state={collectionFullUrl:w,isHistoryEnabled:w&&s&&t.history,aspectRatio:h,autoplayEnabled:l,slideDurationMs:d,galleryHeight:m,galleryWidth:v,isInstant:p,controls:y,thumbnailsEnabled:g,index:0,previous:-1,isLightboxOpen:!1},t.onResize=ee(t.onResize,u.e),t.slides=t.getSlides(f,t.props),t.lightbox=t.node.querySelector(".gallery-lightbox"),t.state.index=t.matchUrlToSlideIndex(),t.autoplayInterval=null,t.len=t.slides.length,t.len?(t.swipe=new $.a({axis:"xy",node:t.display,onSwipeRight:t.onPreviousSlide,onSwipeLeft:t.onNextSlide,onSwipeUp:c&&t.onCloseLightbox}),t.bindListeners(),t.checkLightboxReady(),t.state.autoplayEnabled&&t.initAutoplay(t.state.slideDurationMs),t):ce(t)}return t=i,(n=[{key:"checkLightboxReady",value:function(){if(!this.props.isLightbox)return-1===this.state.index&&(this.state.index=0),void this.setTargetSlide(this.state.index);this.state.index>-1&&this.openLightbox(this.state.index)}},{key:"matchUrlToSlideIndex",value:function(){var e=this.state.collectionFullUrl;if(-1===!window.location.pathname.indexOf(e))return-1;var t=new URLSearchParams(window.location.search).get("itemId");return this.getSlideIndexByUrlOrId(t)}},{key:"bindListeners",value:function(){var e=this.props,t=e.isLightbox,n=e.buttonPrevious,r=e.buttonNext,o=e.buttonLightboxClose;n&&n.addEventListener("click",this.onPreviousSlide),r&&r.addEventListener("click",this.onNextSlide),t&&(this.lightbox.addEventListener("touchmove",this.onDisableMove),o&&o.addEventListener("click",this.onCloseLightbox),this.history&&this.history.change.on(this.onHistoryStateChange)),c.a.on(this.onResize)}},{key:"unbindListeners",value:function(){var e=this.props,t=e.isLightbox,n=e.buttonPrevious,r=e.buttonNext;n&&n.removeEventListener("click",this.onPreviousSlide),r&&r.removeEventListener("click",this.onNextSlide),t&&this.lightbox.removeEventListener("touchmove",this.onDisableMove),t&&this.history&&this.history.change.off(this.onHistoryStateChange),c.a.off(this.onResize)}},{key:"setSlide",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;e!==this.state.index&&this.setTargetSlide(e,e>this.state.index,t,n)}},{key:"setTargetSlide",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(e%this.len+this.len)%this.len,i=this.slides[this.state.previous],a=this.slides[o];i&&i.remove(t,r),this.setState({index:o,previous:o}),a.add(t,r),a.state.isVideo&&this.lightbox?this.lightbox.classList.add("video-slide"):this.lightbox&&this.lightbox.classList.remove("video-slide"),this.setUrl(a.slideUrl),n||this.props.onSetSlide(o,t,r),this.onResize()}},{key:"setUrl",value:function(e){var t=this.props.isLightbox,n=this.state.isHistoryEnabled;t&&n&&history.replaceState({},"","?itemId=".concat(e))}},{key:"openLightbox",value:function(e){if(!this.state.isLightboxOpen){var t=this.props.onLightboxOpen;this.setState({isLightboxOpen:!0}),this.lightbox.dataset.open=!0,document.addEventListener("keyup",this.keyCodeListener),t(),this.setTargetSlide(e,!0,!1,this.state.isInstant)}}},{key:"closeLightbox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adjustHistory,n=void 0===t||t,r=this.props.onLightboxClose;this.setState({index:-1,isLightboxOpen:!1}),n&&history.back(),this.lightbox.dataset.open=!1,document.removeEventListener("keyup",this.keyCodeListener),r()}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.autoplayEnabled!==e.autoplayEnabled&&(!0===e.autoplayEnabled?this.initAutoplay(e.slideDurationMs):this.autoplayInterval&&clearInterval(this.autoplayInterval)),this.state.slideDurationMs!==e.slideDurationMs&&(clearInterval(this.autoplayInterval),this.initAutoplay(e.slideDurationMs)),this.setState(oe({},e)),this.onResize()}},{key:"destroy",value:function(){this.unbindListeners(),this.autoplayInterval&&clearInterval(this.autoplayInterval),this.slides.forEach((function(e){return e.destroy()})),this.swipe&&this.swipe.destroy(),this.slides=[],this.len=0}}])&&ie(t.prototype,n),r&&ie(t,r),i}(d.a);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}de(fe,"defaultProps",{isLightbox:!1,node:document.createElement("div"),display:null,sizedWrapper:null,buttonNext:document.createElement("button"),buttonPrevious:document.createElement("button"),buttonLightboxClose:document.createElement("button"),aspectRatio:null,slides:[],isHistoryEnabled:!0,autoplayEnabled:!1,slideDurationMs:5e3,galleryHeight:75,galleryWidth:80,regionSelector:".gallery-slideshow-item-wrapper",imageSelector:"img",switchDelay:0,transitionDuration:1e3,isInstant:!1,onSetSlide:te.a,onLightboxOpen:te.a,onLightboxClose:te.a});var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,e);var t,n,r,o=we(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),xe(Ae(t=o.call(this)),"bindBulletNav",(function(){"bullets"===t.state.controls&&t.bullets.length>0&&t.bullets.forEach((function(e){e.node.addEventListener("click",(function(n){t.slideshow.setSlide(e.target-1,!1,!1)}))}))})),xe(Ae(t),"unbindBulletNav",(function(){t.bullets.length>0&&t.bullets.forEach((function(e){e.node.removeEventListener("click",(function(n){t.slideshow.setSlide(e.target-1,!1,!1)}))}))})),xe(Ae(t),"onSetSlide",(function(e){"bullets"===t.state.controls&&t.bullets.length>0&&t.bullets.forEach((function(t){var n=parseInt(t.target,10)===e+1;n?t.node.classList.add("active"):t.node.classList.remove("active"),t.node.setAttribute("aria-label",n?t.activeAltText:t.inactiveAltText)})),t.clickLinks.forEach((function(t){parseInt(t.getAttribute("data-target"),10)===e+1?t.classList.add("active"):t.classList.remove("active")}))})),xe(Ae(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.fullscreenSlideshowOptions,o=n.design,i=ye(ye(ye({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.viewportHeight!==t.state.viewportHeight||i.transition!==t.state.transition||i.controls!==t.state.controls||i.autoplayEnabled!==t.state.autoplayEnabled||i.slideDurationMs!==t.state.slideDurationMs)&&(t.setState(ye({},i)),t.node.dataset.transition=i.transition,t.node.dataset.controls=i.controls,t.node.dataset.autoplayEnabled=i.autoplayEnabled,t.node.style.height="".concat(i.viewportHeight,"vh"),t.node.dataset.height="".concat(i.viewportHeight>75?"L":i.viewportHeight>50?"M":"S"),t.slideshow.refresh(i),!0))})),xe(Ae(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),xe(Ae(t),"destroy",(function(){M.a.disconnect(t.sectionId,t.onSectionTweak),t.unbindBulletNav(),t.unbindListeners(),t.slideshow.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null);t.history=Object(W.a)();var r=t.props,a=r.listSelector,s=r.slideSelector,c=r.previousSelector,u=r.nextSelector,l={};e.dataset.props&&(l=JSON.parse(e.dataset.props)),t.state=ye({design:"fullscreenSlideshow",viewportHeight:75,transition:"fade",controls:"arrows",autoplayEnabled:!1,slideDurationMs:5e3,isHistoryEnabled:n&&t.history},l),t.node=e;var d=t.node.querySelectorAll(".gallery-fullscreen-slideshow-bullet");return t.bullets=pe(d).map((function(e){var t=e.querySelector(".js-slideshow-inactive-slide"),n=Object(j.a)(t,"innerText"),r=e.querySelector(".js-slideshow-active-slide"),o=Object(j.a)(r,"innerText");return{node:e,target:e.dataset.target,inactiveAltText:n||"",activeAltText:o||""}})),t.clickLinks=t.node.querySelectorAll(".gallery-click-through-link"),t.sectionId=t.node.dataset.sectionId,t.slideshow=new fe({node:t.node,display:t.node.querySelector(a),slides:Array.from(t.node.querySelectorAll(s)),buttonPrevious:t.node.querySelector(c),buttonNext:t.node.querySelector(u),aspectRatio:N(t.state.aspectRatio),regionSelector:".gallery-fullscreen-slideshow-item-wrapper",onSetSlide:t.onSetSlide.bind(Ae(t)),autoplayEnabled:t.state.autoplayEnabled,slideDurationMs:t.state.slideDurationMs,controls:t.state.controls,imageLoadMode:{mode:"fill",useAdvancedPositioning:!0,forceImageUpdate:!0},imageWrapperSelector:".gallery-fullscreen-slideshow-item-img"}),t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.bindBulletNav(),M.a.watch(t.sectionId,t.onSectionTweak),t.bindListeners(),t}return t=i,(n=[{key:"bindListeners",value:function(){var e=this;this.node.querySelectorAll(this.props.lightboxLinkSelector).forEach((function(t){t.addEventListener("click",e.onLightboxOpen)}))}},{key:"unbindListeners",value:function(){var e=this;this.node.querySelectorAll(this.props.lightboxLinkSelector).forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)}))}}])&&ge(t.prototype,n),r&&ge(t,r),i}(d.a);xe(Ee,"defaultProps",{listSelector:".gallery-fullscreen-slideshow-list",slideSelector:".gallery-fullscreen-slideshow-item",previousSelector:"[data-previous]",nextSelector:"[data-next]",lightboxLinkSelector:'.gallery-fullscreen-slideshow-item[data-video="true"] .gallery-fullscreen-slideshow-lightbox-link'});var Pe=n(74),ke=n.n(Pe);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(i,e);var t,n,r,o=je(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),De(_e(t=o.call(this,e)),"onNodeEnter",(function(e){var n=e.node,r=t.props,o=r.delay,i=r.stagger;n.__staggerEntered||(n.__staggerEntered=!0,n.__staggerTimeout=setTimeout((function(){t.props.onEnter(e)}),o+t.count*i),t.instant||(t.count+=1,t.count=Math.min(t.props.maxCount,t.count),t.countTimeout()))})),t.state={isActive:!1},t.count=0,t.baseTimeout=null,t.instant=!1,t.viewportWatcher=new ke.a,t}return t=i,(n=[{key:"start",value:function(){this.state.isActive||(this.setState({isActive:!0}),this.viewportWatcher.addNodes({nodes:this.props.nodes,range:[100,0],callbacks:{onEnter:this.onNodeEnter}}))}},{key:"countTimeout",value:function(){var e=this;clearTimeout(this.baseTimeout),this.baseTimeout=setTimeout((function(){e.count=0}),10)}},{key:"destroy",value:function(){this.viewportWatcher.destroy(),clearTimeout(this.baseTimeout),this.props.nodes.forEach((function(e){clearTimeout(e.__staggerTimeout)}))}}])&&Ce(t.prototype,n),r&&Ce(t,r),i}(d.a);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}De(Me,"defaultProps",{delay:50,stagger:50,maxCount:20,nodes:[],onEnter:te.a});var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=We(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(t=o.call(this,e)).props,r=n.gutter,a=n.columns,s=n.width;return t.state={gutter:r,columns:a,width:s},t.layout(),t}return t=i,(n=[{key:"setStyles",value:function(){var e=this.props.container,t=this.state,n=t.columns,r=t.gutter,o=t.width,i=r/20;"full"!==o&&"inset"!==o?e.setAttribute("style","grid-template-columns: repeat(".concat(n,", 1fr); grid-column-gap: ").concat(i,"vw; \n      grid-row-gap: ").concat(i,"vw; padding: 0vw ").concat(i,"vw; width: auto")):e.setAttribute("style","grid-template-columns: repeat(".concat(n,", 1fr); grid-column-gap: \n        ").concat(i,"vw; grid-row-gap: ").concat(i,"vw;\n        width: auto"))}},{key:"layout",value:function(e){e&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.setStyles()}},{key:"destroy",value:function(){}}])&&ze(t.prototype,n),r&&ze(t,r),i}(d.a);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}He(Ve,"defaultProps",{container:document.createElement("div"),gutter:0,columns:2,width:"full-bleed"});var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(i,e);var t,n,r,o=Je(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),tt($e(t=o.call(this)),"loadImage",(function(e){var n=t.props.imageSelector,r=e.querySelector(n);r.onload=function(){e.dataset.loaded=!0},a.a.loadLazy(r,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),tt($e(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),tt($e(t),"onResize",(function(){var e=t.getColumnData(t.state.numColumns,t.state.gutter);t.packer.layout(Xe(Xe({},e),{},{width:t.node.dataset.width})),t.loadImages(t.ref.items)})),tt($e(t),"onItemShow",(function(e){var t=e.node;t.dataset.show||(t.dataset.show=!0)})),tt($e(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.gridOptions,o=n.design,i=Xe(Xe(Xe({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.gutter!==t.state.gutter||i.width!==t.state.width||i.numColumns!==t.state.numColumns)&&(t.setState(Xe({},i)),t.node.dataset.tweaking=!0,t.node.dataset.width=i.width,clearTimeout(t.tweakTimeout),t.tweakTimeout=setTimeout((function(){t.node.dataset.tweaking=!1}),100),t.onResize(),!0))})),tt($e(t),"destroy",(function(){clearTimeout(t.tweakTimeout),t.unbindListeners(),t.stagger.destroy(),t.packer.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.itemSelector,c=n.imageSelector,l=n.lightboxLinkSelector,d=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),f={};return e.dataset.props&&(f=JSON.parse(e.dataset.props)),t.history=Object(W.a)(),t.node=e,t.sectionId=t.node.dataset.sectionId,t.state=Xe({design:"grid",collectionFullUrl:d,isHistoryEnabled:d&&t.history,numColumns:3,gutter:20,width:"full",lightboxEnabled:!1},f),t.ref={list:t.node.querySelector(r),items:Array.from(t.node.querySelectorAll(s)),lightboxLinks:Array.from(t.node.querySelectorAll(l)),images:Array.from(t.node.querySelectorAll("".concat(s," ").concat(c)))},t.onResize=ee(t.onResize,u.e),t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.stagger=new Me({nodes:t.ref.items,onEnter:t.onItemShow}),t.packer=new Ve(Xe(Xe({container:t.ref.list},t.getColumnData(t.state.numColumns,t.state.gutter)),{},{width:t.node.dataset.width})),t.node.dataset.lightbox=t.state.lightboxEnabled,t.tweakTimeout=null,t.bindListeners(),t}return t=i,(n=[{key:"getColumnData",value:function(e,t){return{columns:Object(h.d)(e),gutter:t}}},{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.addEventListener("click",e.onLightboxOpen)})),M.a.watch(this.sectionId,this.onSectionTweak),c.a.on(this.onResize),this.stagger.start(),this.onResize()}},{key:"unbindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)})),M.a.disconnect(this.sectionId,this.onSectionTweak),c.a.off(this.onResize)}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(d.a);tt(nt,"defaultProps",{listSelector:".gallery-grid-wrapper",itemSelector:".gallery-grid-item",lightboxLinkSelector:".gallery-grid-lightbox-link",imageSelector:"img",loadedItemClass:""});function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(i,e);var t,n,r,o=ct(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ft(lt(t=o.call(this)),"loadImage",(function(e){var n=t.props.imageSelector,r=e.querySelector(n);r.onload=function(){e.dataset.loaded=!0},a.a.loadLazy(r,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),ft(lt(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),ft(lt(t),"onResize",(function(){var e=t.getColumnData(t.state.numColumns,t.state.gutter),n="full-bleed"===t.node.dataset.width;t.packer.layout(it(it({},e),{},{shouldApplyGutterToContainerEdge:n})),t.loadImages(t.ref.items)})),ft(lt(t),"onItemShow",(function(e){var t=e.node;t.dataset.show||(t.dataset.show=!0)})),ft(lt(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.masonryOptions,o=n.design,i=it(it(it({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.gutter!==t.state.gutter||i.width!==t.state.width||i.numColumns!==t.state.numColumns)&&(t.setState(i),t.node.dataset.tweaking=!0,t.node.dataset.width=i.width,clearTimeout(t.tweakTimeout),t.tweakTimeout=setTimeout((function(){t.node.dataset.tweaking=!1}),100),t.onResize(),!0))})),ft(lt(t),"destroy",(function(){clearTimeout(t.tweakTimeout),t.unbindListeners(),t.stagger.destroy(),t.packer.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.itemSelector,c=n.lightboxLinkSelector,l=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),d={};return e.dataset.props&&(d=JSON.parse(e.dataset.props)),t.history=Object(W.a)(),t.node=e,t.sectionId=t.node.dataset.sectionId,t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.state=it({design:"masonry",collectionFullUrl:l,isHistoryEnabled:l&&t.history,numColumns:3,gutter:10,lightboxEnabled:!1,width:"full"},d),t.ref={list:t.node.querySelector(r),items:Array.from(t.node.querySelectorAll(s)),lightboxLinks:Array.from(t.node.querySelectorAll(c))},t.onResize=ee(t.onResize,u.e),t.stagger=new Me({nodes:t.ref.items,onEnter:t.onItemShow}),t.packer=new k(it({container:t.ref.list,nodes:t.ref.items,imageWrapperSelector:".gallery-masonry-item-wrapper",isReadyClass:"gallery-masonry-list--ready",shouldApplyGutterToContainerEdge:"full-bleed"===t.node.dataset.width},t.getColumnData(t.state.numColumns,t.state.gutter))),t.node.dataset.lightbox=t.state.lightboxEnabled,t.tweakTimeout=null,t.bindListeners(),t}return t=i,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.addEventListener("click",e.onLightboxOpen)})),M.a.watch(this.sectionId,this.onSectionTweak),c.a.on(this.onResize),this.stagger.start(),this.onResize()}},{key:"unbindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)})),M.a.disconnect(this.sectionId,this.onSectionTweak),c.a.off(this.onResize)}},{key:"getColumnData",value:function(e,t){var n=Object(h.d)(e),r=Object(h.e)(t);return{columns:n,horizontalGutter:r,verticalGutter:r}}}])&&at(t.prototype,n),r&&at(t,r),i}(d.a);ft(ht,"defaultProps",{listSelector:".gallery-masonry-wrapper",itemSelector:".gallery-masonry-item",lightboxLinkSelector:".gallery-masonry-lightbox-link",imageSelector:"img",loadedItemClass:"loaded"});var pt=n(17);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?Ot(e):t}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(i,e);var t,n,r,o=St(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Et(Ot(t=o.call(this,e)),"loadImages",(function(){t.state.isImagesLoad||(t.setState({isImagesLoad:!0}),t.node.querySelectorAll("img").forEach((function(e){t.loadImage(e)})))})),Et(Ot(t),"loadImage",(function(e){e.onload=function(){e.dataset.loaded=!0},a.a.loadLazy(e,{load:!0,mode:"content-fill",useAdvancedPositioning:!0})})),Et(Ot(t),"getThumbnails",(function(e){return e.map((function(e){var t=e.querySelector(".js-slideshow-inactive-slide"),n=Object(j.a)(t,"innerText"),r=e.querySelector(".js-slideshow-active-slide"),o=Object(j.a)(r,"innerText");return{node:e,image:e.querySelector("img"),x:0,width:0,inactiveAltText:n||"",activeAltText:o||""}}))})),Et(Ot(t),"onPress",(function(e){if(!(t.state.isInteracting||"number"==typeof e.button&&0!==e.button)){var n=Object(pt.d)(e).clientX;t.target.x=t.pos.x,t.drag.start.x=n,t.drag.active.x=n,t.drag.moved.x=0,t.velocity.x=0,clearTimeout(t.clickDisabledTimeout),t.setState({isInteracting:!0}),document.addEventListener(pt.a.move,t.onMove),pt.a.release.forEach((function(e){document.addEventListener(e,t.onRelease)}))}})),Et(Ot(t),"onMove",(function(e){var n=t.props,r=n.dragThreshold,o=n.onDragStart,i=Object(pt.d)(e).clientX;t.state.isDragging||(o(),t.setState({isDragging:!0}),t.node.dataset.dragging=!0,t.update()),e.preventDefault(),e.stopPropagation(),t.drag.moved.x=i-t.drag.active.x,t.drag.active.x=i,t.target.x+=t.drag.moved.x,t.velocity.x+=.2*t.drag.moved.x,t.velocity.then=Date.now(),!t.state.isClickDisabled&&Math.abs(i-t.drag.start.x)>r&&t.setState({isClickDisabled:!0})})),Et(Ot(t),"onRelease",(function(e){var n=t.props.onDragEnd,r=Date.now();n(),t.node.dataset.dragging=!1,r-t.velocity.then>50&&(t.velocity.x=0),t.setState({isInteracting:!1,isDragging:!1}),document.removeEventListener(pt.a.move,t.onMove),pt.a.release.forEach((function(e){document.removeEventListener(e,t.onRelease)})),clearTimeout(t.clickDisabledTimeout),t.clickDisabledTimeout=setTimeout((function(){t.setState({isClickDisabled:!1})}),200)})),Et(Ot(t),"onSelectThumbnail",(function(e){if(!t.state.isClickDisabled){var n=t.props.thumbnails.indexOf(e.target);-1!==n&&(t.velocity.x=0,t.setTargetThumbnail(n),t.update())}})),Et(Ot(t),"onResize",(function(){for(var e=t.props,n=e.node,r=e.scroller,o=e.loadImages,i=n.clientWidth,a=r.clientWidth,s=Math.min(i,a),c=0;c<t.len;c+=1){var u=t.thumbnails[c];u.x=u.node.offsetLeft,u.width=u.node.clientWidth}t.setState({regionWidth:s,maxX:.5*s-.5*t.thumbnails[0].width,minX:.5*s-a+.5*t.thumbnails[t.thumbnails.length-1].width}),t.update(),o&&t.loadImages()})),Et(Ot(t),"update",(function(){var e=t.state,n=e.maxX,r=e.minX;cancelAnimationFrame(t.frame),t.state.isDragging?(t.pos.x=t.target.x,t.pos.x>n&&(t.pos.x=n+.2*(t.target.x-n)),t.pos.x<r&&(t.pos.x=r-.2*(r-t.target.x)),t.updateTargetItem(),t.frame=requestAnimationFrame(t.update)):(t.target.x>n&&(t.target.x=n),t.target.x<r&&(t.target.x=r),t.target.x+=t.velocity.x,t.pos.x+=.2*(t.target.x-t.pos.x),Math.abs(t.pos.x-t.target.x)>.01&&(t.frame=requestAnimationFrame(t.update))),t.velocity.x*=.9,Math.abs(t.velocity.x)>.1&&t.updateTargetItem(),t.props.scroller.style.transform="matrix(1, 0, 0, 1, ".concat(t.pos.x,", 0)");var o,i=t.props.node.getBoundingClientRect(),a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=yt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.thumbnails);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.node.getBoundingClientRect();c.left+c.width<=i.left||c.left>=i.left+i.width?s.node.tabIndex=-1:s.node.tabIndex=0}}catch(e){a.e(e)}finally{a.f()}}));var n=t.props,r=n.node,s=n.thumbnails,c=r.clientWidth;return t.state={regionWidth:0,maxX:0,minX:0,index:-1,isImagesLoad:!1,isInteracting:!1,isDragging:!1,isClickDisabled:!1},t.node=r,t.target={x:.5*c},t.drag={start:{x:0},active:{x:0},moved:{x:0}},t.pos={x:.5*c},t.velocity={then:Date.now(),x:0},t.thumbnails=t.getThumbnails(s),t.len=t.thumbnails.length,t.frame=null,t.clickDisabledTimeout=null,t.len?(t.onResize=ee(t.onResize,200),t.onResize(),t.bindListeners(),t):At(t)}return t=i,(n=[{key:"bindListeners",value:function(){this.node.addEventListener(pt.a.press,this.onPress),this.node.addEventListener("click",this.onSelectThumbnail),c.a.on(this.onResize)}},{key:"unbindListeners",value:function(){var e=this;this.node.removeEventListener(pt.a.press,this.onPress),document.removeEventListener(pt.a.move,this.onMove),pt.a.release.forEach((function(t){document.removeEventListener(t,e.onRelease)})),this.node.removeEventListener("click",this.onSelectThumbnail),c.a.off(this.onResize)}},{key:"setThumbnail",value:function(e){this.setTargetThumbnail(e,!0),this.update()}},{key:"setTargetThumbnail",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.thumbnails[e],o=0;o<this.len;o+=1){var i=this.thumbnails[o],a=o===e;i.node.dataset.active=a,i.image.alt=a?i.activeAltText:i.inactiveAltText}this.setState({index:e}),t||this.props.onSetThumbnail(e,n),r&&!this.state.isDragging&&(this.target.x=-r.x-.5*r.width+.5*this.state.regionWidth)}},{key:"refresh",value:function(){this.len&&this.onResize()}},{key:"updateTargetItem",value:function(){var e=this.pos.x-.5*this.state.regionWidth,t=this.thumbnails.map((function(t){var n=t.x,r=t.width;return Math.sqrt(Math.pow(-n-.5*r-e,2))})),n=t.indexOf(Math.min.apply(Math,vt(t)));n!==this.state.index&&this.setTargetThumbnail(n,!1,!0)}},{key:"destroy",value:function(){this.unbindListeners(),clearTimeout(this.clickDisabledTimeout),cancelAnimationFrame(this.frame)}}])&&bt(t.prototype,n),r&&bt(t,r),i}(d.a);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?Rt(e):t}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Et(Pt,"defaultProps",{node:document.createElement("div"),scroller:document.createElement("div"),thumbnails:[],dragThreshold:10,loadImages:!0,onSetThumbnail:te.a,onDragStart:te.a,onDragEnd:te.a});var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(a,e);var t,n,r,o=Lt(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Mt(Rt(t=o.call(this)),"onSetSlide",(function(e){t.thumbnailScroller.setThumbnail(e),t.clickLinks.forEach((function(t){parseInt(t.getAttribute("data-target"),10)===e+1?t.classList.add("active"):t.classList.remove("active")}))})),Mt(Rt(t),"onSetThumbnail",(function(e,n){return t.slideshow.setSlide(e,n)})),Mt(Rt(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.slideshowOptions,o=n.design,i=Ct(Ct(Ct({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.transition!==t.state.transition||i.controlsLocation!==t.state.controlsLocation||i.thumbnailsEnabled!==t.state.thumbnailsEnabled||i.autoplayEnabled!==t.state.autoplayEnabled||i.slideDurationMs!==t.state.slideDurationMs||i.galleryHeight!==t.state.galleryHeight||i.galleryWidth!==t.state.galleryWidth)&&(t.setState(Ct({},i)),"none"===i.transition||"none"===t.state.transition?(i.isInstant=!0,t.setState({isInstant:!0})):(i.isInstant=!1,t.setState({isInstant:!1})),t.refreshSlideshowDOM(i),!0))})),Mt(Rt(t),"resizeSlideshowContainer",(function(e){var n=e.galleryHeight,r=e.galleryWidth,o=i.a.getValue("pagePadding"),a=i.a.getValue("maxPageWidth");t.node.style.height="calc(".concat(n,"vh + (").concat(o," * 2))"),t.node.style.maxWidth="calc(".concat(a," * (").concat(r/100,"))")})),Mt(Rt(t),"destroy",(function(){M.a.disconnect(t.sectionId,t.onSectionTweak),t.slideshow.destroy(),t.thumbnailScroller.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.wrapperSelector,c=n.slideSelector,u=n.previousSelector,l=n.nextSelector,d=n.thumbnailsContainerSelector,f=n.thumbnailsScrollerSelector,h=n.thumbnailSelector,p={};return e.dataset.props&&(p=JSON.parse(e.dataset.props)),t.state=Ct({design:"slideshow",transition:"fade",controlsLocation:"side",thumbnailsEnabled:!0,autoplayEnabled:!1,slideDurationMs:5e3,galleryHeight:75,galleryWidth:80,isInstant:!1},p),t.node=e,t.clickLinks=t.node.querySelectorAll(".gallery-click-through-link"),t.sectionId=t.node.dataset.sectionId,t.thumbnailNodes=Array.from(t.node.querySelectorAll(h)),t.thumbnailScroller=new Pt({node:t.node.querySelector(d),scroller:t.node.querySelector(f),thumbnails:t.thumbnailNodes,loadImages:!0,onSetThumbnail:t.onSetThumbnail}),"none"===t.state.transition?t.state.isInstant=!0:t.state.isInstant=!1,t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.resizeSlideshowContainer(t.state),t.slideshow=new fe({node:t.node,display:t.node.querySelector(r),sizedWrapper:t.node.querySelector(s),slides:Array.from(t.node.querySelectorAll(c)),buttonPrevious:t.node.querySelector(u),buttonNext:t.node.querySelector(l),aspectRatio:N("standard"),onSetSlide:t.onSetSlide,autoplayEnabled:t.state.autoplayEnabled,slideDurationMs:t.state.slideDurationMs,galleryHeight:t.state.galleryHeight,galleryWidth:t.state.galleryWidth,isInstant:t.state.isInstant,thumbnailsEnabled:t.state.thumbnailsEnabled,imageLoadMode:{mode:"content-fit"},imageWrapperSelector:".gallery-slideshow-item-img"}),M.a.watch(t.sectionId,t.onSectionTweak),i.a.watch(["pagePadding","maxPageWidth"],(function(){return t.refreshSlideshowDOM(t.state)})),t}return t=a,(n=[{key:"refreshSlideshowDOM",value:function(e){this.node.dataset.transition=e.transition,this.node.dataset.controlsLocation=e.controlsLocation,this.node.dataset.thumbnails=e.thumbnailsEnabled,this.resizeSlideshowContainer(e),this.thumbnailScroller.refresh(e),this.slideshow.refresh(e)}}])&&It(t.prototype,n),r&&It(t,r),a}(d.a);Mt(Ft,"defaultProps",{listSelector:".gallery-slideshow-list",wrapperSelector:".gallery-slideshow-wrapper",slideSelector:".gallery-slideshow-item",previousSelector:"[data-previous]",nextSelector:"[data-next]",thumbnailSelector:".gallery-slideshow-thumbnails-thumb",thumbnailsContainerSelector:".gallery-slideshow-thumbnails",thumbnailsScrollerSelector:".gallery-slideshow-thumbnails-scroll"});function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}var Xt=function(){function e(t){var n=t.node,r=t.img;Vt(this,e),this.node=n,this.image=r,this.aspectRatio=Object(h.a)(this.image),this.node.style.position="absolute"}return Yt(e,[{key:"getWidth",value:function(e){return Math.round(this.aspectRatio*e)}},{key:"setPosition",value:function(e,t,n){var r=this.aspectRatio*n;return this.node.style.transform="matrix(1, 0, 0, 1, ".concat(e,", ").concat(t,")"),this.node.style.width="".concat(Math.round(r),"px"),this.image.style.height="".concat(n,"px"),{width:r,height:this.node.clientHeight}}}]),e}(),Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(n,e);var t=Wt(n);function n(e){var r;Vt(this,n);var o=(r=t.call(this,e)).props,i=o.container,a=o.nodes,s=o.gutter,c=o.rowTargetHeight,u=o.isReadyClass;return r.state={gutter:s,rowTargetHeight:c},r.nodes=r.getNodes(a),r.len=r.nodes.length,r.layout(),setTimeout((function(){i.classList.add(u)}),0),r}return Yt(n,[{key:"getNodes",value:function(e){var t=this.props.imageSelector;return e.map((function(e){var n=e.querySelectorAll(t)[0];return new Xt({node:e,img:n})}))}},{key:"positionRow",value:function(e,t,n){for(var r=this.state.gutter,o=0,i=0,a=0,s=e.length;a<s;a+=1){var c=e[a].setPosition(o,t,n);o+=c.width+r,i=Math.max(i,c.height)}return i}},{key:"setStyles",value:function(){var e,t,n=this.props.container,r=this.state,o=r.gutter,i=r.rowTargetHeight,a=n.clientWidth,s=a+o+.25*i,c=[{items:[],rowWidth:0}],u=0;for(e=0;e<this.len;e+=1){var l=c[u],d=this.nodes[e],f=d.getWidth(i);l.rowWidth+f>s&&(c.push({items:[],rowWidth:0}),l=c[u+=1]),l.items.push(d),l.rowWidth+=f}var h=0;if(a>500&&c.length>1&&1===c[c.length-1].items.length&&c[c.length-2].items.length>1){var p=c[c.length-1],m=c[c.length-2];m.items.push(p.items[0]),m.rowWidth+=p.items[0].getWidth(i),c.pop()}for(e=0,t=c.length;e<t;e+=1){var v=c[e],y=Math.round((a-o*(v.items.length-1))/v.rowWidth*i);h+=this.positionRow(v.items,h,y)+o}n.style.height="".concat(h-o,"px")}},{key:"layout",value:function(e){e&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.setStyles()}},{key:"destroy",value:function(){}}]),n}(d.a);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=on(e);if(t){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}function nn(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?rn(e):t}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ht(Qt,"defaultProps",{container:document.createElement("div"),nodes:[],imageSelector:"img",gutter:0,rowTargetHeight:300,isReadyClass:"masonry-ready"});var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(i,e);var t,n,r,o=tn(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),an(rn(t=o.call(this)),"loadImage",(function(e){var n=t.props.imageSelector,r=e.querySelector(n);r.onload=function(){e.dataset.loaded=!0},a.a.loadLazy(r,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),an(rn(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),an(rn(t),"onResize",(function(){return t.packer.layout({gutter:Object(h.e)(t.state.gutter)})})),an(rn(t),"onItemShow",(function(e){var t=e.node;t.dataset.show||(t.dataset.show=!0)})),an(rn(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.stripOptions,o=n.design,i=Kt(Kt(Kt({},t.state),r),{},{design:o});if(i.design!==t.state.design)return!1;if(i.gutter!==t.state.gutter||i.width!==t.state.width||i.rowHeight!==t.state.rowHeight){t.setState(Kt({},i));var a={gutter:Object(h.e)(i.gutter),rowTargetHeight:i.rowHeight};return t.node.dataset.tweaking=!0,t.node.dataset.width=i.width,t.node.dataset.lightbox=i.lightboxEnabled,clearTimeout(t.tweakTimeout),t.tweakTimeout=setTimeout((function(){t.node.dataset.tweaking=!1}),100),t.packer.layout(a),!0}return!1})),an(rn(t),"destroy",(function(){clearTimeout(t.tweakTimeout),t.unbindListeners(),t.stagger.destroy(),t.packer.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.itemSelector,c=n.lightboxLinkSelector,l=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),d={};return e.dataset.props&&(d=JSON.parse(e.dataset.props)),t.history=Object(W.a)(),t.node=e,t.sectionId=t.node.dataset.sectionId,t.state=Kt({design:"strips",collectionFullUrl:l,isHistoryEnabled:l&&t.history,gutter:Object(h.e)(20),rowHeight:300,lightboxEnabled:!1,width:"full"},d),t.ref={list:t.node.querySelector(r),items:Array.from(t.node.querySelectorAll(s)),lightboxLinks:Array.from(t.node.querySelectorAll(c))},t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.onResize=ee(t.onResize,u.e),t.stagger=new Me({nodes:t.ref.items,onEnter:t.onItemShow}),t.packer=new Qt({container:t.ref.list,nodes:t.ref.items,isReadyClass:"gallery-strips-list--ready",gutter:t.state.gutter,rowTargetHeight:t.state.rowHeight}),t.node.dataset.lightbox=t.state.lightboxEnabled,t.tweakTimeout=null,t.loadImages(t.ref.items),t.bindListeners(),t}return t=i,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.addEventListener("click",e.onLightboxOpen)})),M.a.watch(this.sectionId,this.onSectionTweak),c.a.on(this.onResize),this.stagger.start(),this.onResize()}},{key:"unbindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)})),M.a.disconnect(this.sectionId,this.onSectionTweak),c.a.off(this.onResize)}}])&&$t(t.prototype,n),r&&$t(t,r),i}(d.a);an(sn,"defaultProps",{listSelector:".gallery-strips-wrapper",itemSelector:".gallery-strips-item",lightboxLinkSelector:".gallery-strips-lightbox-link",imageSelector:"img",loadedItemClass:""});n(79),n(142),n(100),n(120),n(115),n(93),n(114),n(71);function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un,ln,dn,fn=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cn(this,"prepare",(function(){n.node.classList.add("animation-segment-parent-hidden")})),cn(this,"bind",(function(){if(!n.viewportWatcher)return console.warn("No viewport watcher available for",n.node),void n.node.classList.remove("animation-segment-parent-hidden");n.viewportWatcher.addNodes({nodes:[n.node],range:n.viewportRange,callbacks:{onEnter:n.enteredViewport}})})),cn(this,"unbind",(function(){n.viewportWatcher.removeNodes([n.node])})),cn(this,"enteredViewport",(function(){n.hasRevealed||(n.hasRevealed=!0,n.install(),n.node.offsetTop,n.play())})),cn(this,"install",(function(){n.originalHTML=n.node.innerHTML,n.node.innerHTML=n.node.innerHTML.replace("&nbsp;"," ").split(" ").map((function(e,t){return'<div\n        class="animation-segment-wrapper animation-segmented-flex-primed"><div\n          class="animation-segment-interior"\n          style="\n            transition-duration: '.concat(n.duration,";\n            transition-timing-function: ").concat(n.easingFunction,";\n            transition-delay: ").concat(20*t,'ms;\n          ">').concat(e,"</div></div>")})).join(" "),n.node.classList.remove("animation-segment-parent-hidden")})),cn(this,"onSegmentTransitionEnd",(function(e){"transform"===e.propertyName&&(e.target.removeEventListener("transitionend",n.onSegmentTransitionEnd),e.target.removeEventListener("transitioncancel",n.onSegmentTransitionEnd),n.completedTransitionCount++,n.completedTransitionCount>=n.expectedTransitions&&n.uninstall())})),cn(this,"play",(function(){n.expectedTransitions=n.node.children.length,n.completedTransitionCount=0,n.node.children.forEach((function(e){e.addEventListener("transitionend",n.onSegmentTransitionEnd),e.addEventListener("transitioncancel",n.onSegmentTransitionEnd),e.classList.add("animation-segmented-flex-fired")}))})),cn(this,"uninstall",(function(){n.unbind(),n.hasRevealed&&(n.node.innerHTML=n.originalHTML,n.hasRevealed=!1)})),this.node=t.node,this.hasRevealed=!1,this.viewportWatcher=t.viewportWatcher,this.viewportRange=t.viewportRange||[100,0],this.easingFunction=t.easingFunction,this.duration=t.duration};function hn(e){return function(e){if(Array.isArray(e))return mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cn(fn,"isSegmentable",(function(e){return 0===e.children.length&&!!e.innerText.trim()}));var yn,gn,bn,wn,Sn,An,On,xn,En=new(n(74)),Pn=[100,0],kn="fade",Tn="scale",Cn="slide",In="clip",jn="flex",Ln="none",_n=(vn(un={},kn,"preFade"),vn(un,Tn,"preScale"),vn(un,Cn,"preSlide"),vn(un,In,"preClip"),vn(un,jn,"preFlex"),un),Rn=(vn(ln={},kn,"fadeIn"),vn(ln,Tn,"scaleIn"),vn(ln,Cn,"slideIn"),vn(ln,In,"clipIn"),vn(ln,jn,"flexIn"),ln),Dn='[data-animation-role="image"]:not([data-animation-override])',Mn='[data-animation-role="button"]',Fn='[data-animation-role="header-element"]',Bn='[data-animation-role="content"]',zn='[data-animation-role="section"]',Nn='[data-animation-role="quote"]:not([data-animation-override])',Wn='[data-animation-role="video"]',Un=".gallery-slideshow",qn=".image-button-wrapper",Hn="footer .sqs-block-content",Vn=".grid-item",Gn=".form-wrapper",Yn=".menu-wrapper",Xn=".acuity-block-wrapper",Qn=".sqs-block-soundcloud iframe",Zn=".sqs-video-wrapper",Jn=".sqs-block-calendar .sqs-block-content",Kn=".chart-block-container",$n=".tweet-list .tweet",er=(vn(dn={},kn,["h1","h2","h3","h4","h5","p",Un,Hn,Dn,Mn,Fn,Bn,'[data-animation-role="date"]',zn,Nn,Wn]),vn(dn,Tn,["h1","h2","h3",Un,Hn,Dn,Nn,Wn,zn,Fn]),vn(dn,Cn,["h1","h2","h3",Un,Hn,Dn,Nn,Wn,zn,Fn,Mn]),vn(dn,In,[Un,Hn,Dn,Wn]),vn(dn,jn,["h1","h2","h3","h4","p",Un,Vn,Gn,Yn,Xn,Qn,Zn,Jn,Kn,$n,Dn,Fn,Bn,Mn,qn]),dn),tr=["h1","h2","h3"],nr=[Fn,Vn,$n],rr=function(e){return xn.some((function(t){return e.matches(t)}))},or=function(e,t){rr(e.node)?e.node.classList.add(Rn[kn]):e.node.classList.add(Rn[On])},ir={},ar={},sr=function(e,t){return new Promise((function(n,r){var o=window.requestAnimationFrame((function(){if(delete ir[o],0===e)n(t);else{var r=window.setTimeout((function(){delete ar[r],n(t)}),e);ar[r]=r}}));ir[o]=o}))};window.addEventListener("beforeunload",(function(){Object.keys(ir).forEach((function(e){return window.cancelAnimationFrame(e)})),Object.keys(ar).forEach((function(e){return window.clearTimeout(e)}))}));var cr=function(){if(0===yn.length)return Promise.resolve();for(var e=0;e<yn.length;e++){var t,n=yn[e];n.style.transitionTimingFunction="",n.style.transitionDuration="",n.style.transitionDelay="",(t=n.classList).remove.apply(t,hn(Object.values(Rn)).concat(hn(Object.values(_n))))}return En.removeNodes(yn),yn=[],gn.forEach((function(e){e.uninstall()})),gn=[],xn=[],sr(0)},ur=function(e){return(!(t=e.closest(".image-block-outer-wrapper"))||!t.querySelector("[data-animation-override]"))&&!e.matches(".form-wrapper.hidden");var t},lr=function(){var e=function(){var e=er[On];if(On!==kn){var t=e.map((function(e){return e.trim()}));xn=er[kn].filter((function(e){return"string"==typeof e&&!t.includes(e.trim())}))}var n=document.body.querySelectorAll([].concat(e,xn).join(","));return Array.from(n).filter(ur)}(),t=[],n=[],r=tr.join(",");return e.forEach((function(e){if(On===jn&&e.matches(r)&&fn.isSegmentable(e)){var o=new fn({node:e,viewportWatcher:En,viewportRange:Pn,duration:Sn,easingFunction:bn});o.prepare(),n.push(o)}else t.push(e)})),!t.length&&!n.length||On===Ln?Promise.reject():(yn=t,gn=n,Promise.resolve({directTargets:t,segmentables:n}))},dr=function(e,t){return t.directTargets.forEach((function(e){var t=rr(e)?_n[kn]:_n[On];e.classList.add(t)})),document.body.dataset.animationState="booted",sr(e?350:0,t)},fr=function(e){var t,n=(t=e.directTargets.length,Number(An.substring(0,An.length-1))/t),r=nr.join(", ");return e.directTargets.forEach((function(e,t){On===jn?(e.style.transitionTimingFunction=wn,e.style.transitionDuration=Sn,r&&e.matches(r)&&(e.style.transitionDelay=t*n+"s")):(e.style.transitionTimingFunction=bn,e.style.transitionDuration=Sn,e.style.transitionDelay=t*n+"s",On===In?e.style.animationDuration=Sn:e.style.removeProperty("animation-duration"))})),sr(0,e)},hr=function(e){En.addNodes({nodes:hn(e.directTargets),range:Pn,callbacks:{onEnter:or}}),e.segmentables.forEach((function(e){e.bind()}))},pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.animationsPanelOpen,n=void 0!==t&&t;cr().then(lr).then((function(e){return dr(n,e)})).then(fr).then(hr).catch((function(){}))},mr=function(e){On=e},vr=function(e){bn=e},yr={"tweak-global-animations-animation-type":{exec:function(e){pt.b&&On!==Ln?mr(kn):mr(e)}},"tweak-global-animations-complexity-level":{exec:function(e){return function(){console.warn("Complexity Level unimplemented")}}},"tweak-global-animations-animation-curve":{exec:function(e){vr("custom-cubic-bezier"!==e?e:"cubic-bezier(0.19, 1, 0.22, 1)")}},"tweak-global-animations-animation-duration":{exec:function(e){Sn=e}},"tweak-global-animations-animation-delay":{exec:function(e){An=e}}},gr=Object.keys(yr),br=ee((function(){pr({animationsPanelOpen:!0})}),10);i.a.watch(gr,(function(e){yr[e.name].exec(e.value),br()})),document.addEventListener("DOMContentLoaded",(function(){if(setTimeout((function(){document.body.dataset.animationState="booted"}),500),"true"===i.a.getValue("tweak-global-animations-enabled")){var e,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=pn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(gr);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=i.a.getValue(n);void 0!==r?yr[n].exec(r):console.log("Tweak value is undefined!",r)}}catch(e){t.e(e)}finally{t.f()}pr()}})),On=kn,yn=[],gn=[],xn=[],bn="ease",wn="cubic-bezier(0.19, 1, 0.22, 1)",Sn="0.6s",An="0.1s";var wr=function(e){var t=function(){a.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e)};return i.a.watch(["gridGutter","gridColumns","tweak-portfolio-grid-image-aspect-ratio"],t),t(),c.a.on(t,u.e),{destroy:function(){c.a.off(t)}}},Sr=(n(80),n(75)),Ar=n(233),Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n||(n=setTimeout((function(){e.apply(void 0,o),n=null}),t))};return r.cancel=function(){clearTimeout(n),n=null},r},xr=(n(96),[]),Er=0,Pr=!1,kr=!1,Tr=!1,Cr={scroll:function(e){kr||(kr=!0,requestAnimationFrame(this.executeCallbacks))},executeCallbacks:function(){for(var e=0;e<Er;e+=1)xr[e]();kr=!1},registerCallback:function(e){var t=xr.indexOf(e);!e||t>-1||(xr.push(e),Er+=1)},removeCallback:function(e){if(e){var t=xr.indexOf(e);-1!==t&&(xr.splice(t,1),Er-=1)}},bindMethods:function(){Pr||(this.scroll=this.scroll.bind(this),Pr=!0)},trigger:function(){this.scroll()},on:function(e){Tr||(Tr=!0,this.bindMethods(),window.addEventListener("scroll",this.scroll)),this.registerCallback(e)},off:function(e){this.removeCallback(e),Er||(this.bindMethods(),Tr=!1,window.removeEventListener("scroll",this.scroll))}};function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}function Rr(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?Dr(e):t}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(i,e);var t,n,r,o=_r(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Fr(Dr(t=o.call(this,e)),"onClick",(function(){return t.props.onClick()})),Fr(Dr(t),"open",(function(){t.state.isOpen||t.updateOpenState(!0)})),Fr(Dr(t),"close",(function(){t.state.isOpen&&t.updateOpenState(!1)})),Fr(Dr(t),"updateOpenState",(function(e){t.setState({isOpen:e});var n=t.props,r=n.node,o=n.activeClass,i=n.openTitleSelector,a=n.closeTitleSelector,s=r.querySelector(i),c=r.querySelector(a);e?(r.classList.add(o),s.setAttribute("hidden",""),c.removeAttribute("hidden")):(r.classList.remove(o),s.removeAttribute("hidden"),c.setAttribute("hidden",""))}));var n=t.props.node;return t.state={},t.updateOpenState(!1),n.addEventListener("click",t.onClick),t}return t=i,(n=[{key:"destroy",value:function(){this.props.node.removeEventListener("click",this.onClick)}}])&&jr(t.prototype,n),r&&jr(t,r),i}(d.a);Fr(Br,"defaultProps",{node:document.createElement("div"),onClick:te.a,activeClass:"burger--active",openTitleSelector:".js-header-burger-open-title",closeTitleSelector:".js-header-burger-close-title"});n(94);function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?Hr(e):t}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(i,e);var t,n,r,o=Ur(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Gr(Hr(t=o.call(this,e)),"initFolders",(function(e,t){return t.reduce((function(t,n){return t[n.dataset.folder]=n,e.appendChild(n),t}),{})})),Gr(Hr(t),"setInitialState",(function(){var e=t.props,n=e.rootFolder,r=e.folderOpenClass,o=e.folderActiveClass,i=e.transitionDisabledClass;t.depth=[],t.ref.controlBack.length&&t.ref.controlBack.forEach((function(e){return e.classList.add(i)})),Object.keys(t.folders).forEach((function(e){var a=t.folders[e];a.scrollTop=0,a.classList.remove(r),a.classList.remove(o),a.classList.add(i),e===n&&(t.setActiveFolder(a),t.depth.push(a)),setTimeout((function(){a.classList.remove(i),t.ref.controlBack.length&&t.ref.controlBack.forEach((function(e){return e.classList.remove(i)}))}),0)}))})),Gr(Hr(t),"setActiveFolder",(function(e){var n=t.props.folderActiveClass;e.classList.add(n),t.revertFocusContainment&&t.revertFocusContainment(),t.revertFocusContainment=Object(Sr.containFocus)({predicate:function(t){return t.closest("[data-folder]")===e},root:t.ref.list,setFocusOnContain:!1,restoreFocusOnRevert:!1})})),Gr(Hr(t),"onKeyUp",(function(e){27===e.keyCode&&(e.stopPropagation(),1===t.depth.length?t.props.header.close():t.onParentFolderOpen(e))})),Gr(Hr(t),"handleItemSelect",(function(e){var n=t.props.folderLinkSelector,r=e.target,o=document.location.hostname===e.target.hostname&&document.location.pathname===e.target.pathname,i=""!==e.target.hash;o&&i&&t.props.header.close(),r.matches(n)&&t.handleFolderSelect(e)})),Gr(Hr(t),"handleFolderSelect",(function(e){var n=e.target.dataset.folderId;if(t.folders[n]){e.preventDefault();var r=t.folders[n];t.onSubFolderOpen(r);var o=t.props.controlBackSelector,i=r.querySelector(o);i&&i.focus()}})),Gr(Hr(t),"onSubFolderOpen",(function(e){if(!t.depth.includes(e)){var n=t.props.folderOpenClass,r=t.depth[t.depth.length-1];e.scrollTop=0,r.classList.add(n),t.setActiveFolder(e),t.depth.push(e)}})),Gr(Hr(t),"onParentFolderOpen",(function(e){e.preventDefault();var n=t.props,r=n.folderActiveClass,o=n.folderOpenClass;if(!(t.depth.length<=1)){var i=t.depth[t.depth.length-1];i.classList.remove(r);var a=i.dataset.folder,s=t.props.folderLinkSelector,c=s.trim().substring(1,s.length-1),u=document.querySelector("[".concat(c,'="').concat(a,'"]'));u&&u.focus(),t.depth.pop(),(i=t.depth[t.depth.length-1]).classList.remove(o),t.setActiveFolder(i)}})),Gr(Hr(t),"open",(function(){t.setInitialState(),document.addEventListener("keyup",t.onKeyUp)})),Gr(Hr(t),"close",(function(){document.removeEventListener("keyup",t.onKeyUp),t.revertFocusContainment&&t.revertFocusContainment()}));var n=t.props,r=n.node,a=n.listSelector,s=n.folderSelector,c=n.controlBackSelector;return t.state={},t.depth=[],t.ref={list:r.querySelector(a),folders:Array.from(r.querySelectorAll(s)),controlBack:document.querySelectorAll(c)},t.folders=t.initFolders(t.ref.list,t.ref.folders),t.revertFocusContainment=null,t.setInitialState(),t.bindListeners(),t}return t=i,(n=[{key:"bindListeners",value:function(){var e=this;this.props.node.addEventListener("click",this.handleItemSelect),this.ref.controlBack&&this.ref.controlBack.forEach((function(t){return t.addEventListener("click",e.onParentFolderOpen)}))}},{key:"unbindListeners",value:function(){var e=this;this.ref.node.removeEventListener("click",this.handleItemSelect),this.ref.controlBack&&this.ref.controlBack.forEach((function(t){return t.removeEventListener("click",e.onParentFolderOpen)}))}},{key:"destroy",value:function(){this.unbindListeners()}}])&&Nr(t.prototype,n),r&&Nr(t,r),i}(d.a);function Xr(e,t,n){!function(e,t){t.forEach((function(t){"string"==typeof t&&e.classList.remove(t)}))}(e,t),n&&e.classList.add(n)}function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e){return function(e){if(Array.isArray(e))return $r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Kr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||Kr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=io(e);if(t){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ro(this,n)}}function ro(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?oo(e):t}function oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Gr(Yr,"defaultProps",{node:null,listSelector:".header-menu-nav-list",folderSelector:".header-menu-nav-folder",folderLinkSelector:"[data-folder-id]",controlBackSelector:'[data-action="back"]',folderActiveClass:"header-menu-nav-folder--active",folderOpenClass:"header-menu-nav-folder--open",transitionDisabledClass:"transition-disabled",rootFolder:"root"});var so=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(a,e);var t,n,r,o=no(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ao(oo(t=o.call(this)),"tweaks",["header-vert-padding","tweak-transparent-header","header-logo-height","tweak-fixed-header","tweak-fixed-header-style","section-theme","header-horizontal-spacing","tweak-portfolio-index-background-width"]),ao(oo(t),"bindGlobalEvents",(function(e){e.forEach((function(e){var n=e.event,r=e.handler;return window.Y.Global.on(n,r,oo(t))}))})),ao(oo(t),"unbindGlobalEvents",(function(e){t.onWindowLoadGlobalHandler&&window.removeEventListener("load",t.onWindowLoadGlobalHandler),window.removeEventListener(u.a,t.updateNeighborSections),e.forEach((function(e){var n=e.event,r=e.handler;return window.Y.Global.detach(n,r,oo(t))}))})),ao(oo(t),"observeAnnouncementBar",(function(){var e=t.node.querySelector(".sqs-announcement-bar-dropzone");if(e){t.announcementBarObserver=new MutationObserver(t.dispatchHeaderHeightChangeEvent),t.announcementBarObserver.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}})),ao(oo(t),"dispatchHeaderHeightChangeEvent",(function(){var e=t.node.getBoundingClientRect().height;window.dispatchEvent(new CustomEvent(u.a,{detail:{headerHeight:e}}))})),ao(oo(t),"createBurgers",(function(){t.burgerMobile=new Br({node:t.ref.burgerMobile,onClick:t.onToggle}),t.isMobileHeaderLayoutsBetaFlagOn&&(t.burgerDesktop=new Br({node:t.ref.burgerDesktop,onClick:t.onToggle}))})),ao(oo(t),"openBurgers",(function(){t.burgerMobile.open(),t.isMobileHeaderLayoutsBetaFlagOn&&t.burgerDesktop.open()})),ao(oo(t),"closeBurgers",(function(){t.burgerMobile.close(),t.isMobileHeaderLayoutsBetaFlagOn&&t.burgerDesktop.close()})),ao(oo(t),"destroyBurgers",(function(){t.burgerMobile.destroy(),t.isMobileHeaderLayoutsBetaFlagOn&&t.burgerDesktop.destroy()})),ao(oo(t),"onFirstSectionChange",(function(){t.updateNeighborSections(),t.onSectionThemeChange(t.getFirstSectionId(),t.getFirstSectionTheme())})),ao(oo(t),"onSectionThemeChange",(function(e,n){if(t.state.isOpen)t.updateHeaderTheme(t.node.dataset.menuOverlayTheme);else if(e)e===t.getFirstSectionId()&&t.isHeaderTransparent()&&(t.isFirstSectionInset()?t.updateHeaderTheme():t.updateHeaderTheme(n));else{if(n)return void t.updateHeaderTheme(n);if(!t.isHeaderTransparent())return void t.updateHeaderTheme();var r=t.getFirstSectionTheme();t.updateHeaderTheme(r)}})),ao(oo(t),"onTweakSync",(function(e){t.setState({scrollMode:i.a.getValue("tweak-fixed-header-style").toLowerCase()}),"tweak-fixed-header"===e.name&&"true"===e.value?Cr.on(t.onScroll):"tweak-fixed-header"===e.name&&Cr.off(t.onScroll),t.updateNeighborSections()})),ao(oo(t),"hasSibling",(function(){return!!t.node.nextElementSibling})),ao(oo(t),"getPageSections",(function(){return t.hasSibling()?t.node.nextElementSibling.querySelectorAll(".page-section, .sqs-empty-section"):[]})),ao(oo(t),"getFirstSection",(function(){return Jr(t.getPageSections(),1)[0]})),ao(oo(t),"getFirstSectionId",(function(){var e=t.getFirstSection();if(e)return e.getAttribute("data-section-id")})),ao(oo(t),"getFirstSectionTheme",(function(){var e=t.getFirstSection();return t.props.themesClasses.find((function(t){return e&&e.classList.contains(t)}))})),ao(oo(t),"isFirstSectionInset",(function(){var e=t.getFirstSection();return e&&e.classList.contains("background-width--inset")})),ao(oo(t),"isFirstSectionPortfolioInset",(function(){var e=t.getFirstSection();return e&&e.classList.contains("collection-type-portfolio-index-background")&&"Full"===i.a.getValue("tweak-portfolio-index-background-width")})),ao(oo(t),"updateHeaderTheme",(function(e){var n=t.node;if(e=e||n.dataset.headerTheme,!t.state.isOpen)return t.isHeaderTransparent()?t.isFirstSectionInset()?void Xr(n,u.j,e):void Xr(n,u.j,t.getFirstSectionTheme()):void Xr(n,u.j,e);Xr(n,u.j,n.dataset.menuOverlayTheme)})),ao(oo(t),"onSectionTweak",(function(e){if(t.node.dataset.menuOverlayTheme=e.menuOverlayTheme,Xr(t.ref.menu,u.j,e.menuOverlayTheme),t.state.isOpen?t.updateHeaderTheme(e.menuOverlayTheme):t.updateHeaderTheme(e.sectionTheme),window.Y&&window.Y.Global){var n=t.node.getBoundingClientRect().height;window.Y.Global.fire("headerHeight",{headerHeight:n})}return t.updateNeighborSections(),!0})),ao(oo(t),"setBurgerDisplay",(function(){var e,n=t.node.querySelector(".header-nav-list");(e=t.node.querySelector(".header-burger"),t.isMobileHeaderLayoutsBetaFlagOn)&&(e=document.querySelector(".header-display-mobile").querySelector(t.props.burgerSelector));(n.childNodes.length<1||1===n.childNodes.length&&1!==n.childNodes[0].nodeType)&&e.classList.add("no-nav-links")})),ao(oo(t),"onResize",(function(e){t.updateNeighborSections(e),t.toggleFocusContainerOnMenuVisibilityChange()})),ao(oo(t),"onScroll",(function(){if(null!==document.querySelector(".sqs-edit-mode-active"))return t.node.classList.remove("shrink"),t.node.style.transform="",void Cr.off(t.onScroll);t.updateScrollDisplay(),t.scrollTop=window.scrollY})),ao(oo(t),"onToggle",(function(){t.state.isSwitching||(t.state.isOpen?t.close():t.open())})),ao(oo(t),"open",(function(){t.state.isOpen||(t.setState({isOpen:!0,isVisible:!0,isSwitching:!0}),t.node.closest("body").classList.add(t.props.headerMenuOpenClass),t.updateHeaderTheme(),t.openBurgers(),t.menu.open(),t.revertFocusContainment=Object(Sr.containFocus)({container:t.node,setFocusOnContain:!1}),t.setState({isSwitching:!1}))})),ao(oo(t),"close",(function(){t.state.isOpen&&(t.setState({isOpen:!1,isVisible:!1,isSwitching:!1}),t.node.closest("body").classList.remove(t.props.headerMenuOpenClass),t.updateHeaderTheme(),t.closeBurgers(),t.menu.close(),t.revertFocusContainment&&t.revertFocusContainment(),t.setState({isSwitching:!1}))})),ao(oo(t),"isMenuVisible",(function(){return"visible"===window.getComputedStyle(t.ref.menu).visibility})),ao(oo(t),"offsetFirstSectionBackground",(function(e){var n=t.getFirstSection();if(n){var r=n.querySelector(".section-background");r&&(t.isFirstSectionInset()?r.style.top="".concat(e,"px"):r.style.top="")}})),ao(oo(t),"toggleHeaderTransparentOverride",(function(e){var n=t.node.querySelector(".header-announcement-bar-wrapper");e?n.classList.add(u.f):n.classList.remove(u.f)})),ao(oo(t),"updateNeighborSections",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.getPageSections(),r=Jr(n,2),o=r[0],i=r[1],a=e||t.node.getBoundingClientRect().height;if(o){var s=o.classList.contains("gallery-section"),c=o.classList.contains("collection-type-portfolio-hover")||o.classList.contains("collection-type-portfolio-index-background"),u=o.classList.contains("layout-engine-section"),l=o.querySelector(".section-background");if(c){var d="full"===o.querySelector(".portfolio-hover").dataset.width||"inset"===o.querySelector(".portfolio-hover").dataset.width,f=o.querySelector(".portfolio-hover-items"),h=o.querySelector(".section-background");d?(o.style.paddingTop="".concat(a,"px"),f.style.paddingTop="",h&&(h.style.top="".concat(a,"px")),t.toggleHeaderTransparentOverride(!0)):(o.style.paddingTop="",f.style.paddingTop="".concat(a,"px"),h&&(h.style.top=""),t.toggleHeaderTransparentOverride(!1))}else o.style.paddingTop="".concat(a,"px"),s||t.offsetFirstSectionBackground(a);l&&u&&(t.isFirstSectionInset()?l.style.top="".concat(a,"px"):l.style.top=""),t.updateSectionWrapper(o,!0)}i&&(i.style.paddingTop&&(i.style.paddingTop=""),t.updateSectionWrapper(i,!1));var p=t.node.querySelector(".header-menu");p.style.paddingTop="".concat(a,"px"),window.Y&&window.Y.Global&&window.Y.Global.fire("headerHeight",{headerHeight:a}),t.addPaddingToSystemPages()})),ao(oo(t),"toggleFocusContainerOnMenuVisibilityChange",(function(){t.state.isOpen&&(!t.state.isVisible&&t.isMenuVisible()?(t.revertFocusContainment=Object(Sr.containFocus)({container:t.node}),t.setState({isVisible:!0})):t.state.isVisible&&!t.isMenuVisible()&&(t.revertFocusContainment&&t.revertFocusContainment(),t.setState({isVisible:!1})))})),ao(oo(t),"addPaddingToSystemPages",(function(){var e=document.querySelector(".system-page"),n=t.node.getBoundingClientRect().height;e&&(e.style.paddingTop="".concat(n,"px"))})),ao(oo(t),"updateSectionWrapper",(function(e,n){var r=e.querySelector("div[data-template-getter='section-wrapper']");if(r){var o=t.node.getBoundingClientRect().height,i="calc(100% - ".concat(o,"px)");r.style.height=n?i:"100%",r.style.top=n?o+"px":0}})),ao(oo(t),"destroy",(function(){t.unbindListeners(),t.destroyBurgers(),t.announcementBarObserver&&t.announcementBarObserver.disconnect()})),t.node=e,t.state={isOpen:!1,isVisible:!1,isSwitching:!1,scrollMode:i.a.getValue("tweak-fixed-header-style").toLowerCase()};var n=t.props,r=n.burgerSelector,s=n.navWrapperSelector,c=n.navListSelector,l=n.menuSelector,d=n.titleLogoSelector;t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isMobileHeaderLayoutsBetaFlagOn=t.betaFeatureFlags.includes("seven_one_header_editor_update");var f=null,h=t.node.querySelector(r);if(t.isMobileHeaderLayoutsBetaFlagOn){var p=t.node.querySelector(".header-display-desktop");h=t.node.querySelector(".header-display-mobile").querySelector(r),f=p.querySelector(r)}if(t.ref={burgerDesktop:f,burgerMobile:h,navWrapper:t.node.querySelector(s),navList:t.node.querySelector(c),menu:t.node.querySelector(l),titleLogo:t.node.querySelector(d)},t.pos={distance:0,then:0},t.createBurgers(),t.menu=new Yr({node:t.ref.menu,header:oo(t)}),t.scrollTop=window.scrollY,t.currentStyles=JSON.parse(t.node.getAttribute("data-current-styles")),t.scrollBackTimeout=!1,t.onScroll=Or(t.onScroll,100),t.setBurgerDisplay(),t.globalEvents=[{event:"section:first:change",handler:t.onFirstSectionChange},{event:"section:theme:change",handler:t.onSectionThemeChange},{event:"frame:device:change",handler:t.close},{event:"header:menuOverlay:opened",handler:t.open},{event:"header:menuOverlay:closed",handler:t.close}],t.observeAnnouncementBar(),t.bindListeners(),t.onResize(),t.isHeaderTransparent()&&!t.isFirstSectionInset()){var m=t.getFirstSectionTheme();t.updateHeaderTheme(m)}return Zr(t.node.querySelectorAll(t.props.folderTitleSelector)).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),t}return t=a,(n=[{key:"bindListeners",value:function(){var e=this;"true"===i.a.getValue("tweak-fixed-header")&&Cr.on(this.onScroll),M.a.watch("header",this.onSectionTweak),i.a.watch(this.tweaks,this.onTweakSync),"complete"===document.readyState?this.bindGlobalEvents(this.globalEvents):(this.onWindowLoadGlobalHandler=function(){return e.bindGlobalEvents(e.globalEvents)},window.addEventListener("load",this.onWindowLoadGlobalHandler)),window.addEventListener(u.a,this.updateNeighborSections),this.ref.titleLogo&&(this.ref.titleLogo.complete&&this.updateNeighborSections(),this.ref.titleLogo.addEventListener("load",this.updateNeighborSections)),this.resizeObserver=new Ar.a((function(t){var n=t[0].contentRect.height;e.onResize(n)})),this.resizeObserver.observe(this.node)}},{key:"unbindListeners",value:function(){this.unbindGlobalEvents(this.globalEvents),M.a.disconnect("header",this.onSectionTweak),this.resizeObserver.disconnect(),this.resizeObserver=null,this.onScroll.cancel&&this.onScroll.cancel(),Cr.off(this.onScroll),this.ref.titleLogo&&this.ref.titleLogo.removeEventListener("load",this.updateNeighborSections)}},{key:"updateScrollDisplay",value:function(){var e=this,t=this.state.scrollMode,n=window.scrollY,r=Date.now();if("scroll back"===t){var o=n>this.scrollTop?"down":"up";"up"===o&&n>10?(this.pos.distance+=Math.abs(n-this.scrollTop),r-this.pos.then>500&&(this.pos.distance=0),this.pos.distance>200&&(this.node.style.transform=""),this.pos.then=r):this.node.style.transform="down"===o&&n>10?"translateY(-100%)":""}n>10?this.node.classList.add("shrink"):window.setTimeout((function(){e.node.classList.remove("shrink")}),300)}},{key:"isHeaderTransparent",value:function(){return"true"===i.a.getValue("tweak-transparent-header")}}])&&eo(t.prototype,n),r&&eo(t,r),a}(d.a);ao(so,"defaultProps",{headerMenuOpenClass:"header--menu-open",burgerSelector:".header-burger-btn",navWrapperSelector:".header-nav-wrapper",navListSelector:".header-nav-list",menuSelector:".header-menu",folderTitleSelector:".header-nav-folder-title",titleLogoSelector:".header-title-logo img",themesClasses:u.j});function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mo(e);if(t){var o=mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ho(this,n)}}function ho(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?po(e):t}function po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(s,e);var t,n,r,o=fo(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),vo(po(t=o.call(this)),"init",(function(){t.zoomOut(),t.unbindListeners(),t.hasImageZoom()&&(t.zoomedNode=null,t.isZoomed=!1,t.nodeRect=null,t.addImageZoom(),t.hasHoverToZoom()?t.addListenersForHover():t.hasClickToZoom()&&t.addListenersForClick(),t.addCommonEventListeners())})),vo(po(t),"addListenersForHover",(function(){t.node.addEventListener("mouseenter",t.zoomIn)})),vo(po(t),"addListenersForClick",(function(){t.node.addEventListener("click",t.onClick)})),vo(po(t),"addImageZoom",(function(){t.hasImageZoom()&&(t.zoomedNode=t.node.querySelector(".product-image-zoom-duplicate"),t.zoomedNode.style.transform="scale("+t.getZoom()+")",a.a.loadLazy(t.zoomedNode.querySelector("img"),{load:!0,mode:"fill",useAdvancedPositioning:!0}))})),vo(po(t),"onClick",(function(e){t.isZoomed?t.zoomOut():t.zoomIn(e)})),vo(po(t),"zoomIn",(function(e){t.node.parentNode.classList.add("is-zoomed"),t.isZoomed=!0,t.trackMovement(e)})),vo(po(t),"zoomOut",(function(){t.node.parentNode.classList.remove("is-zoomed"),t.isZoomed=!1,t.nodeRect=null})),vo(po(t),"onScroll",(function(){t.isZoomed&&t.setNodeRect()})),vo(po(t),"trackMovement",(function(e){if(t.isZoomed&&t.zoomedNode){t.nodeRect||t.setNodeRect();var n=Math.max((e.pageX-t.nodeRect.x)/t.node.clientWidth*100,0),r=Math.max((e.pageY-t.nodeRect.y-pageYOffset)/t.node.clientHeight*100,0);t.zoomedNode.style.transformOrigin="".concat(n,"% ").concat(r,"%")}})),vo(po(t),"destroy",(function(){t.unbindListeners()})),t.node=e,pt.c)return ho(t);return i.a.watch(["tweak-product-basic-item-hover-action","tweak-product-basic-item-click-action","tweak-product-basic-item-gallery-design"],t.init),i.a.watch("tweak-product-basic-item-image-zoom-factor",t.addImageZoom),t.init(),c.a.on(t.addImageZoom,u.e),t}return t=s,(n=[{key:"hasImageZoom",value:function(){return this.hasClickToZoom()||this.hasHoverToZoom()}},{key:"hasHoverToZoom",value:function(){return"Zoom"===i.a.getValue("tweak-product-basic-item-hover-action")&&"Carousel"!==i.a.getValue("tweak-product-basic-item-gallery-design")}},{key:"hasClickToZoom",value:function(){return"Zoom"===i.a.getValue("tweak-product-basic-item-click-action")}},{key:"addCommonEventListeners",value:function(){this.node.addEventListener("mouseleave",this.zoomOut),document.addEventListener("scroll",this.onScroll),this.node.addEventListener("mousemove",this.trackMovement)}},{key:"unbindListeners",value:function(){c.a.off(this.addImageZoom),this.node.removeEventListener("mouseenter",this.zoomIn),this.node.removeEventListener("mouseleave",this.zoomOut),this.node.removeEventListener("mousemove",this.trackMovement),this.node.removeEventListener("click",this.onClick),document.removeEventListener("scroll",this.onScroll)}},{key:"getZoom",value:function(){return i.a.getValue("tweak-product-basic-item-image-zoom-factor")}},{key:"setNodeRect",value:function(){this.nodeRect=this.node.getBoundingClientRect()}}])&&uo(t.prototype,n),r&&uo(t,r),s}(d.a),go=function(e){if(window.Static&&window.Static.SQUARESPACE_CONTEXT&&window.Static.SQUARESPACE_CONTEXT.betaFeatureFlags)return-1!==window.Static.SQUARESPACE_CONTEXT.betaFeatureFlags.indexOf("global_animations")},bo=function(e){var t=function(){var t=document.querySelectorAll("main .page-section");if(0!==t.length){var n=t[t.length-1],r=u.j.find((function(e){return n.classList.contains(e)}));Xr(e,u.j,r)}},n=function(){window.Y.Global.on("sections:change",t)};return t(),"complete"===document.readyState?n():window.addEventListener("load",n),{destroy:function(){window.Y.Global.detach("sections:change",t,this),window.removeEventListener("load",n)}}};function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xo(this,n)}}function xo(e,t){return!t||"object"!==wo(t)&&"function"!=typeof t?Eo(e):t}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var To=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(i,e);var t,n,r,o=Oo(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ko(Eo(t=o.call(this)),"onSetThumbnail",(function(e,n){return t.slideshow.setSlide(e,n)})),ko(Eo(t),"onLightboxOpen",(function(){t.revertFocusContainment=Object(Sr.containFocus)({container:t.node});var e=t.props.bodyOverflowHiddenClass;document.documentElement.classList.add(e),document.body.classList.add(e)})),ko(Eo(t),"onLightboxClose",(function(){var e=t.props.bodyOverflowHiddenClass;document.documentElement.classList.remove(e),document.body.classList.remove(e),t.revertFocusContainment&&t.revertFocusContainment()}));var n=t.props,r=n.listSelector,a=n.slideSelector,s=n.previousSelector,c=n.nextSelector,u=n.closeSelector;return t.node=e,t.closeButton=t.node.querySelector(u),t.slideshow=new fe({isLightbox:!0,node:t.node,display:t.node.querySelector(r),slides:Array.from(t.node.querySelectorAll(a)),buttonPrevious:t.node.querySelector(s),buttonNext:t.node.querySelector(c),buttonLightboxClose:t.closeButton,slideRegionSelector:".gallery-lightbox-item-wrapper",imageWrapperSelector:".gallery-lightbox-item-img",onLightboxOpen:t.onLightboxOpen,onLightboxClose:t.onLightboxClose,imageLoadMode:{mode:"contain",useAdvancedPositioning:!0,forceImageUpdate:!0}}),document.body.appendChild(t.node),t}return t=i,(n=[{key:"destroy",value:function(){this.slideshow.destroy()}}])&&So(t.prototype,n),r&&So(t,r),i}(d.a);ko(To,"defaultProps",{listSelector:".gallery-lightbox-list",slideSelector:".gallery-lightbox-item",previousSelector:"[data-previous]",nextSelector:"[data-next]",closeSelector:"[data-close]",thumbnailSelector:".gallery-lightbox-thumbnails-thumb",thumbnailsContainerSelector:".gallery-lightbox-thumbnails",thumbnailsScrollerSelector:".gallery-lightbox-thumbnails-scroll",bodyOverflowHiddenClass:"gallery-lightbox-body-hide-overflow"});function Co(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _o="section-match-padding-top",Ro=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Lo(this,"onSectionTweak",(function(e){var t=e.styles,r=Object.keys(t).filter((function(e){return n.currentStyles[e]!==t[e]}));if(0===r.length)return!1;r.includes("sectionTheme")&&(t.sectionTheme?n.checkNeighborsMagicPadding(t.sectionTheme):n.checkNeighborsMagicPadding("default-global-theme"))})),Lo(this,"destroy",(function(){M.a.disconnect(n.sectionId,n.boundSectionTweak)})),this.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),this.isSectionAdmin=this.betaFeatureFlags.includes("section_admin"),this.isSectionAdmin&&(this.node=t,this.sectionId=this.node.getAttribute("data-section-id"),this.currentStyles=JSON.parse(this.node.getAttribute("data-current-styles")),this.prevSection=this.node.previousElementSibling,this.nextSection=this.node.nextElementSibling,this.isFirstSection=null===this.node.previousElementSibling,this.boundSectionTweak=this.onSectionTweak.bind(this),M.a.watch(this.sectionId,this.boundSectionTweak),this.viewportWatcher=new ke.a,this.viewportWatcher.addNodes({nodes:this.node,range:[100,0],callbacks:{onEnter:function(){n.node.dataset.active=!0}}}),this.onFirstLoadSetMagicPadding())}var t,n,r;return t=e,(n=[{key:"toggleMagicPadding",value:function(e,t,n){e?t.classList.add(n):t.classList.remove(n)}},{key:"doesSectionBackgroundMatch",value:function(e,t){return this.getSectionTheme(e)===t}},{key:"onFirstLoadSetMagicPadding",value:function(){if(!this.node.classList.contains("has-background")){var e=this.getSectionTheme(this.node);this.isFirstSection||this.prevSection.classList.contains("has-background")||this.doesSectionBackgroundMatch(this.prevSection,e)&&this.toggleMagicPadding(!0,this.node,_o),this.nextSection&&"section"===this.nextSection.nodeName.toLowerCase()&&!this.nextSection.classList.contains("has-background")&&this.doesSectionBackgroundMatch(this.nextSection,e)&&this.toggleMagicPadding(!0,this.node,"section-match-padding-bottom")}}},{key:"checkNeighborsMagicPadding",value:function(e){this.isFirstSection||this.prevSection.classList.contains("has-background")||(this.doesSectionBackgroundMatch(this.prevSection,e)?(this.toggleMagicPadding(!0,this.node,_o),this.toggleMagicPadding(!0,this.prevSection,"section-match-padding-bottom")):(this.toggleMagicPadding(!1,this.node,_o),this.toggleMagicPadding(!1,this.prevSection,"section-match-padding-bottom"))),this.nextSection&&"section"===this.nextSection.nodeName.toLowerCase()&&!this.nextSection.classList.contains("has-background")&&(this.doesSectionBackgroundMatch(this.nextSection,e)?(this.toggleMagicPadding(!0,this.node,"section-match-padding-bottom"),this.toggleMagicPadding(!0,this.nextSection,_o)):(this.toggleMagicPadding(!1,this.node,"section-match-padding-bottom"),this.toggleMagicPadding(!1,this.nextSection,_o)))}},{key:"getSectionTheme",value:function(e){var t,n=e.classList,r=Co(u.j);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n.contains(o))return o}}catch(e){r.e(e)}finally{r.f()}return"default-global-theme"}},{key:"getSectionHeightClass",value:function(e){var t,n=e.classList;for(t in n)if("string"==typeof n[t]&&n[t].includes("section-height"))return n[t];return"custom-section-theme"}}])&&jo(t.prototype,n),r&&jo(t,r),e}(),Do=n(50),Mo=n.n(Do),Fo=Math.ceil,Bo=Math.floor,zo=function(e){return isNaN(e=+e)?0:(e>0?Bo:Fo)(e)},No=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e};function Wo(e,t){return e(t={exports:{}},t.exports),t.exports}var Uo=Wo((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),qo=Wo((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),Ho=(qo.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),Vo=function(e){if(!Ho(e))throw TypeError(e+" is not an object!");return e},Go=function(e){try{return!!e()}catch(e){return!0}},Yo=!Go((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Xo=Uo.document,Qo=Ho(Xo)&&Ho(Xo.createElement),Zo=function(e){return Qo?Xo.createElement(e):{}},Jo=!Yo&&!Go((function(){return 7!=Object.defineProperty(Zo("div"),"a",{get:function(){return 7}}).a})),Ko=Object.defineProperty,$o={f:Yo?Object.defineProperty:function(e,t,n){if(Vo(e),t=function(e,t){if(!Ho(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Ho(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Ho(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Ho(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),Vo(n),Jo)try{return Ko(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},ei=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ti=Yo?function(e,t,n){return $o.f(e,t,ei(1,n))}:function(e,t,n){return e[t]=n,e},ni={}.hasOwnProperty,ri=function(e,t){return ni.call(e,t)},oi=0,ii=Math.random(),ai=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++oi+ii).toString(36))},si=Wo((function(e){var t=Uo["__core-js_shared__"]||(Uo["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:qo.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),ci=si("native-function-to-string",Function.toString),ui=Wo((function(e){var t=ai("src"),n=(""+ci).split("toString");qo.inspectSource=function(e){return ci.call(e)},(e.exports=function(e,r,o,i){var a="function"==typeof o;a&&(ri(o,"name")||ti(o,"name",r)),e[r]!==o&&(a&&(ri(o,t)||ti(o,t,e[r]?""+e[r]:n.join(String(r)))),e===Uo?e[r]=o:i?e[r]?e[r]=o:ti(e,r,o):(delete e[r],ti(e,r,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[t]||ci.call(this)}))})),li=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},di=function(e,t,n){var r,o,i,a,s=e&di.F,c=e&di.G,u=e&di.S,l=e&di.P,d=e&di.B,f=c?Uo:u?Uo[t]||(Uo[t]={}):(Uo[t]||{}).prototype,h=c?qo:qo[t]||(qo[t]={}),p=h.prototype||(h.prototype={});for(r in c&&(n=t),n)i=((o=!s&&f&&void 0!==f[r])?f:n)[r],a=d&&o?li(i,Uo):l&&"function"==typeof i?li(Function.call,i):i,f&&ui(f,r,i,e&di.U),h[r]!=i&&ti(h,r,a),l&&p[r]!=i&&(p[r]=i)};Uo.core=qo,di.F=1,di.G=2,di.S=4,di.P=8,di.B=16,di.W=32,di.U=64,di.R=128;var fi,hi=di,pi={},mi={}.toString,vi=function(e){return mi.call(e).slice(8,-1)},yi=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==vi(e)?e.split(""):Object(e)},gi=function(e){return yi(No(e))},bi=Math.min,wi=function(e){return e>0?bi(zo(e),9007199254740991):0},Si=Math.max,Ai=Math.min,Oi=si("keys"),xi=function(e){return Oi[e]||(Oi[e]=ai(e))},Ei=(fi=!1,function(e,t,n){var r,o=gi(e),i=wi(o.length),a=function(e,t){return(e=zo(e))<0?Si(e+t,0):Ai(e,t)}(n,i);if(fi&&t!=t){for(;i>a;)if((r=o[a++])!=r)return!0}else for(;i>a;a++)if((fi||a in o)&&o[a]===t)return fi||a||0;return!fi&&-1}),Pi=xi("IE_PROTO"),ki="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ti=Object.keys||function(e){return function(e,t){var n,r=gi(e),o=0,i=[];for(n in r)n!=Pi&&ri(r,n)&&i.push(n);for(;t.length>o;)ri(r,n=t[o++])&&(~Ei(i,n)||i.push(n));return i}(e,ki)},Ci=Yo?Object.defineProperties:function(e,t){Vo(e);for(var n,r=Ti(t),o=r.length,i=0;o>i;)$o.f(e,n=r[i++],t[n]);return e},Ii=Uo.document,ji=Ii&&Ii.documentElement,Li=xi("IE_PROTO"),_i=function(){},Ri=function(){var e,t=Zo("iframe"),n=ki.length;for(t.style.display="none",ji.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Ri=e.F;n--;)delete Ri.prototype[ki[n]];return Ri()},Di=Object.create||function(e,t){var n;return null!==e?(_i.prototype=Vo(e),n=new _i,_i.prototype=null,n[Li]=e):n=Ri(),void 0===t?n:Ci(n,t)},Mi=Wo((function(e){var t=si("wks"),n=Uo.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:ai)("Symbol."+e))}).store=t})),Fi=$o.f,Bi=Mi("toStringTag"),zi=function(e,t,n){e&&!ri(e=n?e:e.prototype,Bi)&&Fi(e,Bi,{configurable:!0,value:t})},Ni={};ti(Ni,Mi("iterator"),(function(){return this}));var Wi,Ui=function(e,t,n){e.prototype=Di(Ni,{next:ei(1,n)}),zi(e,t+" Iterator")},qi=function(e){return Object(No(e))},Hi=xi("IE_PROTO"),Vi=Object.prototype,Gi=Object.getPrototypeOf||function(e){return e=qi(e),ri(e,Hi)?e[Hi]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Vi:null},Yi=Mi("iterator"),Xi=!([].keys&&"next"in[].keys()),Qi=function(){return this},Zi=(Wi=!0,function(e,t){var n,r,o=String(No(e)),i=zo(t),a=o.length;return i<0||i>=a?Wi?"":void 0:(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?Wi?o.charAt(i):n:Wi?o.slice(i,i+2):r-56320+(n-55296<<10)+65536});!function(e,t,n,r,o,i,a){Ui(n,t,r);var s,c,u,l=function(e){if(!Xi&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",f="values"==o,h=!1,p=e.prototype,m=p[Yi]||p["@@iterator"]||o&&p[o],v=m||l(o),y=o?f?l("entries"):v:void 0,g="Array"==t&&p.entries||m;if(g&&(u=Gi(g.call(new e)))!==Object.prototype&&u.next&&(zi(u,d,!0),"function"!=typeof u[Yi]&&ti(u,Yi,Qi)),f&&m&&"values"!==m.name&&(h=!0,v=function(){return m.call(this)}),(Xi||h||!p[Yi])&&ti(p,Yi,v),pi[t]=v,pi[d]=Qi,o)if(s={values:f?v:l("values"),keys:i?v:l("keys"),entries:y},a)for(c in s)c in p||ui(p,c,s[c]);else hi(hi.P+hi.F*(Xi||h),t,s)}(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Zi(t,n),this._i+=e.length,{value:e,done:!1})}));var Ji=function(e,t,n,r){try{return r?t(Vo(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&Vo(o.call(e)),t}},Ki=Mi("iterator"),$i=Array.prototype,ea=function(e){return void 0!==e&&(pi.Array===e||$i[Ki]===e)},ta=function(e,t,n){t in e?$o.f(e,t,ei(0,n)):e[t]=n},na=Mi("toStringTag"),ra="Arguments"==vi(function(){return arguments}()),oa=Mi("iterator"),ia=qo.getIteratorMethod=function(e){if(null!=e)return e[oa]||e["@@iterator"]||pi[function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),na))?n:ra?vi(t):"Object"==(r=vi(t))&&"function"==typeof t.callee?"Arguments":r}(e)]},aa=Mi("iterator"),sa=!1;try{[7][aa]().return=function(){sa=!0}}catch(e){}function ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t,n){return t&&ua(e.prototype,t),n&&ua(e,n),e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){da(e,t,n[t])}))}return e}hi(hi.S+hi.F*!function(e,t){if(!t&&!sa)return!1;var n=!1;try{var r=[7],o=r[aa]();o.next=function(){return{done:n=!0}},r[aa]=function(){return o},e(r)}catch(e){}return n}((function(e){})),"Array",{from:function(e){var t,n,r,o,i=qi(e),a="function"==typeof this?this:Array,s=arguments.length,c=s>1?arguments[1]:void 0,u=void 0!==c,l=0,d=ia(i);if(u&&(c=li(c,s>2?arguments[2]:void 0,2)),null==d||a==Array&&ea(d))for(n=new a(t=wi(i.length));t>l;l++)ta(n,l,u?c(i[l],l):i[l]);else for(o=d.call(i),n=new a;!(r=o.next()).done;l++)ta(n,l,u?Ji(o,c,[r.value,l],!0):r.value);return n.length=l,n}});var ha=["","-o-","-webkit-","-moz-","-ms-"],pa=function(){for(var e=document.head.style,t=0,n=ha.length;t<n;t+=1)e.position="".concat(ha[t],"sticky");var r=e.position?e.position:"fixed";return e.position="",r}(),ma=function(){function e(t,n){var r=this;ca(this,e),da(this,"onResize",(function(){r.node.style.maxWidth="".concat(r.parentNode.clientWidth,"px"),r.computeScrollOffsets(),r.onScroll()})),da(this,"onScroll",(function(){var e=r.pos,t=e.state,n=e.start,o=e.stop,i=window.pageYOffset;return i>n&&i<o&&("default"===t||"stuck"===t)?(r.pos.state="sticky",r.node.style.position="fixed",r.node.style.bottom="",r.node.style.top=0,void(r.node.dataset.stickyState="sticky")):i<=n&&("sticky"===t||"stuck"===t)?(r.pos.state="default",r.node.style.position="",void(r.node.dataset.stickyState="none")):void(i>=o&&("default"===t||"sticky"===t)&&(r.pos.state="stuck",r.node.style.top="",r.node.style.bottom=0,r.node.style.position="absolute",r.node.dataset.stickyState="stuck"))})),da(this,"refresh",(function(){r.onResize()})),da(this,"destroy",(function(){r.unbindListeners()})),this.props=fa({},this.constructor.defaultProps,n),this.pos={state:"default"},this.node=t,this.parentNode=t.parentNode,this.resizeObserver=null,this.bindListeners(),this.computeScrollOffsets()}return la(e,[{key:"bindListeners",value:function(){if(window.ResizeObserver)return this.resizeObserver=new ResizeObserver(this.onResize),void this.resizeObserver.observe(this.parentNode);c.a.on(this.onResize),this.onResize()}},{key:"unbindListeners",value:function(){if(window.ResizeObserver)return this.resizeObserver.disconnect(this.node),void(this.resizeObserver=null);c.a.off(this.onResize)}},{key:"computeScrollOffsets",value:function(){var e=function(e){var t=e,n=0;do{n=t.offsetTop+n}while(t=t.offsetParent);return n}(this.parentNode);this.pos.start=e,this.pos.stop=e+this.parentNode.offsetHeight-this.node.offsetHeight}}]),e}();da(ma,"defaultProps",{});var va=function(){function e(t,n){var r=this;ca(this,e),da(this,"onScroll",(function(){for(var e=0;e<r.fixedNodesLen;e+=1)r.fixedNodes[e].onScroll()})),da(this,"refresh",(function(){for(var e=0;e<r.fixedNodesLen;e+=1)r.fixedNodes[e].refresh()})),da(this,"destroy",(function(){r.unbindListeners(),r.fixedNodes.forEach((function(e){return e.destroy()})),r.fixedNodes=[]})),this.props=fa({},this.constructor.defaultProps,n);var o=this.props.forceFixed;this.position=o?"fixed":pa,this.nodes="string"==typeof t?Array.from(document.querySelectorAll(t)):[t],this.fixedNodes=[];for(var i="fixed"!==this.position?this.position:"",a=0,s=this.nodes.length;a<s;a+=1){var c=this.nodes[a];c.style.top=0,c.style.position=i,"fixed"===this.position&&this.fixedNodes.push(new ma(c,this.props))}this.fixedNodesLen=this.fixedNodes.length,this.bindListeners()}return la(e,[{key:"bindListeners",value:function(){"fixed"===this.position&&Mo.a.on(this.onScroll)}},{key:"unbindListeners",value:function(){"fixed"===this.position&&Mo.a.off(this.onScroll)}}]),e}();da(va,"defaultProps",{forceFixed:!1});var ya=va;function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wa=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch),Sa=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ba(this,"onResize",(function(){n.ruler&&n.refresh()})),ba(this,"onScroll",(function(){n.ruler&&n.refresh()})),ba(this,"refreshRuler",(function(){if(n.ruler){var e=n.ruler.node.clientHeight;n.ruler.height!==e&&n.props.onResize(e),n.ruler.height=e}})),ba(this,"destroy",(function(){n.ruler&&(document.documentElement.removeChild(n.ruler),n.ruler=null,c.a.off(n.onResize),n.props.useManualScrollListener||Mo.a.off(n.onScroll))})),this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ba(e,t,n[t])}))}return e}({},this.constructor.defaultProps,t);var r=this.props.useManualScrollListener;if(this.ruler=this.createRuler(),this.refresh=this.props.throttle?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n||(n=setTimeout((function(){e.apply(void 0,o),n=null}),t))};return r.cancel=function(){clearTimeout(n),n=null},r}(this.refreshRuler,this.props.throttle):this.refreshRuler,!this.ruler)return this;c.a.on(this.onResize),r||Mo.a.on(this.onScroll),this.props.onResize(this.ruler.height)}var t,n,r;return t=e,(n=[{key:"createRuler",value:function(){if(!wa)return null;var e=document.createElement("div");e.style.position="fixed",e.style.top=0,e.style.bottom=0,e.style.left=-1,e.style.visibility="hidden",document.documentElement.appendChild(e);var t=e.clientHeight;return this.props.sticky&&(this.props.sticky.nodes[0].style.maxHeight=t+"px"),{node:e,height:t}}},{key:"height",get:function(){return this.ruler.height}}])&&ga(t.prototype,n),r&&ga(t,r),e}();ba(Sa,"defaultProps",{onResize:function(){},throttle:250,useManualScrollListener:!1});var Aa=Sa,Oa=(n(113),function(e){return e.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map((function(e){return e.toLowerCase()})).join("-")});function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ia(e);if(t){var o=Ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ta(this,n)}}function Ta(e,t){return!t||"object"!==xa(t)&&"function"!=typeof t?Ca(e):t}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var La=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(i,e);var t,n,r,o=ka(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ja(Ca(n=o.call(this,t)),"onResize",(function(){})),ja(Ca(n),"setImage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Date.now()-n.last,o=r>=n.animationDuration,i=t||!n.animationDuration?0:o?100:Math.max(0,n.animationDuration-r);clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout),clearTimeout(n.imageAnimatingTimeout),n.onSetImage(e,t),e!==n.currentIndex&&(n.showImageTimeout=setTimeout((function(){n.isPersistImages||n.hideImages(),n.showImage(e,t),n.last=Date.now()}),i))})),ja(Ca(n),"unset",(function(){clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout),n.onUnset(),n.hideImageTimeout=setTimeout((function(){n.hideImages()}),n.isHideDelayed?n.animationDuration:0)})),ja(Ca(n),"onSetImage",(function(){})),ja(Ca(n),"onUnset",(function(){})),ja(Ca(n),"onShowImage",(function(){})),ja(Ca(n),"onImageShown",(function(){})),ja(Ca(n),"onHide",(function(){})),ja(Ca(n),"onDestroy",(function(){})),ja(Ca(n),"destroy",(function(){n.onDestroy(),clearTimeout(n.activeTimeout),clearTimeout(n.imageAnimatingTimeout),clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout)}));var r=n.props,a=r.items,s=r.imageSelector;n.itemLen=a.length,n.itemDimensions=n.getItemDimensions(a),n.last=null,n.currentIndex=-1,n.lastIndex=-1,n.animationDuration=600,n.isHideDelayed=!1,n.isPersistImages=!0,n.node=e,n.node.dataset.active=!1;for(var c=0,u=a.length;c<u;c+=1)a[c].dataset.active=null,a[c].dataset.animated=null,a[c].querySelector(s).style.transitionDuration=null;return n.showImageTimeout=null,n.activeTimeout=null,n.hideImageTimeout=null,n}return t=i,(n=[{key:"getItemDimensions",value:function(e){return e.map((function(e){var t=e.querySelector("img");return Object(h.c)(t)}))}},{key:"showImage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.items;r[e].dataset.active=!1,r[e].dataset.animated=!n,r[e].parentNode.appendChild(r[e]),this.currentIndex=e,this.onShowImage(e,n),clearTimeout(this.activeTimeout),this.activeTimeout=setTimeout((function(){r[e].dataset.active=!0,t.onImageShown()}),n||!this.animationDuration?0:25),this.lastIndex=e}},{key:"hideImages",value:function(){var e=this.props.items;clearTimeout(this.activeTimeout),this.onHide();for(var t=0,n=e.length;t<n;t+=1)e[t].dataset.active=!1,t!==this.currentIndex&&(e[t].dataset.animated=!1);this.currentIndex=-1}}])&&Ea(t.prototype,n),r&&Ea(t,r),i}(d.a);function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=za(e);if(t){var o=za(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fa(this,n)}}function Fa(e,t){return!t||"object"!==_a(t)&&"function"!=typeof t?Ba(e):t}function Ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ja(La,"defaultProps",{items:[]});var Wa={medium:600,fast:300,slow:900},Ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(i,e);var t,n,r,o=Ma(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Na(Ba(n=o.call(this,e,t)),"onDestroy",(function(){}));var r=n.props.animationDuration;return n.animationDuration=Wa[r],n.isHideDelayed=!1,n.reset(),n}return t=i,(n=[{key:"reset",value:function(){for(var e=this.props,t=e.items,n=e.imageSelector,r=0,o=t.length;r<o;r+=1)t[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}}])&&Ra(t.prototype,n),r&&Ra(t,r),i}(La);Na(Ua,"defaultProps",{items:[],imageSelector:".portfolio-hover-bg-img",animationDuration:"medium"});var qa=n(64),Ha=n(49),Va=function(e,t,n){return e<t?t:e>n?n:e},Ga=function(e,t,n,r){var o=Math.min(e/n,t/r);return{width:n*o,height:r*o}};function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$a(e);if(t){var o=$a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ja(this,n)}}function Ja(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?Ka(e):t}function Ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ts={fast:300,medium:600,slow:900},ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}(i,e);var t,n,r,o=Za(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),es(Ka(n=o.call(this,e,t)),"onSetImage",(function(e){n.node.dataset.active=!0,n.startFollowing(e)})),es(Ka(n),"onShowImage",(function(e){var t=n.state,r=t.width,o=t.height;n.resizeAnim.last=n.itemDimensions[n.lastIndex]||{width:r,height:o},n.resizeAnim.current=n.itemDimensions[e];var i=-1!==n.lastIndex;n.resizeImages(r,o),n.updateRatio(r,o,n.resizeAnim.current),n.resizeWrapper(i,n.resizeAnim.current.worldWidth,n.resizeAnim.current.worldHeight)})),es(Ka(n),"onUnset",(function(){n.stopFollowing(),n.node.dataset.active=!1})),es(Ka(n),"onScroll",(function(){var e=n.props.container.getBoundingClientRect();n.pos.target.offsetY=e.top})),es(Ka(n),"onResize",(function(e,t){var r=n.node.clientWidth,o=n.node.clientHeight;n.setState({width:r,height:o,halfWidth:.5*r,halfHeight:.5*o,regionWidth:e,regionHeight:t}),n.resizeImages(r,o),n.updatePosition()})),es(Ka(n),"onEnter",(function(e){if(!n.state.isCursorActive){var t=n.props.rootNode,r=Object(pt.d)(e),o=r.clientX,i=r.clientY;n.setTargetPosition(o,i),n.setState({isCursorActive:!0}),t.addEventListener(pt.a.move,n.onMove)}})),es(Ka(n),"onMove",(function(e){var t=Object(pt.d)(e),r=t.clientX,o=t.clientY;n.setTargetPosition(r,o)})),es(Ka(n),"onLeave",(function(){var e=n.props.rootNode;n.state.isCursorActive&&(n.setState({isCursorActive:!1}),e.removeEventListener(pt.a.move,n.onMove))})),es(Ka(n),"tick",(function(){n.updatePosition(),n.frame=requestAnimationFrame(n.tick)})),es(Ka(n),"onDestroy",(function(){n.tween&&n.tween.destroy(),n.tween=null,n.unbindListeners(),cancelAnimationFrame(n.frame),clearTimeout(n.stopFollowingTimeout)}));var r=n.props,a=r.containerSelector,s=r.animationDuration,c=r.modeFollowSize,u=r.modeFollowAcceleration;return n.state={acceleration:.01*u,width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600,isCursorActive:!1,last:Date.now()},n.node.style.width="".concat(c,"vmin"),n.node.style.height="".concat(c,"vmin"),n.animationDuration=ts[s],n.isPersistImages=!1,n.stopFollowingTimeout=null,n.reset(),n.pos={x:0,y:0,target:{x:0,y:0,offsetY:0}},n.tween=null,n.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},n.ref={container:n.node.querySelector(a)},n.frame=null,n.onDebounceScroll=ee(n.onScroll,250),n.bindListeners(),n}return t=i,(n=[{key:"reset",value:function(){var e=this.props,t=e.items,n=e.imageSelector;this.node.style.transitionDuration=this.animationDuration+"ms";for(var r=0,o=t.length;r<o;r+=1)t[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}},{key:"startFollowing",value:function(e){-1===this.currentIndex&&(this.pos.x=this.pos.target.x,this.pos.y=this.pos.target.y),clearTimeout(this.stopFollowingTimeout),cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame(this.tick),this.updatePosition()}},{key:"stopFollowing",value:function(){var e=this;clearTimeout(this.stopFollowingTimeout),this.stopFollowingTimeout=setTimeout((function(){cancelAnimationFrame(e.frame)}),this.animationDuration)}},{key:"bindListeners",value:function(){var e=this,t=this.props.rootNode;Mo.a.on(this.onDebounceScroll),t.addEventListener(pt.a.enter,this.onEnter),pt.a.leave.forEach((function(n){return t.addEventListener(n,e.onLeave)})),this.onScroll()}},{key:"unbindListeners",value:function(){var e=this,t=this.props.rootNode;Mo.a.off(this.onDebounceScroll),t.removeEventListener(pt.a.enter,this.onEnter),t.removeEventListener(pt.a.move,this.onMove),pt.a.leave.forEach((function(n){return t.removeEventListener(n,e.onLeave)}))}},{key:"resizeImages",value:function(e,t){for(var n=this.props.items,r=0;r<this.itemLen;r+=1){var o=n[r],i=this.itemDimensions[r],a=Ga(e,t,i.width,i.height);o.style.width="".concat(a.width,"px"),o.style.height="".concat(a.height,"px")}this.updateRatio(e,t,this.resizeAnim.last),this.updateRatio(e,t,this.resizeAnim.current),this.updateWrapper(e,t)}},{key:"updateRatio",value:function(e,t,n){var r=Math.min(e/n.width,t/n.height);n.worldWidth=n.width*r,n.worldHeight=n.height*r}},{key:"resizeWrapper",value:function(e,t,n){var r=this;this.tween&&(this.tween.destroy(),this.tween=null),e?this.tween=new qa.a({duration:.001*this.animationDuration,from:0,to:1,onUpdate:function(e){r.resizeAnim.value=e,r.updateWrapper()},onComplete:function(){r.resizeAnim.value=1,r.updateWrapper()}}):this.updateWrapper(t,n)}},{key:"updateWrapper",value:function(e,t){var n=this.props.wrapper;if(e&&t)return n.style.width="".concat(e,"px"),void(n.style.height="".concat(t,"px"));var r=this.resizeAnim.value,o=Object(Ha.b)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,r),i=Object(Ha.b)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,r);n.style.width="".concat(o,"px"),n.style.height="".concat(i,"px")}},{key:"setTargetPosition",value:function(e,t){this.pos.target.x=e,this.pos.target.y=t}},{key:"updatePosition",value:function(){var e=this.state,t=e.acceleration,n=e.regionHeight,r=e.height,o=e.halfWidth,i=e.halfHeight,a=this.pos.target.x,s=this.pos.target.y+-this.pos.target.offsetY;this.pos.x+=(a-this.pos.x)*t,this.pos.y+=(s-this.pos.y)*t;var c=this.pos.x-o,u=Va(this.pos.y-i,0,n-r);this.node.style.transform="translate3d("+c+"px, "+u+"px, 0)"}}])&&Xa(t.prototype,n),r&&Xa(t,r),i}(La);function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function as(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=us(e);if(t){var o=us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ss(this,n)}}function ss(e,t){return!t||"object"!==rs(t)&&"function"!=typeof t?cs(e):t}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function us(e){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}es(ns,"defaultProps",{rootNode:document.createElement("div"),container:document.createElement("div"),wrapper:document.createElement("div"),items:[],animationDuration:"medium",containerSelector:".portfolio-hover-backgrounds-wrapper",imageSelector:".portfolio-hover-bg-img",modeFollowSize:75,modeFollowAcceleration:10});var ds={fast:300,medium:600,slow:900},fs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(i,e);var t,n,r,o=as(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ls(cs(n=o.call(this,e,t)),"onSetImage",(function(e){n.node.dataset.active=!0})),ls(cs(n),"onShowImage",(function(e){var t=n.state,r=t.width,o=t.height;n.resizeAnim.last=n.itemDimensions[n.lastIndex]||{width:r,height:o},n.resizeAnim.current=n.itemDimensions[e];var i=-1!==n.lastIndex;n.resizeImages(r,o),n.updateRatio(r,o,n.resizeAnim.current),n.resizeWrapper(i,n.resizeAnim.current.worldWidth,n.resizeAnim.current.worldHeight)})),ls(cs(n),"onUnset",(function(){n.node.dataset.active=!1})),ls(cs(n),"onResize",(function(e,t){var r=n.node.clientWidth,o=n.node.clientHeight;n.setState({width:r,height:o,halfWidth:.5*r,halfHeight:.5*o,regionWidth:e,regionHeight:t}),n.resizeImages(r,o)})),ls(cs(n),"onDestroy",(function(){n.tween&&n.tween.destroy(),n.tween=null}));var r=n.props,a=r.containerSelector,s=r.animationDuration,c=r.modeOriginalSize;return n.state={width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600},n.node.style.width=c+"vmin",n.node.style.height=c+"vmin",n.animationDuration=ds[s],n.isPersistImages=!1,n.reset(),n.tween=null,n.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},n.ref={container:n.node.querySelector(a)},n}return t=i,(n=[{key:"reset",value:function(){var e=this.props,t=e.items,n=e.imageSelector;this.node.style.transitionDuration=this.animationDuration+"ms";for(var r=0,o=t.length;r<o;r+=1)t[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}},{key:"resizeImages",value:function(e,t){for(var n=this.props.items,r=0;r<this.itemLen;r+=1){var o=Ga(e,t,this.itemDimensions[r].width,this.itemDimensions[r].height);n[r].style.width="".concat(o.width,"px"),n[r].style.height="".concat(o.height,"px")}this.updateRatio(e,t,this.resizeAnim.last),this.updateRatio(e,t,this.resizeAnim.current),this.updateWrapper(e,t)}},{key:"updateRatio",value:function(e,t,n){var r=Math.min(e/n.width,t/n.height);n.worldWidth=n.width*r,n.worldHeight=n.height*r}},{key:"resizeWrapper",value:function(e,t,n){var r=this;this.tween&&(this.tween.destroy(),this.tween=null),e?this.tween=new qa.a({duration:.001*this.animationDuration,from:0,to:1,onUpdate:function(e){r.resizeAnim.value=e,r.updateWrapper()},onComplete:function(){r.resizeAnim.value=1,r.updateWrapper()}}):this.updateWrapper(t,n)}},{key:"updateWrapper",value:function(e,t){var n=this.props.wrapper;if(e&&t)return n.style.width="".concat(e,"px"),void(n.style.height="".concat(t,"px"));var r=this.resizeAnim.value,o=Object(Ha.b)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,r),i=Object(Ha.b)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,r);n.style.width="".concat(o,"px"),n.style.height="".concat(i,"px")}}])&&os(t.prototype,n),r&&os(t,r),i}(La);ls(fs,"defaultProps",{wrapper:document.createElement("div"),items:[],animationDuration:"medium",imageSelector:".portfolio-hover-bg-img",containerSelector:".portfolio-hover-backgrounds-wrapper",modeOriginalSize:75});var hs={"hover-cover":{Class:Ua,canPersist:!0},"hover-follow":{Class:ns,canPersist:!1},"hover-static":{Class:fs,canPersist:!0}};function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var o=ws(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gs(this,n)}}function gs(e,t){return!t||"object"!==ps(t)&&"function"!=typeof t?bs(e):t}function bs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var As=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}(i,e);var t,n,r,o=ys(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ss(bs(n=o.call(this,t)),"onItemOver",(function(){var e=n.props,t=e.index,r=e.onItemOver,o=e.onItemTouchStart;pt.c?o(event,t):r(t)})),Ss(bs(n),"onItemOut",(function(){var e=n.props,t=e.index;(0,e.onItemOut)(t)})),Ss(bs(n),"activate",(function(e){n.state.isActive||(n.setState({isActive:!0}),n.node.dataset.active=!0)})),Ss(bs(n),"deactivate",(function(e){n.state.isActive&&(n.setState({isActive:!1}),n.node.dataset.active=!1)})),Ss(bs(n),"destroy",(function(){n.unbindListeners()}));var r=n.props.imageMaskSelector;return n.state={isActive:!1},n.node=e,n.ref={imageMask:n.node.querySelector(r)},n.bindListeners(),n}return t=i,(n=[{key:"bindListeners",value:function(){var e=this;this.node.addEventListener(pt.a.enter,this.onItemOver),this.node.addEventListener("touchstart",(function(t,n){e.onItemTouchStart(t,n)})),pt.a.leave.forEach((function(t){e.node.addEventListener(t,e.onItemOut)}))}},{key:"unbindListeners",value:function(){var e=this;this.node.removeEventListener(pt.a.enter,this.onItemOver),this.node.removeEventListener("touchstart",this.onItemTouchEnd),pt.a.leave.forEach((function(t){e.node.removeEventListener(t,e.onItemOut)}))}}])&&ms(t.prototype,n),r&&ms(t,r),i}(d.a);function Os(e){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ls(e);if(t){var o=Ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Is(this,n)}}function Is(e,t){return!t||"object"!==Os(t)&&"function"!=typeof t?js(e):t}function js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ls(e){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ss(As,"defaultProps",{index:0,titleSelector:".portfolio-hover-item-title",contentSelector:".portfolio-hover-item-content",imageMaskSelector:".portfolio-hover-item-background-mask",onItemOver:te.a,onItemOut:te.a,onItemTouchStart:te.a});var Rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(s,e);var t,n,r,o=Cs(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),_s(js(t=o.call(this)),"sectionTweaksToWatch",["layout","persistSelection","width","height","customHeight","selectionInFront","verticalAlign","horizontalAlign","delimiter","spacingVertical","spacingHorizontal","mode","animation","animationDuration","modeBackgroundLayout","modeOriginalSize","modeFollowSize","modeFollowAcceleration"]),_s(js(t),"parseTweak",{layout:function(e){return Oa(e)},selectionInFront:function(e){return"true"===e},persistSelection:function(e){return"true"===e},width:function(e){return Oa(e)},height:function(e){return Oa(e)},verticalAlign:function(e){return Oa(e)},horizontalAlign:function(e){return Oa(e)},spacingHorizontal:function(e){return parseFloat(e,10)},spacingVertical:function(e){return parseFloat(e,10)},delimiter:function(e){return Oa(e)},animation:function(e){return Oa(e)},animationDuration:function(e){return Oa(e)},modeFollowSize:function(e){return Number(e)},modeFollowAcceleration:function(e){return parseFloat(e,10)},modeOriginalSize:function(e){return Number(e)}}),_s(js(t),"onItemOver",(function(e){return t.setItem(e)})),_s(js(t),"onItemTouchStart",(function(e,n){t.setItem(n)})),_s(js(t),"onItemOut",(function(e){return t.unsetItem(e)})),_s(js(t),"setItem",(function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0;r<t.itemLen;r+=1)e!==r?t.items[r].deactivate():(t.items[r].activate(),t.imageMode.setImage(r,n));t.setState({lastIndex:e,isHover:!0})})),_s(js(t),"unsetItem",(function(e){for(var n=t.state,r=n.persistSelection,o=n.mode,i=n.lastIndex,a=r&&t.checkIsPersistCapable(o),s=0;s<t.itemLen;s+=1)a&&i===s?t.items[s].activate():t.items[s].deactivate();t.setState({isHover:!1});var c=i;a?t.imageMode.setImage(c,!1,!0):t.imageMode.unset()})),_s(js(t),"checkIsPersistCapable",(function(e){return hs[e].canPersist})),_s(js(t),"loadImages",(function(){a.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},t.node)})),_s(js(t),"onResize",(function(){var e=window.innerHeight,n=t.ref.items.clientHeight,r=Ps(Ps({},t.state),{windowHeight:e,itemsHeight:n});t.setState(Ps({},r)),t.refreshDataset(r),t.refreshMode(r),t.refreshPersist();var o=t.node.clientWidth,i=Math.min(window.innerHeight,t.node.clientHeight);t.baseSticky&&t.baseSticky.refresh(),t.imageMode&&t.imageMode.onResize(o,i),t.loadImages()})),_s(js(t),"onRulerResize",(function(e){t.node.style.minHeight=e+"px",t.baseSticky&&t.baseSticky.refresh()})),_s(js(t),"parseTweaks",(function(){return Object.keys(t.tweaks.map).reduce((function(e,n){var r=t.tweaks.map[n],o=i.a.getValue(n);return void 0!==o&&(e[r]=t.parseTweak[r]?t.parseTweak[r](o):o),e}),{})})),_s(js(t),"onTweak",(function(){var e=Ps(Ps({},t.state),t.parseTweaks());t.tweaks.watch.some((function(n){return e[t.tweaks.map[n]]!==t.state[t.tweaks.map[n]]}))&&t.updateState(e)})),_s(js(t),"onSectionTweak",(function(e){var n=Ps(Ps({},t.state),e);return!!t.sectionTweaksToWatch.some((function(e){return n[e]!==t.state[e]}))&&(t.updateState(n),!0)})),_s(js(t),"updateState",(function(e){t.isDestroyed||(t.refreshDataset(e),t.refreshMode(e),t.setState(Ps({},e)),t.refreshPersist(),t.onResize())})),_s(js(t),"destroy",(function(){t.isDestroyed=!0,t.unbindListeners(),t.ruler.destroy(),t.baseSticky.destroy(),t.ruler=null,t.baseSticky=null,t.imageMode&&(t.imageMode.destroy(),t.imageMode=null);for(var e=0;e<t.itemLen;e+=1)t.items[e].destroy();t.items=[],t.itemLen=0}));var n=t.props,r=n.baseStickySelector,c=n.itemsSelector,u=n.listSelector,l=n.itemSelector,d=n.backgroundsSelector,f=n.itemBackgroundSelector,h=n.backgroundsWrapperSelector,p=n.backgroundSelector;e.dataset.init=!0;var m=Ps({tweaks:{}},e.dataset.props?JSON.parse(e.dataset.props):{});return t.tweaks=Object.keys(m.tweaks).reduce((function(e,t){var n=m.tweaks[t];return e.watch.push(n),e.map[n]=t,e}),{watch:[],map:{}}),t.state=Ps(Ps(Ps({layout:"inline",persistSelection:!1,width:"full-bleed",height:"large",customHeight:100,selectionInFront:!1,verticalAlign:"center",horizontalAlign:"center",delimiter:"comma",spacingHorizontal:.3,spacingVertical:.6,animation:"scale-up",animationDuration:"medium",mode:"background",modeBackgroundLayout:"cover",modeOriginalSize:75,modeFollowSize:60,modeFollowAcceleration:10},m),t.parseTweaks()),{},{windowHeight:0,itemsHeight:0,lastIndex:0,isHover:!1}),e.dataset.stackedLayout=t.state.stackedLayout,t.node=e,t.ref={items:t.node.querySelector(c),list:t.node.querySelector(u),backgrounds:t.node.querySelector(d),itemBackground:Array.from(t.node.querySelectorAll(f)),backgroundsWrapper:t.node.querySelector(h),background:Array.from(t.node.querySelectorAll(p))},t.baseStickyNode=t.node.querySelector(r),t.items=Array.from(t.node.querySelectorAll(l)).map((function(e,n){return new As(e,{index:n,spacingHorizontal:t.state.spacingHorizontal,spacingVertical:t.state.spacingVertical,onItemOver:t.onItemOver,onItemOut:t.onItemOut,onItemTouchStart:t.onItemTouchStart})})),t.itemLen=t.items.length,t.imageMode=null,t.progress=0,t.onDebouncedResize=ee(t.onResize,100),t.refreshDataset(t.state),t.refreshMode(t.state,!0),t.baseSticky=new ya(t.baseStickyNode,{forceFixed:!1}),t.ruler=new Aa({onResize:t.onRulerResize}),t.bindListeners(),t.state.persistSelection&&t.checkIsPersistCapable(t.state.mode)&&t.setItem(t.state.lastIndex,!0),t.tweaks.watch.length&&i.a.watch(t.tweaks.watch,t.onTweak),t}return t=s,(n=[{key:"bindListeners",value:function(){window.addEventListener(u.a,this.onResize),c.a.on(this.onDebouncedResize),this.onResize()}},{key:"unbindListeners",value:function(){window.removeEventListener(u.a,this.onResize),c.a.off(this.onDebouncedResize)}},{key:"refreshPersist",value:function(){this.unsetItem(-1)}},{key:"refreshDataset",value:function(e){this.node.dataset.layout=e.layout,this.node.dataset.delimiter=e.delimiter,this.node.dataset.activeItemFront=e.selectionInFront,this.node.dataset.mode=e.mode,this.node.dataset.width=e.width,this.node.dataset.height=e.height,this.node.dataset.customHeight=e.customHeight,this.node.dataset.verticalAlign=e.verticalAlign,this.node.dataset.horizontalAlign=e.horizontalAlign,this.node.dataset.modeBackgroundLayout=e.modeBackgroundLayout,this.node.dataset.animation=e.animation,this.node.dataset.animationDuration=e.animationDuration}},{key:"refreshMode",value:function(e){var t=e.mode,n=xs(e,["mode"]);if(!hs[t])throw new Error('Mode of mode "'.concat(t,'" does not exist'));this.imageMode&&(this.imageMode.destroy(),this.imageMode=null),this.imageMode=new hs[t].Class(this.ref.backgrounds,Ps(Ps({},n),{},{rootNode:this.node,container:this.baseStickyNode,wrapper:this.ref.backgroundsWrapper,items:this.ref.background,secondaryItems:this.ref.itemBackground}))}}])&&ks(t.prototype,n),r&&ks(t,r),s}(d.a);_s(Rs,"defaultProps",{baseStickySelector:".portfolio-hover-base-sticky",itemsSelector:".portfolio-hover-items",listSelector:".portfolio-hover-items-list",itemSelector:".portfolio-hover-item",itemBackgroundSelector:".portfolio-hover-item-background-wrapper",backgroundsSelector:".portfolio-hover-backgrounds",backgroundsWrapperSelector:".portfolio-hover-backgrounds-wrapper",backgroundSelector:".portfolio-hover-bg"});function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ms=["tweak-portfolio-index-background-animation-type","tweak-portfolio-index-background-animation-duration","tweak-portfolio-index-background-width"],Fs={Default:400,Fast:200,Slow:800},Bs=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.refs={},this.refs.container=t,this.refs.mask=t.querySelector(".portfolio-index-background-image-mask"),this.refs.content=t.querySelector(".portfolio-index-background-image-content"),this.refs.image=t.querySelector("img[data-src]"),this.boundOnLoad=this.onLoad.bind(this),this.isVisible=!1,this.refs.container.style.visibility="hidden"}var t,n,r;return t=e,(n=[{key:"show",value:function(e,t){this.isVisible||(this.isVisible=!0,this.refs.container.classList.add("is-active"),this.refs.container.style.visibility="visible",this.refs.mask&&(this.refs.mask.style.animation="portfolio-index-background-image-mask--".concat(e,"-in ").concat(t,"ms both"),this.refs.content.style.animation="portfolio-index-background-image-content--".concat(e,"-in ").concat(t,"ms both")))}},{key:"hide",value:function(e,t){this.isVisible&&(this.isVisible=!1,this.refs.container.classList.remove("is-active"),this.refs.mask&&(this.refs.mask.style.animation="portfolio-index-background-image-mask--".concat(e,"-out ").concat(t/2,"ms both"),this.refs.content.style.animation="portfolio-index-background-image-content--".concat(e,"-out ").concat(t/2,"ms both")))}},{key:"load",value:function(){this.refs.image&&(this.isLoaded||this.refs.image.addEventListener("load",this.boundOnLoad),a.a.loadLazy(this.refs.image,{load:!0}))}},{key:"onLoad",value:function(){this.refs.content.classList.add("is-loaded"),this.refs.image.style.display="none",this.refs.image.removeAttribute("src"),this.refs.image.removeEventListener("load",this.boundOnLoad)}},{key:"isLoaded",get:function(){return this.refs.content.classList.contains("is-loaded")}}])&&Ds(t.prototype,n),r&&Ds(t,r),e}(),zs=function(e){var t=e.closest(".content-wrapper"),n=e.querySelector(".portfolio-index-background-images"),r=e.querySelector(".portfolio-index-background-images");t.style.alignSelf="stretch",r.dataset.transition="scale-down";var o={};o.images=Array.from(e.querySelectorAll(".portfolio-index-background-image-container")),o.links=Array.from(e.querySelectorAll(".portfolio-index-background-link"));var a,s,l=o.images.map((function(e){return new Bs(e)})),d={activeIndex:null,windowSize:[0,0]},f=function(){return d.windowSize[0]>u.g.sm},h=function(){if(null===e.closest(".page-section").previousElementSibling){var t="Full Bleed"===i.a.getValue("tweak-portfolio-index-background-width"),r=document.querySelector(".header").getBoundingClientRect().height,o=e.closest(".page-section").querySelector(".section-background"),a=e.closest(".collection-type-portfolio-index-background");t?(n.style.top="0",n.style.height="100%",a.style.paddingTop="0",a.style.height="100%",o&&(o.style.top="")):(n.style.top="",n.style.height="100%",o&&(o.style.top="".concat(r,"px")))}},p=(a=function(){if(!f()){var t=e.getBoundingClientRect(),n=-t.top/(t.height-d.windowSize[1]),r=Math.floor(n*l.length);d.activeIndex=r}var a=i.a.getValue("tweak-portfolio-index-background-animation-type").toLowerCase().split(" ").join("-"),s=Fs[i.a.getValue("tweak-portfolio-index-background-animation-duration")];null!==d.activeIndex?e.classList.add("is-active"):e.classList.remove("is-active"),l.forEach((function(e,t){t===d.activeIndex?e.show(a,s):e.hide(a,s)})),o.links.forEach((function(e,t){t===d.activeIndex?e.classList.add("is-active"):e.classList.remove("is-active")}))},s=!1,function(){var e=arguments;s||(s=!0,window.requestAnimationFrame((function(){s=!1,a(e)})))});i.a.watch(Ms,(function(e){"tweak-portfolio-index-background-width"===e.name&&h(),l.forEach((function(e){e.load()})),p()})),o.links.forEach((function(e,t){e.addEventListener("mouseenter",(function(){d.activeIndex=t,p()})),e.addEventListener("mouseleave",(function(){d.activeIndex=null,p()}))})),window.addEventListener("scroll",(function(){p()}));var m=function(){h(),d.windowSize=[window.innerWidth,window.innerHeight],l.forEach((function(e){e.load()})),f()&&(d.activeIndex=null),p()};return m(),{destroy:function(){n.style.top="",t.style.alignSelf="",c.a.off(m,u.e)}}},Ns=function(e){var t,n=function(){a.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e)},r=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.classList.add("is-loaded");var r=n.target;r&&r.removeEventListener("load",t)};return i.a.watch(["tweak-products-width","tweak-products-gutter-column","tweak-products-gutter-row","tweak-products-columns","tweak-products-image-aspect-ratio"],(function(e){n()})),(t=e.querySelectorAll("img")).length<=0&&r(),t.forEach((function(e){e.addEventListener("load",r)})),n(),c.a.on(n,u.e),{destroy:function(){c.a.off(n)}}},Ws=n(234),Us=function(e){var t=window.matchMedia("(max-width: ".concat(u.g[e]-1,"px)"));return t&&t.matches},qs=function(e,t){var n=e.querySelectorAll(".product-variants");n.length&&n.forEach((function(e){return e.addEventListener("variant:change",(function(e){var n=e.detail.selectedVariant.mainImageId,r=t.state.currentSlideIndex;if(n){var o=i.a.getValue("tweak-product-basic-item-gallery-design"),a=Array.from(t.state.slides).find((function(e){return e.dataset.imageId===n})),s=parseInt(a.dataset.slideIndex,10)-1;if("Stacked"!==o||T())r!==s&&(t.galleryNode.classList.add("enable-slide-animations"),t.setCurrentSlideIndex(s,t.state.currentSlideIndex>s));else{var c=document.body.scrollTop+document.documentElement.scrollTop+a.getBoundingClientRect().top;Object(Ws.scrollTo)(document.documentElement,c,{minDuration:350,maxDuration:550})}if("full-width-carousel"===t.layout&&!Us("sm")&&t.prevButton){var u=parseInt(a.dataset.slideTransition,10);t.state.slideTransitionValue=-50*u,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)"),t.prevButton.disabled=!1,t.nextButton.disabled=!1,0===u&&(t.prevButton.disabled=!0),u>=t.state.slideTransitionTotal-2&&(t.nextButton.disabled=!0),t.setCurrentSlideIndex(s,t.state.currentSlideIndex>s)}}}))}))};function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t){return(Gs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zs(e);if(t){var o=Zs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xs(this,n)}}function Xs(e,t){return!t||"object"!==Hs(t)&&"function"!=typeof t?Qs(e):t}function Qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ks=function(){return i.a.getValue("tweak-product-basic-item-gallery-design")},$s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gs(e,t)}(s,e);var t,n,r,o=Ys(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Js(Qs(t=o.call(this)),"onTweakSync",(function(e){t.updateSlideAttributes(),"tweak-product-basic-item-click-action"!==e.name||"Lightbox"!==e.value?"tweak-product-basic-item-click-action"!==e.name?t.loadImages():t.unbindLightboxListeners():t.bindLightboxListeners()})),Js(Qs(t),"openLightbox",(function(e){if(t.isLightboxEnabled()){var n=e.target.closest('[data-product-gallery="slides-item"]'),r=Array.from(t.state.slides).indexOf(n);if(-1!==r){var o=t.state.slides[r].dataset.slideUrl,i=t.state,a=i.isHistoryEnabled,s=i.collectionFullUrl;if(a&&o){var c=s.replace(/^\/+(?! )/,"");e.preventDefault(),history.pushState({},"","".concat(c,"/?itemId=").concat(o))}}}})),Js(Qs(t),"onSlideKeyDown",(function(e){13===e.keyCode&&t.openLightbox(e)})),Js(Qs(t),"bindLightboxListeners",(function(){t.state.slides.forEach((function(e){e.addEventListener("click",t.openLightbox),e.addEventListener("keydown",t.onSlideKeyDown)}))})),Js(Qs(t),"unbindLightboxListeners",(function(){t.state.slides.forEach((function(e){e.removeEventListener("click",t.openLightbox),e.removeEventListener("keydown",t.onSlideKeyDown)}))})),Js(Qs(t),"bindListeners",(function(){document.addEventListener("keydown",t.onKeypress),t.prevButton&&t.prevButton.addEventListener("click",t.onPreviousSlide),t.nextButton&&t.nextButton.addEventListener("click",t.onNextSlide),t.thumbnails.forEach((function(e){return e.addEventListener("click",t.onClickThumbnail)}))})),Js(Qs(t),"unbindListeners",(function(){document.removeEventListener("keypress",t.onKeypress),t.prevButton&&t.prevButton.removeEventListener("click",t.onPreviousSlide),t.nextButton&&t.nextButton.removeEventListener("click",t.onNextSlide),t.thumbnails.forEach((function(e){return e.removeEventListener("click",t.onClickThumbnail)}))})),Js(Qs(t),"onKeypress",(function(e){37===e.keyCode?t.onPreviousSlide():39===e.keyCode&&t.onNextSlide()})),Js(Qs(t),"onImageLoaded",(function(e){var n=e.currentTarget.parentNode;n.classList.add("loaded"),"1"===n.dataset.slideIndex&&t.onFirstImageLoaded()})),Js(Qs(t),"onFirstImageLoaded",(function(){Array.from(t.node.querySelectorAll("[data-first-img-load]")).forEach((function(e){e.classList.add("enabled")}))})),Js(Qs(t),"getImageMode",(function(){if(T())return"fill";if(t.layout)return"cover";switch(Ks()){case"Carousel":return"contain";case"Slideshow":return"fill";default:return"none"}})),Js(Qs(t),"loadImages",(function(){var e=t.getImageMode();Array.from(t.galleryNode.querySelectorAll("img")).forEach((function(n){n.onload=t.onImageLoaded,a.a.loadLazy(n,{load:!0,mode:e,useAdvancedPositioning:!0})}));var n=t.galleryNode.querySelector(".selected");"full-width-carousel"===t.layout&&t.nextButton&&t.updateCarouselControls(n)})),Js(Qs(t),"setTransitionCount",(function(){var e=0;Array.from(t.galleryNode.querySelectorAll("img")).forEach((function(t){var n,r,o,i=t.dataset.imageDimensions,a=t.parentNode;a.dataset.slideTransition=e,e+=1,i&&(o=i.split("x"),n=parseInt(o[0],10),r=parseInt(o[1],10),n>r)&&(a.dataset.landscape=!0,e+=1)})),t.state.slideTransitionTotal=e})),Js(Qs(t),"updateCarouselControls",(function(e){if(Us("sm"))return t.prevButton.disabled=!1,t.nextButton.disabled=!1,void(t.slideshow.style="");if(t.state.slideTransitionTotal<3)return t.prevButton.classList.add("invisible"),void t.nextButton.classList.add("invisible");if(e){var n=parseInt(e.dataset.slideTransition,10);t.state.slideTransitionValue=-50*n,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)"),0===n&&(t.prevButton.disabled=!0,t.nextButton.disabled=!1),n>=t.state.slideTransitionTotal&&(t.nextButton.disabled=!0,t.prevButton.disabled=!1)}})),Js(Qs(t),"refreshSlideStyles",(function(e){var n=t.state,r=n.currentSlideIndex,o=n.totalSlides,i=n.prevSlideIndex,a=o-1;Array.from(t.node.querySelectorAll('[data-product-gallery="slides-item"]')).forEach((function(n,s){if(i===s||r===s){var c=s<=r-1||0===r&&s===a,u=s>=r+1||r===a&&0===s;n.classList.toggle("prev-slide",o>1&&c),n.classList.toggle("next-slide",o>1&&u),n.classList.toggle("selected",s===r),n.classList.toggle("going-prev",e),n.classList.toggle("going-next",!e),t.updateSlideAttributes()}}))})),Js(Qs(t),"onClickThumbnail",(function(e){var n=e.currentTarget,r=Array.from(n.parentNode.children),o=r.indexOf(n);t.setCurrentSlideIndex(o),t.setCurrentAttribute(o,r)})),Js(Qs(t),"onPreviousSlide",(function(){t.galleryNode.classList.add("enable-slide-animations");var e=t.state,n=e.currentSlideIndex,r=e.lastSlideChangeTime,o=e.totalSlides,i=Date.now();if(!t.prevButton||!t.prevButton.disabled){if("full-width-carousel"===t.layout&&!Us("sm")&&t.state.slideTransitionTotal>2){t.prevButton.disabled=!1,t.nextButton.disabled=!1,t.state.slideTransitionValue=t.state.slideTransitionValue+50,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)");var a=Math.abs(t.state.slideTransitionValue/50);return t.galleryNode.querySelector('[data-slide-transition="'.concat(a,'"]'))&&(t.setState({lastSlideChangeTime:i}),t.setCurrentSlideIndex(n-1,!0)),void(0===t.state.slideTransitionValue&&(t.prevButton.disabled=!0))}if(r+400<=i){t.setState({lastSlideChangeTime:i});var s=0===n?o-1:n-1;t.setCurrentSlideIndex(s,!0)}}})),Js(Qs(t),"onNextSlide",(function(){t.galleryNode.classList.add("enable-slide-animations");var e=t.state,n=e.currentSlideIndex,r=e.lastSlideChangeTime,o=e.totalSlides,i=Date.now();if(!t.nextButton||!t.nextButton.disabled){if("full-width-carousel"===t.layout&&!Us("sm")&&t.state.slideTransitionTotal>2){t.prevButton.disabled=!1,t.nextButton.disabled=!1,t.state.slideTransitionValue=t.state.slideTransitionValue-50,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)");var a=Math.abs(t.state.slideTransitionValue/50);return t.galleryNode.querySelector('[data-slide-transition="'.concat(a,'"]'))&&t.setCurrentSlideIndex(n+1),void(a>=t.state.slideTransitionTotal-2&&(t.nextButton.disabled=!0))}r+400<=i&&(t.setState({lastSlideChangeTime:i}),t.setCurrentSlideIndex(n===o-1?0:n+1))}})),Js(Qs(t),"refreshSlideIndicator",(function(){var e=t.state,n=e.totalSlides,r=e.currentSlideIndex,o=t.node.querySelector('[data-product-gallery="indicator"]');n>1&&o&&(o.textContent="".concat(r+1," / ").concat(n))})),Js(Qs(t),"setCurrentSlideIndex",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.setState({currentSlideIndex:e,prevSlideIndex:t.state.currentSlideIndex}),t.refreshSlideIndicator(),t.refreshSlideStyles(n)})),Js(Qs(t),"setCurrentAttribute",(function(e,t){t.forEach((function(t,n){t.setAttribute("aria-current",e===n?"true":"false")}))})),Js(Qs(t),"updateSlideAttributes",(function(){var e=t.state,n=e.slides,r=e.currentSlideIndex;n.forEach((function(e,n){var o="Stacked"===Ks()||n===r;o?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true"),o&&t.isLightboxEnabled()?(e.setAttribute("tabindex",0),e.setAttribute("role","link")):(e.setAttribute("tabindex",-1),e.removeAttribute("role"))}))})),Js(Qs(t),"destroy",(function(){t.swipe&&(t.swipe.destroy(),c.a.off(t.loadImages)),t.unbindListeners()})),t.node=e,t.galleryNode=e.querySelector('[data-product-gallery="container"]'),t.layout=e.dataset.layout,t.slideshow=e.querySelector('[data-product-gallery="slideshow"]'),t.thumbnails=Array.from(t.node.querySelectorAll('[data-product-gallery="thumbnails-item"]')),t.prevButton=e.querySelector('[data-product-gallery="prev"]'),t.nextButton=e.querySelector('[data-product-gallery="next"]');var n=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),r="enabled_for_blogs_and_pages"===Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.websiteSettings.pinterestOverlayOptions.mode",null);t.history=Object(W.a)();var u=t.node.querySelectorAll('[data-product-gallery="slides-item"]');t.state={lastSlideChangeTime:0,slides:u,totalSlides:u.length,collectionFullUrl:n,isHistoryEnabled:n&&t.history,slideTransitionValue:0,slideTransitionTotal:0};if(i.a.watch(["tweak-product-basic-item-gallery-aspect-ratio","tweak-product-basic-item-gallery-design","tweak-product-basic-item-gallery-width","tweak-product-basic-item-width","tweak-product-basic-item-thumbnail-placement","tweak-product-basic-item-click-action"],t.onTweakSync),u.length>0){t.setTransitionCount(),t.setCurrentSlideIndex(0),c.a.on(t.loadImages),t.loadImages();var l=t.node.querySelector('[data-product-gallery="slides"]');t.swipe=new $.a({axis:"x",node:l,onSwipeRight:t.onPreviousSlide,onSwipeLeft:t.onNextSlide,preventScroll:!1}),qs(t.node,Qs(t)),t.thumbnails&&t.setCurrentAttribute(0,t.thumbnails),t.updateSlideAttributes(),r&&u.forEach((function(e){return e.classList.add("sqs-pinterest-products-wrapper")}))}return t.bindListeners(),t.isLightboxEnabled()&&t.bindLightboxListeners(),t}return t=s,(n=[{key:"isLightboxEnabled",value:function(){return"Lightbox"===i.a.getValue("tweak-product-basic-item-click-action")}}])&&Vs(t.prototype,n),r&&Vs(t,r),s}(d.a);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t){return(nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ac(e);if(t){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oc(this,n)}}function oc(e,t){return!t||"object"!==ec(t)&&"function"!=typeof t?ic(e):t}function ic(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nc(e,t)}(i,e);var t,n,r,o=rc(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),n=ic(t),a=function(){t.variants.forEach((function(e,n){e.removeEventListener("change",t.changeEvents[n])}))},(r="destroy")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.changeEvents=[],t.node=e,t.variants=t.node.querySelectorAll(".variant-option"),t.variants.forEach((function(e){var n=e.querySelector(".variant-select-wrapper"),r=e.querySelector("select"),o=r.querySelector("option").innerText;n.setAttribute("data-text",o);var i=t.createChangeCallback(n,r,o);t.changeEvents.push(i),e.addEventListener("change",i)})),t}return t=i,(n=[{key:"createChangeCallback",value:function(e,t,n){return function(){e.setAttribute("data-text",t.value||n)}}}])&&tc(t.prototype,n),r&&tc(t,r),i}(d.a);function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fc(e);if(t){var o=fc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dc(this,n)}}function dc(e,t){return!t||"object"!==cc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(n,e);var t=lc(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this),e.querySelector(".sqs-add-to-cart-button").classList.remove("sqs-editable-button"),r}return n}(d.a);function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mc=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]).includes("seven_one_image_overlay_opacity"),vc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t,this.imageOverlayOpacityValue=this.node.getAttribute("data-image-overlay-opacity"),this.applyOverlay()}var t,n,r;return t=e,(n=[{key:"applyOverlay",value:function(){!mc&&window.isNaN(this.imageOverlayOpacityValue)||(this.node.style.opacity=this.imageOverlayOpacityValue)}}])&&pc(t.prototype,n),r&&pc(t,r),e}();function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workFn=t,this.pending=!1,this.samples=[],this.lastCompleteExecution=null,this.sampledAverageExecution=null,this.pendingDowntime=null}var t,n,r;return t=e,(n=[{key:"invoke",value:function(){var e=this,t=this.lastCompleteExecution,n=this.sampledAverageExecution;if(!this.pending){if(null!==t&&null!==n){var r=Date.now()-t,o=2*n;if(r<o){var i=o-r;return this.pendingDowntime?void 0:void(this.pendingDowntime=setTimeout((function(){e.invoke(),e.pendingDowntime=null}),i))}}this.doWork()}}},{key:"doWork",value:function(){var e=Date.now();this.pending=!0;try{this.workFn()}catch(e){console.error(e)}this.lastCompleteExecution=Date.now();var t=this.lastCompleteExecution-e;this.pending=!1;var n=this.samples;n.unshift(t),n.length>22&&(this.samples=n=n.slice(0,22)),this.sampledAverageExecution=n.reduce((function(e,t){return e+t}),0)/n.length}}])&&yc(t.prototype,n),r&&yc(t,r),e}();var bc=function(e){var t=new gc(e);return function(){return t.invoke()}};function wc(e){return function(e){if(Array.isArray(e))return Sc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ac=function(e){return"collection-type-".concat(e)},Oc=Object.values(u.d).map(Ac);function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pc={backgroundWidth:["background-width--full-bleed","background-width--inset"],contentWidth:["content-width--narrow","content-width--medium","content-width--wide"],sectionHeight:["section-height--small","section-height--medium","section-height--large"],horizontalAlignment:["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"],verticalAlignment:["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"]},kc=["contentWidth","customContentWidth","customSectionHeight","imageOverlayOpacity"].concat(Object.keys(Pc)),Tc=!1,Cc=!1,Ic=!1,jc=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ec(this,"loadBackgroundImage",(function(){null!==n.ref.backgroundImage&&a.a.loadLazy(n.ref.backgroundImage,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),Ec(this,"onSectionTweak",(function(e){n.isMainContentSection&&e.typeName&&e.typeName.indexOf("blog-")>-1&&function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;(t=n.classList).remove.apply(t,wc(Oc)),e&&n.classList.add(Ac(e))}(e.typeName);var t=e.styles,r=Object.keys(t).filter((function(e){return n.currentStyles[e]!==t[e]}));if(0===r.length)return!1;if(t.contentWidth===n.currentStyles.contentWidth&&t.customContentWidth===n.currentStyles.customContentWidth||(Ic=!0),t.imageOverlayOpacity!==n.currentStyles.imageOverlayOpacity){var o=n.node.querySelector(".section-background-overlay");o&&(o.style.opacity=t.imageOverlayOpacity)}"section-height--custom"===t.sectionHeight&&(Tc=!0),t.verticalAlignment!==n.currentStyles.verticalAlignment&&(Cc=!0),n.currentStyles=t;var a="true"===i.a.getValue("tweak-transparent-header");if(n.isFirstSection&&a){var s=document.querySelector(".header");if(!n.node.classList.contains(u.c)&&r.includes("sectionTheme")){var c=t.sectionTheme;Xr(s,u.j,c)}if(r.includes("backgroundWidth")){if(t.backgroundWidth===u.b){var l=n.currentStyles.sectionTheme;Xr(s,u.j,l)}t.backgroundWidth===u.c&&Xr(s,u.j)}}return!!r.find((function(e){return kc.includes(e)}))&&(n.throttledRenderStyles(),!0)})),Ec(this,"destroy",(function(){M.a.disconnect(n.sectionId,n.boundSectionTweak),c.a.off(n.loadBackgroundImage)})),this.node=t,this.sectionId=this.node.getAttribute("data-section-id"),this.isMainContentSection=this.node.classList.contains("content-collection"),this.currentStyles=JSON.parse(this.node.getAttribute("data-current-styles")),this.isFirstSection=null===this.node.previousElementSibling,this.boundSectionTweak=this.onSectionTweak.bind(this),this.throttledRenderStyles=bc((function(){return n.renderStyles()})),M.a.watch(this.sectionId,this.boundSectionTweak),this.viewportWatcher=new ke.a,this.viewportWatcher.addNodes({nodes:this.node,range:[100,0],callbacks:{onEnter:function(){n.node.dataset.active=!0}}}),this.ref={backgroundImage:this.node.querySelector(".section-background img")},c.a.on(this.loadBackgroundImage,u.e),this.loadBackgroundImage()}var t,n,r;return t=e,(n=[{key:"removeClassesAndApplyNewValue",value:function(e,t,n,r){var o=this;e.forEach((function(e){return o.node.classList.remove(e)})),e.includes(t)?(this.node.classList.add(t),r&&r(t)):n&&n(t)}},{key:"applySectionHeight",value:function(e,t){if("string"!=typeof t){var n=this.node.querySelector(".content-wrapper");this.node.style.minHeight="".concat(t,"vh"),"vertical-alignment--top"===e?(n.style.paddingTop="",n.style.paddingBottom="calc(".concat(t,"vmax / 5)")):"vertical-alignment--bottom"===e?(n.style.paddingTop="calc(".concat(t,"vmax / 5)"),n.style.paddingBottom=""):(n.style.paddingTop="calc(".concat(t,"vmax / 10)"),n.style.paddingBottom="calc(".concat(t,"vmax / 10)"))}}},{key:"renderStyles",value:function(){var e=this,t=this.currentStyles;this.removeClassesAndApplyNewValue(Pc.backgroundWidth,t.backgroundWidth),this.removeClassesAndApplyNewValue(Pc.horizontalAlignment,t.horizontalAlignment),this.removeClassesAndApplyNewValue(Pc.verticalAlignment,t.verticalAlignment);var n=this.node.querySelector(".content-wrapper"),r=n.querySelector(".content");Tc||Cc?this.applySectionHeight(t.verticalAlignment,t.customSectionHeight):(n.style.paddingTop="",n.style.paddingBottom="",this.node.style.minHeight=""),this.removeClassesAndApplyNewValue(Pc.sectionHeight,t.sectionHeight,(function(n){e.applySectionHeight(t.verticalAlignment,n)}),(function(){n.style.paddingTop="",n.style.paddingBottom="",e.node.style.minHeight=""})),Ic&&!this.isMainContentSection&&this.removeClassesAndApplyNewValue(Pc.contentWidth,t.contentWidth,(function(){r.style.width="".concat(t.customContentWidth,"%")}),(function(){r.style.width=""})),window.Y.one(window.Y.config.win).simulate("resize")}}])&&xc(t.prototype,n),r&&xc(t,r),e}();n(58),n(376),n(379),n(381),n(382);function Lc(e){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _c=function e(t,n){if(t===n)return!0;if(Lc(t)!==Lc(n)||"object"!==Lc(t)||null===t||null===n)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length||r.find((function(e){return o.indexOf(e)<0})))return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0};function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dc(e){return e&&e.constructor&&"Object"===e.constructor.name}function Mc(e,t){return!e&&!t||Array.isArray(e)&&Array.isArray(t)||Dc(e)&&Dc(t)||"string"==typeof e&&"string"==typeof t||!isNaN(e)&&!isNaN(t)}function Fc(e){var t=e.newPointer,n=e.oldPointer,r=new Set;return t.forEach((function(e){n.includes(e)||r.add(e)})),Array.isArray(n)&&n.forEach((function(e){t.includes(e)||r.add(e)})),Array.from(r)}var Bc=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("object"!==Rc(t)||"object"!==Rc(n))throw new Error("".concat(e.name," parameters must be Arrays or Objects, received: ").concat(t," and ").concat(n));if(!_c(t,n)){if(Array.isArray(t)&&Array.isArray(n))return Fc({newPointer:t,oldPointer:n});var o=Object.keys(t),i=o.map((function(o){var i=t[o],a=n[o];if(!Mc(i,a))return"".concat(r).concat(o);if(Dc(i)&&Dc(a))return e(i,a,"".concat(r).concat(o,"."));if(Array.isArray(i)){if(_c(i,a))return null;var s=Fc({newPointer:i,oldPointer:a});return"".concat(r).concat(o,"[").concat(s,"]")}return _c(i,a)?null:"".concat(r).concat(o)})).filter((function(e){return!!e})),a=Fc({newPointer:Object.keys(t),oldPointer:Object.keys(n)});return a.forEach((function(e){i.includes("".concat(r).concat(e))||i.push("".concat(r).concat(e))})),i.flat()}return[]};function zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Uc(this,"updateRef",(function(){return{imageOuterWrapper:n.node.querySelector(".ImageAndText__image-outer-wrapper"),imageInnerWrapper:n.node.querySelector(".ImageAndText__image-inner-wrapper"),image:n.node.querySelector(".ImageAndText__image"),textOuterWrapper:n.node.querySelector(".ImageAndText__text-outer-wrapper"),headline:n.node.querySelector(".ImageAndText__headline"),subheadline:n.node.querySelector(".ImageAndText__subheadline"),buttonOuterWrapper:n.node.querySelector(".ImageAndText__button-link-outer-wrapper"),button:n.node.querySelector(".ImageAndText__button-link")}})),Uc(this,"getStateFromDOM",(function(){var e=JSON.parse(n.node.dataset.currentContext);try{e.imageId=e.image.id,delete e.image}catch(e){console.warn("No image present, ".concat(e))}return e.styles&&e.styles.backgroundImage&&e.styles.backgroundImage.id&&(e.backgroundImageId=e.styles.backgroundImage.id,delete e.styles.backgroundImage),e})),Uc(this,"updateStateFromContext",(function(e){var t=Object.assign({},n.state);return t.headline=e.headline,t.subheadline=e.subheadline,t.imageId=e.imageId,t.linkType=e.link.linkType,t.linkUrl=e.link.linkUrl,t.linkText=e.link.linkText,t.linkNewWindow=e.link.linkNewWindow,t.imageAndTextOptions=e.imageAndTextOptions,t.styles=e.styles,t})),Uc(this,"bindListeners",(function(){n.ref.image&&n.ref.image.addEventListener("load",n.addImageLoadClassOnce,{once:!0}),c.a.on(n.loadImage,u.e),M.a.watch(n.state.id,n.onSectionTweak)})),Uc(this,"addImageLoadClassOnce",(function(e){e.target.classList.add("ImageAndText__image--loaded"),e.target.removeEventListener(e.type,n.addImageLoadClassOnce)})),Uc(this,"loadImage",(function(){null!==n.ref.image&&a.a.loadLazy(n.ref.image,{load:!0,useAdvancedPositioning:!0})})),Uc(this,"onSectionTweak",(function(e){var t={headline:n.state.headline,subheadline:n.state.subheadline,imageId:n.state.imageId,mediaFocalPoint:n.state.mediaFocalPoint,link:{linkType:n.state.linkType,linkUrl:n.state.linkUrl,linkText:n.state.linkText,linkNewWindow:n.state.linkNewWindow},backgroundImageId:n.state.backgroundImageId},r={headline:e.headline,subheadline:e.subheadline,imageId:e.imageId,mediaFocalPoint:e.mediaFocalPoint,link:e.link,backgroundImageId:e.backgroundImageId},o=Bc(r,t);if(n.shouldContentChangeUpdateDOM(o,t,r))return!1;var i=Object.assign({},n.state.imageAndTextOptions),a=Object.assign({},e.imageAndTextOptions),s=Bc(a,i);if(n.shouldOptionChangeUpdateDOM(s))return!1;var c=Object.assign({},n.state.styles),u=Object.assign({},e.styles);return delete c.video,delete u.video,!(Bc(c,u).length>0)&&(n.handleContentUpdate(o,r),n.handleOptionsUpdate(s,e.imageAndTextOptions),n.ref=n.updateRef(),n.state=n.updateStateFromContext(e),!0)})),Uc(this,"handleContentUpdate",(function(e,t){if(e.includes("headline")&&n.ref.headline&&(n.ref.headline.innerText=t.headline),e.includes("subheadline")&&n.ref.subheadline&&(n.ref.subheadline.querySelector(".ImageAndText__subheadline_text").innerText=t.subheadline),e.includes("link.linkText")&&n.ref.button&&(n.ref.button.innerText=t.link.linkText),e.includes("link.linkUrl")&&n.ref.button&&(n.ref.button.href=t.link.linkUrl),e.includes("link.linkNewWindow")&&n.ref.button&&n.ref.button.setAttribute("target",t.link.linkNewWindow?"_blank":"_self"),e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var r=t.mediaFocalPoint,o=r.x,i=r.y;a.a.load(n.ref.image,{load:!0,forceImageUpdate:!0,useAdvancedPositioning:!0,focalPoint:{x:o,y:i}}),n.ref.image.dataset.imageFocalPoint="".concat(o,",").concat(i)}})),Uc(this,"handleOptionsUpdate",(function(e,t){if(e.includes("textWidth")&&n.setTextWidths(t),e.includes("textPositionVertical")&&(n.ref.textOuterWrapper.dataset.positionVertical=t.textPositionVertical),n.ref.headline&&((e.includes("headlineWidth.value")||e.includes("headlineWidth.unit"))&&(n.ref.headline.style.width="".concat(t.headlineWidth.value).concat(t.headlineWidth.unit)),e.includes("headlineTextAlignment")&&(n.ref.headline.style.textAlign=t.headlineTextAlignment),e.includes("headlinePositionHorizontal")&&(n.ref.headline.dataset.positionHorizontal=t.headlinePositionHorizontal),(e.includes("headlineBottomSpacing.value")||e.includes("headlineBottomSpacing.unit"))&&(n.ref.headline.style.marginBottom="".concat(t.headlineBottomSpacing.value).concat(t.headlineBottomSpacing.unit))),n.ref.subheadline&&((e.includes("subheadlineWidth.value")||e.includes("subheadlineWidth.unit"))&&(n.ref.subheadline.style.width="".concat(t.subheadlineWidth.value).concat(t.subheadlineWidth.unit)),e.includes("subheadlineTextAlignment")&&(n.ref.subheadline.style.textAlign=t.subheadlineTextAlignment),e.includes("subheadlinePositionHorizontal")&&(n.ref.subheadline.dataset.positionHorizontal=t.subheadlinePositionHorizontal)),(e.includes("subheadlineBottomSpacing.value")||e.includes("subheadlineBottomSpacing.unit"))&&n.ref.buttonOuterWrapper&&(n.ref.buttonOuterWrapper.style.marginTop="".concat(t.subheadlineBottomSpacing.value).concat(t.subheadlineBottomSpacing.unit)),e.includes("imageAspectRatio")&&n.ref.imageInnerWrapper&&n.ref.image){if(n.ref.imageInnerWrapper.dataset.aspectRatio=t.imageAspectRatio,n.ref.image.dataset.mode="original"===t.imageAspectRatio?"none":"cover","original"===t.imageAspectRatio){n.ref.image.style.objectFit="",n.ref.image.style.objectPosition="";var r=zc(n.ref.image.dataset.imageDimensions.split("x"),2),o=r[0],i=r[1];n.ref.imageInnerWrapper.style.paddingBottom="calc(".concat(i," * 100% / ").concat(o,")")}else n.ref.imageInnerWrapper.style.paddingBottom="";n.loadImage()}n.ref.imageOuterWrapper&&(e.includes("imageWidth")&&(n.ref.imageOuterWrapper.style.width="".concat(t.imageWidth,"%"),n.loadImage(),n.setTextWidths(t)),e.includes("imagePositionVertical")&&(n.ref.imageOuterWrapper.dataset.positionVertical=t.imagePositionVertical)),e.includes("textCardEnabled")&&(n.ref.textOuterWrapper.dataset.textCardEnabled=t.textCardEnabled,n.setCardLayout(t)),(e.includes("textCardPadding.value")||e.includes("textCardPadding.unit"))&&n.setCardLayout(t),(e.includes("textCardOffsetVertical.value")||e.includes("textCardOffsetVertical.unit"))&&(n.ref.textOuterWrapper.style.top="".concat(t.textCardOffsetVertical.value).concat(t.textCardOffsetVertical.unit)),e.includes("equalContentHeightsEnabled")&&(n.node.dataset.equalContentHeightsEnabled=t.equalContentHeightsEnabled),(e.includes("imageTextSpacing.value")||e.includes("imageTextSpacing.unit"))&&n.setTextWidths(t)})),Uc(this,"shouldContentChangeUpdateDOM",(function(e,t,n){return!(!e.includes("headline")||""!==t.headline&&""!==n.headline)||(!(!e.includes("subheadline")||""!==t.subheadline&&""!==n.subheadline)||!!(e.includes("imageId")||e.includes("link.linkType")||e.includes("backgroundImageId")))})),Uc(this,"shouldOptionChangeUpdateDOM",(function(e){return!!(e.includes("layout")||e.includes("textPositionHorizontal")||e.includes("imagePositionHorizontal"))})),Uc(this,"setTextWidths",(function(e){var t="".concat(e.imageWidth,"%"),r=e.imageTextSpacing,o="".concat(e.textCardPadding.value,"%"),i="".concat(e.textWidth,"%"),a=e.headlineWidth,s=e.subheadlineWidth;switch(e.layout){case"card":i="calc(100% - ".concat(t," - ").concat(r.value).concat(r.unit,")");break;case"collage":i="calc(100% - ".concat(t," + (").concat(t," * ").concat(r.value," / 100))");break;case"overlap":a="calc(100% - ".concat(t," + (").concat(t," * ").concat(r.value," / 100))"),s="calc(100% - ".concat(t," - ").concat(o,")")}n.ref.textOuterWrapper.style.width=i,n.ref.headline&&(n.ref.headline.style.width=a),n.ref.subheadline&&(n.ref.subheadline.style.width=s)})),Uc(this,"setCardLayout",(function(e){if("overlap"===e.layout)n.setTextWidths(e);else{var t=e.textCardEnabled?"".concat(e.textCardPadding.value).concat(e.textCardPadding.unit):"0";n.ref.textOuterWrapper.style.padding=t}})),Uc(this,"destroy",(function(){M.a.disconnect(n.sectionId,n.boundSectionTweak),c.a.off(n.loadImage)})),this.node=t,this.ref=this.updateRef(),this.state=this.getStateFromDOM(),this.bindListeners(),this.loadImage()}var t,n,r;return t=e,(n=[{key:"getRteConfigs",value:function(){var e=[],t=this.node.querySelector(".ImageAndText__headline");t&&e.push({node:t,jsonPointer:"#/headline",type:"plaintext"});var n=this.node.querySelector(".ImageAndText__subheadline_text");n&&e.push({node:n,jsonPointer:"#/subheadline",type:"richtext"});var r=this.node.querySelector(".ImageAndText__button-link");return r&&e.push({node:r,jsonPointer:"#/link/linkText",type:"plaintext"}),e}}])&&Wc(t.prototype,n),r&&Wc(t,r),e}(),Hc=n(66),Vc=function(e){var t=function(e){e.preventDefault();var t=window[Hc.USER_ACCOUNT_API][Hc.OPEN_ACCOUNT_SCREEN];"function"==typeof t?t():console.warn("UserAccounts API not available")},n=function(){if(window[Hc.USER_ACCOUNT_API]&&window[Hc.USER_ACCOUNT_API][Hc.IS_USER_AUTHENTICATED]){var n=(0,window[Hc.USER_ACCOUNT_API][Hc.IS_USER_AUTHENTICATED])()?".unauth":".auth",r=e.querySelector(".user-accounts-text-link"),o=r.querySelector(n);o&&r.removeChild(o),e.classList.add("loaded"),e.querySelector(".user-accounts-text-link").addEventListener("click",t)}else console.warn("UserAccounts API not available")};"complete"===document.readyState?n():window.addEventListener("load",n)};function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){Xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultProps={isEnabled:!0,interval:3e3,callback:te.a},this.props=Yc(Yc({},this.defaultProps),t),this.timeout=null,this.onTimeout=this.onTimeout.bind(this)}var t,n,r;return t=e,(n=[{key:"start",value:function(){var e=this.props,t=e.isEnabled,n=e.interval;t&&(this.timeout=setTimeout(this.onTimeout,n))}},{key:"cancel",value:function(){clearTimeout(this.timeout)}},{key:"onTimeout",value:function(){(0,this.props.callback)()}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}])&&Qc(t.prototype,n),r&&Qc(t,r),e}();function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tu=39,nu=37,ru=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eu(this,"getLastScrollableSlideIndex",(function(){return n.props.numSlides-n.props.slideColumnCount})),eu(this,"setIndex",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipModulus,o=t.isInstant,i=n.props,a=i.transitionDuration,s=i.isInfinite,c=i.onStartProgress,u=i.shouldStopNavAtEnds,l=n.len,d=e;if(!s&&u){var f=n.getLastScrollableSlideIndex()||l-1;if(d<0)return n.pos.current=0,void(n.pos.target=0);if(d>f)return n.pos.current=f,void(n.pos.target=f)}if(!r||!s){var h=(e%l+l)%l||0;d=h,n.pos.target=(n.pos.target%l+l)%l||0,n.pos.current=(n.pos.current%l+l)%l||0}if(d!==n.pos.target||o){if(n.isTransitioning=!0,n.refreshAutoplayState(),n.pos.target=e,n.tween&&n.tween.destroy(),c(n.pos.target),o)return n.setProgress(n.pos.target),void n.onTransitionComplete();n.tween=new qa.a({duration:.001*a,from:n.pos.current,to:n.pos.target,onUpdate:n.setProgress,onComplete:n.onTransitionComplete})}})),eu(this,"setOffsetIndex",(function(e,t){var r=n.props,o=r.isInfinite,i=r.shouldStopNavAtEnds,a=Math.round(n.pos.target+e);!o&&!i&&(a<0?a=n.len-1:a>n.len-1&&(a=0)),n.setIndex(a,Kc(Kc({},t),{},{skipModulus:!0}))})),eu(this,"previousIndex",(function(e){return n.setOffsetIndex(-1,e)})),eu(this,"nextIndex",(function(e){return n.setOffsetIndex(1,e)})),eu(this,"onItemOver",(function(){n.isItemOver=!0,n.refreshAutoplayState()})),eu(this,"onItemOut",(function(){n.isItemOver=!1,n.refreshAutoplayState()})),eu(this,"onTransitionComplete",(function(){n.isTransitioning=!1,n.refreshAutoplayState()})),eu(this,"refreshAutoplayState",(function(){n.isTransitioning||n.isItemOver?n.autoplay.cancel():n.autoplay.start()})),eu(this,"setProgress",(function(e){n.updateProgressValue(e)})),eu(this,"onKeyDown",(function(e){if(e.keyCode===tu)return n.nextIndex(),void e.preventDefault();e.keyCode===nu&&(n.previousIndex(),e.preventDefault())})),eu(this,"updateProgressValue",(function(e){var t=n.props.onProgress,r=n.len,o=(e%r+r)%r||0;n.pos.current=e,t(o)})),eu(this,"onAutoplay",(function(){n.nextIndex()})),this.defaultProps={nodes:{focus:document.createElement("div"),drag:document.createElement("div")},isAutoplay:!1,autoplayInterval:3e3,isInfinite:!0,numSlides:0,slideColumnCount:1,transitionDuration:600,onProgress:te.a,onStartProgress:te.a,onEnterViewport:te.a,onLeaveViewport:te.a,onFocusChange:te.a,shouldStopNavAtEnds:!1},this.props=Kc(Kc({},this.defaultProps),t);var r=this.props.numSlides;this.len=r,this.pos={target:0,current:0},this.isTransitioning=!1,this.isItemOver=!1,this.interaction=null,this.autoplay=null,this.bindListeners()}var t,n,r;return t=e,(n=[{key:"update",value:function(e){this.unbindListeners(),this.props=Kc(Kc({},this.props),e);var t=this.props.numSlides;this.len=t,this.bindListeners()}},{key:"bindListeners",value:function(){var e=this.props,t=e.isAutoplay,n=e.autoplayInterval,r=this.props.nodes.focus;r.setAttribute("tabindex","0"),r.addEventListener("keydown",this.onKeyDown),this.autoplay=new Zc({isEnabled:t,interval:n,callback:this.onAutoplay})}},{key:"unbindListeners",value:function(){var e=this.props.nodes.focus;e&&e.removeEventListener("keydown",this.onKeyDown),this.observer&&e&&this.observer.remove(e),this.autoplay.destroy()}},{key:"destroy",value:function(){this.unbindListeners(),this.tween&&(this.tween.destroy(),delete this.tween),this.interaction&&(this.interaction.destroy(),delete this.interaction),delete this.props.nodes}}])&&$c(t.prototype,n),r&&$c(t,r),e}();function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var su=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),au(this,"bindListeners",(function(){r.dragContainerNode.addEventListener("mousedown",r.onDragStart),r.dragContainerNode.addEventListener("mouseup",r.onDragEnd),r.dragContainerNode.addEventListener("mouseleave",r.onDragEnd),pt.c&&r.addTouchListeners()})),au(this,"unbindListeners",(function(){r.dragContainerNode.removeEventListener("mousedown",r.onDragStart),r.dragContainerNode.removeEventListener("mouseup",r.onDragEnd),r.dragContainerNode.removeEventListener("mouseleave",r.onDragEnd),pt.c&&r.removeTouchListeners()})),au(this,"addTouchListeners",(function(){r.dragContainerNode.addEventListener("touchstart",r.onDragStart,{passive:!0}),r.dragContainerNode.addEventListener("touchend",r.onDragEnd),r.dragContainerNode.addEventListener("touchcancel",r.onDragEnd),r.dragContainerNode.addEventListener("touchmove",r.onDragMove)})),au(this,"removeTouchListeners",(function(){r.dragContainerNode.removeEventListener("touchstart",r.onDragStart,{passive:!0}),r.dragContainerNode.removeEventListener("touchend",r.onDragEnd),r.dragContainerNode.removeEventListener("touchcancel",r.onDragEnd),r.dragContainerNode.removeEventListener("touchmove",r.onDragMove)})),au(this,"onDragStart",(function(e){var t=!!e.target.closest("button, a"),n="number"==typeof e.button&&0!==e.button;if(!(t||n)){!!e.targetTouches||r.dragContainerNode.addEventListener("mousemove",r.onDragMove);var o=Object(pt.d)(e),i=o.clientX,a=o.clientY;r.isDragging=!0,r.dragStartX=i,r.dragStartY=a,r.slideProgressAtDragStart=r.props.behaviors.pos.current,r.dragDirectionX=0,r.dragAxis=null,r.hasUserCommittedToDirection=!1,r.dragContainerNode.style.cursor="grabbing"}})),au(this,"onDragMove",(function(e){if(r.isDragging){var t=Object(pt.d)(e),n=t.clientX,o=t.clientY,i=!!e.targetTouches,a=n-r.dragStartX,s=o-r.dragStartY;if(!(n===r.previousDragPositionX&&o===r.previousDragPositionY))if(r.previousDragPositionX=n,r.previousDragPositionY=o,i&&(r.dragAxis=r.determineDragAxis({currentDragAxis:r.dragAxis,absoluteDragDistanceX:Math.abs(a),absoluteDragDistanceY:Math.abs(s)}),"horizontal"!==r.dragAxis))r.dragDirectionX=0;else{e.preventDefault();var c=r.props.slideshowProps.slideDimensions.width,u=r.slideProgressAtDragStart-a/c;r.dragDirectionX=r.getHorizontalDragDirection({nextProgress:u,currentProgress:r.props.slideshowProps.progress,dragDistanceX:a,currentDragDirection:r.dragDirectionX}),r.props.slideshowProps.progress=u,r.props.behaviors.setIndex(r.props.slideshowProps.progress,{isInstant:!0,skipModulus:!0}),r.props.slideshowProps.progressIndex=Math.floor(.5+r.props.slideshowProps.progress+.49*r.dragDirectionX)}}})),au(this,"onDragEnd",(function(e){if(r.isDragging){r.isDragging=!1,r.dragContainerNode.style.removeProperty("cursor"),!!e.targetTouches||r.dragContainerNode.removeEventListener("mousemove",r.onDragMove);var t=r.props.slideshowProps.progress!==~~r.props.slideshowProps.progress,n="horizontal"!==r.dragAxis&&t;("horizontal"===r.dragAxis||n)&&r.props.behaviors.setIndex(r.props.slideshowProps.progressIndex,{skipModulus:!0}),r.props.slideshowProps.progress=r.props.slideshowProps.progressIndex,r.props.slideshowProps.targetSlideIndex=r.props.slideshowProps.progressIndex,r.props.callback()}})),au(this,"determineDragAxis",(function(e){var t=e.currentDragAxis,n=e.absoluteDragDistanceX,o=e.absoluteDragDistanceY;return r.hasUserCommittedToDirection?t:(r.hasUserCommittedToDirection=n>r.minDragDistance||o>r.minDragDistance,n>2*o?"horizontal":"vertical")})),au(this,"getHorizontalDragDirection",(function(e){var t=e.nextProgress,n=e.currentProgress,o=e.dragDistanceX,i=e.currentDragDirection,a=t-n,s=a?a/Math.abs(a):i;return Math.abs(o)<=r.minDragDistance&&(s=0),s})),au(this,"destroy",(function(){r.unbindListeners()})),this.dragContainerNode=t,this.defaultProps={slideshowProps:{slideDimensions:{width:100,height:100},totalSlideCount:0,progress:0,progressIndex:0,targetSlideIndex:0},behaviors:{},callback:te.a},this.props=iu(iu({},this.defaultProps),n),this.isDragging=!1,this.dragStartX=0,this.slideProgressAtDragStart=0,this.dragAxis=null,this.hasUserCommittedToDirection=!1,this.minDragDistance=15,this.bindListeners()};function cu(e){return function(e){if(Array.isArray(e))return uu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultProps={regionWidth:800,regionHeight:600,maxWidth:800,maxHeight:600,spacing:{value:100,unit:"%"},items:[],isInfinite:!1,onCloneItem:te.a,slideshowGutterWidth:0,onRedraw:te.a},this.props=du(du({},this.defaultProps),t);var n=this.props,r=n.regionWidth,o=n.regionHeight,i=n.maxWidth,a=n.maxHeight;this.progress=0,this.dimensions={regionWidth:r,regionHeight:o,maxWidth:Va(i,100,r),maxHeight:Va(a,100,o)},this.items=[],this.totalWidth=0,this.setSize=this.setSize.bind(this),this.redraw(),this.refresh()}var t,n,r;return t=e,(n=[{key:"setSize",value:function(e){this.dimensions=du(du({},this.dimensions),e);var t=this.dimensions,n=t.regionWidth,r=t.regionHeight,o=t.maxWidth,i=t.maxHeight;this.dimensions.maxWidth=Va(o,100,n),this.dimensions.maxHeight=Va(i,100,r),this.redraw(),this.refresh()}},{key:"setProgress",value:function(e){this.progress=e,this.refresh()}},{key:"update",value:function(e){this.props=du(du({},this.props),e),this.redraw(),this.refresh()}},{key:"redraw",value:function(){var e=this.props,t=e.items,n=e.isInfinite,r=e.onRedraw,o=this.dimensions.regionWidth,i=t.length;if(this.items=[],i){var a=this.getItems(t),s=a.totalWidth;if(this.items=a.items,n){for(var c=a.minSpacing*i;s+c<1.5*o&&s>0&&o>0;){var u;a=this.getItems(t,{startOffset:s,isClone:!0}),(u=this.items).push.apply(u,cu(a.items)),s=a.totalWidth}r()}this.totalWidth=s,this.lerps=this.createLerps(this.items,s)}}},{key:"getItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.startOffset,o=void 0===r?0:r,i=n.isClone,a=this.props.onCloneItem,s=Number.MAX_VALUE,c=o,u=e.map((function(e,n){var r=t.getItemData(e,c);return c+=r.width,s=Math.min(s,r.spacing),i&&a(n),r}));return{items:u,totalWidth:c,minSpacing:s}}},{key:"getItemData",value:function(e,t){var n=this.dimensions.regionHeight,r=this.getContentSize(e),o=r.width,i=r.height;return{localX:t,x:t,y:.5*n-.5*i,proximity:0,inViewport:!1,width:o,height:i,spacing:this.getContentSpacing(o)}}},{key:"getContentSize",value:function(e){return{width:e.width,height:this.dimensions.maxHeight}}},{key:"getContentSpacing",value:function(e){var t=this.props.spacing,n=this.dimensions.regionWidth;return"%"===t.unit?Math.round(t.value/100*n):"vw"===t.unit?Math.round(t.value/100*window.innerWidth):"vh"===t.unit?Math.round(t.value/100*window.innerHeight):"vmin"===t.unit?Math.round(t.value/100*Math.min(window.innerWidth,window.innerHeight)):"vmax"===t.unit?Math.round(t.value/100*Math.max(window.innerWidth,window.innerHeight)):Math.round(t.value)}},{key:"createLerps",value:function(e,t){var n=this.props.isInfinite,r={index:e.map((function(e,t){return t})),position:e.map((function(e){return e.localX+.5*e.width})),spacing:e.map((function(e){return e.spacing}))};return n&&(r.index.push(r.index.length),r.position.push(t+.5*e[0].width),r.spacing.push(e[0].spacing)),r}},{key:"refresh",value:function(){var e=this.props.isInfinite,t=this.dimensions.regionWidth,n=this.items.length;if(n)for(var r=Object(Ha.a)(this.progress,this.lerps.index),o=Object(Ha.d)(r,this.lerps.index,this.lerps.position,this.progress),i=Object(Ha.d)(r,this.lerps.index,this.lerps.spacing,this.progress),a=this.items[0].width/2,s=0,c=n;s<c;s+=1){var u=this.items[s],l=a+u.localX-(o+this.progress*i),d=l+u.width<-this.props.slideshowGutterWidth,f=l>=t,h=s-this.progress;e&&d?(h+=n,l+=this.totalWidth+i*n):e&&f&&(h-=n,l-=this.totalWidth+i*n);var p=l+u.width>=-this.props.slideshowGutterWidth&&l<t;u.x=p?l:-9999,u.inViewport=p,u.proximity=h,a+=i}}},{key:"destroy",value:function(){delete this.dimensions,delete this.items}}])&&hu(t.prototype,n),r&&hu(t,r),e}(),mu=(n(384),window.CSS&&window.CSS.supports&&window.CSS.supports("--testProperty",!0)),vu=["title","body","button"],yu=["px","%","vh","vw","vmin","vmax","em","rem","ch"];function gu(e){var t=e.type,n=e.rootNode,r=e.targetElements,o=e.fontSizeValue,i=e.fontSizeUnit,a=t&&vu.includes(t),s=n&&n instanceof HTMLElement,c=Array.isArray(r)&&r.every((function(e){return e instanceof HTMLElement})),u=o&&!isNaN(o),l=i&&yu.includes(i),d=[];return a||d.push(new Error("Expected 'type' to be one of ".concat(vu.join(", "),"; received: ").concat(t))),s||d.push(new Error("Expected 'rootNode' to be an 'HTMLElement'; received: ".concat(r))),c||d.push(new Error("Expected 'targetElements' to be an array of 'HTMLElement'; received: ".concat(r))),u||d.push(new Error("Expected 'fontSizeValue' to be a number; received: ".concat(o))),l||d.push(new Error("Expected 'fontSizeUnit' to be one of ".concat(yu.join(", "),"; received: ").concat(i))),d}var bu=function(e){var t=e.type,n=e.rootNode,r=e.targetElements,o=e.fontSizeValue,i=e.fontSizeUnit,a=gu(arguments[0]);0===a.length?(mu&&"rem"===i?n.style.setProperty("--".concat(t,"-font-size-value"),o):r.forEach((function(e){e.style.fontSize="".concat(o).concat(i)})),n.dataset["".concat(t,"FontUnit")]=i):console.error(a.join("\n"))};function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(n),!0).forEach((function(t){Cu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xu(e,t){return(xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tu(e);if(t){var o=Tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pu(this,n)}}function Pu(e,t){return!t||"object"!==wu(t)&&"function"!=typeof t?ku(e):t}function ku(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iu=20,ju="px",Lu=576,_u=function(e){var t=e.spaceValue,n=e.spaceUnit;return window.innerWidth<Lu&&(t=Iu,n=ju),{value:t,unit:n}},Ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xu(e,t)}(i,e);var t,n,r,o=Eu(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Cu(ku(t=o.call(this)),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),Cu(ku(t),"updateRef",(function(){var e=t.props,n=e.unorderedListSelector,r=e.imageSelector,o=e.itemSelector,i=e.itemTitleSelector,a=e.itemDescriptionSelector,s=e.itemButtonSelector,c=e.contentSelector,u=e.arrowLeftWrapperSelector,l=e.arrowRightWrapperSelector,d=e.parentSectionSelector;return{layoutContainer:t.node,unorderedList:t.node.querySelector(n),images:Array.from(t.node.querySelectorAll(r)),userItems:Array.from(t.node.querySelectorAll(o)),userItemsContent:Array.from(t.node.querySelectorAll(c)),itemTitles:Array.from(t.node.querySelectorAll(i)),itemDescriptions:Array.from(t.node.querySelectorAll(a)),itemButtons:Array.from(t.node.querySelectorAll(s)),arrowLeftWrapper:t.node.querySelector(u),arrowRightWrapper:t.node.querySelector(l),parentNode:t.node.closest(d)}})),Cu(ku(t),"onSectionTweak",(function(e){var n={layout:e.userItemsListOptions.layout,userItems:e.userItems,userItemsListCardTheme:e.userItemsListOptions.userItemsListCardTheme,styles:e.styles,options:e.userItemsListOptions.bannerSlideshowOptions,video:e.video};n.userItems.forEach((function(e){e.button&&(e.button.hasOwnProperty("buttonLink")&&(e.buttonLink=e.button.buttonLink),e.button.hasOwnProperty("buttonText")&&(e.buttonText=e.button.buttonText))}));var r=t.state.userItems.length!==n.userItems.length||t.state.layout!==n.layout;if(r)return!1;t.state.userItemsListCardTheme!==n.userItemsListCardTheme&&Xr(t.node,u.j,n.userItemsListCardTheme);var o=t.state.userItems.map((function(e,t){return Bc(n.userItems[t],e)}));if(r=t.shouldContentChangeUpdateDOM(o))return!1;var i=Bc(n.options,t.state.options);if(r=t.shouldOptionsChangeUpdateDOM(i))return!1;var a=Bc(n.styles,t.state.styles);if(r=t.shouldStylesChangeUpdateDOM(a))return!1;var s=Bc(n.video||{},t.state.video||{});return!(r=t.shouldVideoChangeUpdateDOM(s,t.state.video,n.video))&&(t.handleContentUpdate(o,n.userItems),t.handleOptionsUpdate(i,n.options),t.handleStylesUpdate(a,n.styles),t.ref=t.updateRef(),t.setState(Au({},n)),!0)})),Cu(ku(t),"shouldContentChangeUpdateDOM",(function(e){for(var t=!1,n=0;n<e.length;n++){if(e[n].includes("imageId")){t=!0;break}t=!1}return t})),Cu(ku(t),"shouldStylesChangeUpdateDOM",(function(e){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),Cu(ku(t),"shouldVideoChangeUpdateDOM",(function(e,t,n){var r=!e.includes("url"),o=null===t&&""===(null==n?void 0:n.url),i=null===(null==n?void 0:n.videoFallbackContentItemId)&&r,a=o||i;return(e.includes("url")||e.includes("filter")||e.includes("filterStrength")||e.includes("playbackSpeed")||e.includes("videoFallbackContentItemId")||e.includes("videoFallbackFocalPoint"))&&!a})),Cu(ku(t),"shouldOptionsChangeUpdateDOM",(function(e){return!!(e.includes("layoutWidth")||e.includes("mediaAspectRatio")||e.includes("contentOrder")||e.includes("titleFontSize")||e.includes("navigationControls")||e.includes("isInfiniteEnabled"))})),Cu(ku(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,r){if(e.includes("title")){var o=t.ref.userItems[r].querySelector(t.props.itemTitleSelector);o&&t.renderContentUpdate({elementToUpdate:{textContainer:o,visibilityTarget:o},latestText:n[r].title})}if(e.includes("description")){var i=t.ref.userItems[r].querySelector(t.props.itemDescriptionSelector);i&&t.renderContentUpdate({elementToUpdate:{textContainer:i,visibilityTarget:i},latestText:n[r].description})}if(e.includes("buttonText")){var a=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);a&&t.renderContentUpdate({elementToUpdate:{textContainer:a,visibilityTarget:t.ref.userItems[r].querySelector(t.props.itemButtonContainerSelector)},latestText:n[r].buttonText})}if(e.includes("buttonLink")){var s=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);s&&(s.href=n[r].buttonLink)}}))})),Cu(ku(t),"renderContentUpdate",(function(e){var n=e.elementToUpdate,r=e.latestText;r?(n.visibilityTarget.classList.remove(t.props.hideElementClass),n.textContainer.innerHTML=r):n.visibilityTarget.classList.add(t.props.hideElementClass)})),Cu(ku(t),"handleOptionsUpdate",(function(e,n){var r=t.state.options,o=!1;if((e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),(e.includes("customOptions.customTitleFontSize.value")||e.includes("customOptions.customTitleFontSize.unit"))&&bu({type:"title",rootNode:t.node,targetElements:t.ref.itemTitles,fontSizeValue:n.customOptions.customTitleFontSize.value,fontSizeUnit:n.customOptions.customTitleFontSize.unit}),(e.includes("customOptions.customBodyFontSize.value")||e.includes("customOptions.customBodyFontSize.unit"))&&bu({type:"body",rootNode:t.node,targetElements:t.ref.itemDescriptions,fontSizeValue:n.customOptions.customBodyFontSize.value,fontSizeUnit:n.customOptions.customBodyFontSize.unit}),(e.includes("customOptions.customButtonFontSize.value")||e.includes("customOptions.customButtonFontSize.unit"))&&bu({type:"button",rootNode:t.node,targetElements:t.ref.itemButtons,fontSizeValue:n.customOptions.customButtonFontSize.value,fontSizeUnit:n.customOptions.customButtonFontSize.unit}),e.includes("isAutoplayEnabled")&&(t.node.dataset.isAutoplayEnabled=n.isAutoplayEnabled),(e.includes("slideContentWidth.value")||e.includes("slideContentWidth.unit"))&&t.ref.userItemsContent.forEach((function(e){var t="".concat(n.slideContentWidth.value).concat(n.slideContentWidth.unit);e.style.minWidth=t})),e.includes("bodyFontSize")&&t.ref.itemDescriptions.forEach((function(e){Xr(e,Object.values(u.h),u.h[n.bodyFontSize])})),e.includes("buttonFontSize")&&t.ref.itemButtons.forEach((function(e){Xr(e,Object.values(u.i),u.i[n.buttonFontSize])})),e.includes("isCardEnabled"))if(n.isCardEnabled){var i="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),a="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),s="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),c="".concat(r.cardPaddingLeft.value).concat(r.cardPaddingLeft.unit);t.ref.userItemsContent.forEach((function(e){e.style.paddingTop=i,e.style.paddingRight=a,e.style.paddingBottom=s,e.style.paddingLeft=c})),t.ref.userItems.forEach((function(e){e.dataset.isCardEnabled="true"})),Xr(t.node,u.j,t.state.userItemsListCardTheme)}else t.ref.userItemsContent.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft=""})),t.ref.userItems.forEach((function(e){e.dataset.isCardEnabled="false"})),Xr(t.node,u.j);if(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit")){var l="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),d="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),f="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),h="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);t.ref.userItemsContent.forEach((function(e){e.style.paddingTop=l,e.style.paddingRight=d,e.style.paddingBottom=f,e.style.paddingLeft=h}))}if(e.includes("navigationControls")&&(t.node.dataset.navigationControls=n.navigationControls,"arrows"===n.navigationControls)){var p="".concat(r.navigationOffset.value).concat(r.navigationOffset.unit);t.ref.arrowLeftWrapper.style.left=p,t.ref.arrowRightWrapper.style.right=p}if(e.includes("navigationOffset.value")||e.includes("navigationOffset.unit")){var m="".concat(n.navigationOffset.value).concat(n.navigationOffset.unit);t.ref.arrowLeftWrapper.style.marginLeft=m,t.ref.arrowRightWrapper.style.marginRight=m}if(e.includes("isShowAdjacentSlides")&&(t.node.dataset.showAdjacentSlides=n.isShowAdjacentSlides,o=!0,n.isShowAdjacentSlides?t.applyPeek():t.ref.unorderedList.style.paddingRight=""),e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var v="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),y="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.ref.layoutContainer.style.paddingTop=v,t.ref.layoutContainer.style.paddingBottom=y}if(e.includes("slideContentPaddingTop.value")||e.includes("slideContentPaddingTop.unit")||e.includes("slideContentPaddingRight.value")||e.includes("slideContentPaddingRight.unit")||e.includes("slideContentPaddingBottom.value")||e.includes("slideContentPaddingBottom.unit")||e.includes("slideContentPaddingLeft.value")||e.includes("slideContentPaddingLeft.unit")){var g="".concat(n.slideContentPaddingTop.value).concat(n.slideContentPaddingTop.unit),b="".concat(n.slideContentPaddingRight.value).concat(n.slideContentPaddingRight.unit),w="".concat(n.slideContentPaddingBottom.value).concat(n.slideContentPaddingBottom.unit),S="".concat(n.slideContentPaddingLeft.value).concat(n.slideContentPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=g,e.style.paddingRight=b,e.style.paddingBottom=w,e.style.paddingLeft=S}))}if(e.includes("minSlideHeight.value")||e.includes("minSlideHeight.unit")){var A="".concat(n.minSlideHeight.value).concat(n.minSlideHeight.unit);t.ref.unorderedList.style.minHeight=A}if(e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var O="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItemsContent.forEach((function(e){e.querySelector(t.props.itemDescriptionSelector).style.marginTop=O}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var x="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItemsContent.forEach((function(e){e.querySelector(t.props.itemButtonContainerSelector).style.marginTop=x}))}(e.includes("spaceBetweenSlides.value")||e.includes("spaceBetweenSlides.unit"))&&(t.node.dataset.spaceBetweenSlidesValue=n.spaceBetweenSlides.value,t.node.dataset.spaceBetweenSlidesUnit=n.spaceBetweenSlides.unit,t.list.props.spacing=_u({spaceValue:n.spaceBetweenSlides.value,spaceUnit:n.spaceBetweenSlides.unit}),"true"===t.node.dataset.showAdjacentSlides&&t.applyPeek(),o=!0),e.includes("cardVerticalPosition")&&(t.node.dataset.cardVerticalPosition=n.cardVerticalPosition),e.includes("cardHorizontalPosition")&&(t.node.dataset.cardHorizontalPosition=n.cardHorizontalPosition),o&&t.onResize()})),Cu(ku(t),"applyPeek",(function(){var e,n,r,o,i=(e={spaceValue:t.node.dataset.spaceBetweenSlidesValue,spaceUnit:t.node.dataset.spaceBetweenSlidesUnit},n=e.spaceValue,r=e.spaceUnit,o=_u({spaceValue:n,spaceUnit:r}),"".concat(o.value).concat(o.unit)),a="calc(".concat("40px"," + ").concat(i,")");t.ref.unorderedList.style.paddingRight=a})),Cu(ku(t),"handleStylesUpdate",(function(e,n){var r=!1;if(e.includes("sectionTheme")&&Xr(t.ref.parentNode,u.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),r=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),r&&t.onResize()})),Cu(ku(t),"handleArrowVisibility",(function(){if(!t.isInfiniteEnabled&&"arrows"===t.navigationControls){if(t.slideshowProps.totalSlideCount<=t.getSlideColumnCount())return t.hideArrow(t.previousBtn),void t.hideArrow(t.nextBtn);t.slideshowProps.targetSlideIndex<=0?t.hideArrow(t.previousBtn):t.showArrow(t.previousBtn),t.slideshowProps.targetSlideIndex>=t.behaviors.getLastScrollableSlideIndex()?t.hideArrow(t.nextBtn):t.showArrow(t.nextBtn)}})),Cu(ku(t),"onResize",(function(){var e=t.getSlideColumnCount();t.removeClones(),t.slideshowNodes=t.buildItems(t.slides),t.list.props.items=t.slideshowNodes,t.list.props.slideshowGutterWidth=t.getSlideshowGutterWidth(),t.list.props.slideColumnCount=e,t.behaviors.props.slideColumnCount=e,t.list.props.spacing=_u({spaceValue:t.node.dataset.spaceBetweenSlidesValue,spaceUnit:t.node.dataset.spaceBetweenSlidesUnit}),t.list.setSize(t.getSlideshowDimensions()),t.updatePositions(),t.slideshowProps.targetSlideIndex=t.slideshowProps.progressIndex,t.handleArrowVisibility()})),Cu(ku(t),"removeClones",(function(){t.slidesContainer.innerHTML="";var e=new DocumentFragment;t.slides.forEach((function(t){e.appendChild(t)})),t.slidesContainer.appendChild(e)})),Cu(ku(t),"onClickNavPrevious",(function(){t.behaviors.previousIndex()})),Cu(ku(t),"onClickNavNext",(function(){t.behaviors.nextIndex()})),Cu(ku(t),"onProgress",(function(e){t.slideshowProps.progressIndex=(.5+e<<0)%t.slideshowProps.totalSlideCount,t.list.setProgress(e),t.updatePositions()})),Cu(ku(t),"onStartProgress",(function(e){if(t.slideshowProps.targetSlideIndex=e,t.handleArrowVisibility(),!t.dragBehaviors.isDragging){var n=t.slideshowNodes.length,r=Math.round((e+n)%n);t.updateAriaContainer({currentSlideIndex:r})}})),Cu(ku(t),"onCloneItem",(function(e){var n=t.slideshowNodes[e],r=n.node.parentNode,o=n.node.cloneNode(!0),i=o.querySelector(t.nodeSelectors.slideshowItemImage);r.appendChild(o),t.slideshowNodes.push(Au(Au({},n),{},{node:o,imageNode:i,isImageLoadAdded:!1,inViewport:null}))})),Cu(ku(t),"destroy",(function(){t.behaviors.destroy(),delete t.behaviors,t.dragBehaviors.destroy(),delete t.dragBehaviors,t.unbindListeners()})),t.node=e;var n=t.props,r=n.itemSelector,a=n.contentSelector,s=n.unorderedListSelector,c=n.imageSelector,l=n.itemTitleSelector,d=n.itemDescriptionSelector,f=n.itemButtonSelector,h=n.arrowLeftWrapperSelector,p=n.arrowRightWrapperSelector,m=n.parentSectionSelector;return t.ref={layoutContainer:t.node,unorderedList:t.node.querySelector(s),images:Array.from(t.node.querySelectorAll(c)),userItems:Array.from(t.node.querySelectorAll(r)),userItemsContent:Array.from(t.node.querySelectorAll(a)),itemTitles:Array.from(t.node.querySelectorAll(l)),itemDescriptions:Array.from(t.node.querySelectorAll(d)),itemButtons:Array.from(t.node.querySelectorAll(f)),arrowLeftWrapper:t.node.querySelector(h),arrowRightWrapper:t.node.querySelector(p),parentNode:t.node.closest(m)},t.shouldShowAdjacentSlides="true"===e.getAttribute("data-show-adjacent-slides"),t.isInfiniteEnabled="true"===e.getAttribute("data-is-infinite-enabled"),t.spaceBetweenSlidesValue=Number(e.getAttribute("data-space-between-slides-value")),t.spaceBetweenSlidesUnit=e.getAttribute("data-space-between-slides-unit"),t.maxColumns=1,t.navigationControls=e.getAttribute("data-navigation-controls"),t.nodeSelectors={slideshowWidthConstrainer:".slideshow-gutter",slidesContainer:".slides",slide:".slide",slideshowItemImage:".list-slideshow-image",previousBtn:".arrow-container--left .arrow-button",nextBtn:".arrow-container--right .arrow-button"},t.classNames={isSlideshowInitialized:"slides--initialized",isArrowHidden:"arrow-button--hidden"},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.initializeSlideshowDom(),t.initializeSlideshowBehaviors(),t.initializeSlideshowProperties(),t.initializeDragBehaviors(),t.initializeSlideshow(),t}return t=i,(n=[{key:"addAriaContainer",value:function(e){var t=e.targetElement,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.style="position: absolute; pointer-events: none; opacity: 0;",t.appendChild(n),this.ariaContainer=n}},{key:"updateAriaContainer",value:function(e){var t=e.currentSlideIndex,n=this.slideshowNodes.length;this.ariaContainer.innerHTML="Item ".concat(t+1," of ").concat(n)}},{key:"initializeSlideshowDom",value:function(){this.slideshowWidthConstrainer=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer),this.slidesContainer=this.node.querySelector(this.nodeSelectors.slidesContainer),this.previousBtn=this.node.querySelector(this.nodeSelectors.previousBtn),this.nextBtn=this.node.querySelector(this.nodeSelectors.nextBtn),this.slides=Array.from(this.node.querySelectorAll(this.nodeSelectors.slide)),this.slideshowNodes=this.buildItems(this.slides),this.addAriaContainer({targetElement:this.slideshowWidthConstrainer})}},{key:"initializeSlideshowBehaviors",value:function(){this.behaviors=new ru({nodes:{focus:this.slideshowWidthConstrainer},numSlides:this.slideshowNodes.length,slideColumnCount:this.getSlideColumnCount(),isAutoplay:!1,autoplayInterval:3e3,isInfinite:this.isInfiniteEnabled,transitionDuration:600,onProgress:this.onProgress,onStartProgress:this.onStartProgress,shouldStopNavAtEnds:!0}),this.list=new pu(Au(Au({items:this.slideshowNodes},this.getSlideshowDimensions()),{},{spacing:_u({spaceValue:this.spaceBetweenSlidesValue,spaceUnit:this.spaceBetweenSlidesUnit}),isInfinite:this.isInfiniteEnabled,onCloneItem:this.onCloneItem,slideshowGutterWidth:this.getSlideshowGutterWidth()}))}},{key:"initializeSlideshowProperties",value:function(){this.slideshowProps={slideDimensions:this.list.props.items[0],totalSlideCount:this.slideshowNodes.length,progress:0,progressIndex:0,targetSlideIndex:0}}},{key:"initializeDragBehaviors",value:function(){var e=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer);this.dragBehaviors=new su(e,{slideshowProps:this.slideshowProps,behaviors:this.behaviors,callback:this.handleArrowVisibility})}},{key:"initializeSlideshow",value:function(){this.updatePositions(),this.slidesContainer.classList.add(this.classNames.isSlideshowInitialized),this.bindListeners(),this.handleArrowVisibility(),this.updateAriaContainer({currentSlideIndex:0})}},{key:"hideArrow",value:function(e){e.classList.add(this.classNames.isArrowHidden),e.setAttribute("tabindex","-1")}},{key:"showArrow",value:function(e){e.classList.remove(this.classNames.isArrowHidden),e.setAttribute("tabindex","0")}},{key:"getSlideColumnCount",value:function(){var e=this,t=window.innerWidth,n=1;return Object.values({"breakpoint-up-sm":{minScreenWidth:576,columnsWeHaveRoomFor:2},"breakpoint-up-lg":{minScreenWidth:992,columnsWeHaveRoomFor:3},"breakpoint-up-xxl":{minScreenWidth:1200,columnsWeHaveRoomFor:4}}).forEach((function(r){t>=r.minScreenWidth&&(n=Math.min(r.columnsWeHaveRoomFor,e.maxColumns))})),n}},{key:"getSlideshowGutterWidth",value:function(){var e=this.slidesContainer.getBoundingClientRect();return this.slidesContainer.offsetWidth/e.width*(e.x-this.slideshowWidthConstrainer.getBoundingClientRect().x)}},{key:"bindListeners",value:function(){M.a.watch(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.addEventListener("click",this.onClickNavPrevious),this.nextBtn.addEventListener("click",this.onClickNavNext)),this.onResize=ee(this.onResize,u.e),c.a.on(this.onResize)}},{key:"unbindListeners",value:function(){M.a.disconnect(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.removeEventListener("click",this.onClickNavPrevious),this.nextBtn.removeEventListener("click",this.onClickNavNext)),c.a.off(this.onResize)}},{key:"getSlideshowDimensions",value:function(){var e=this.slideshowWidthConstrainer.offsetWidth,t=this.slideshowWidthConstrainer.offsetHeight;return{regionWidth:e,regionHeight:t,maxWidth:e,maxHeight:t}}},{key:"buildItems",value:function(e){var t=this;return e.map((function(e,n){return{width:e.offsetWidth,height:e.offsetHeight,index:n,node:e,imageNode:e.querySelector(t.nodeSelectors.slideshowItemImage),isImageLoadAdded:!1,inViewport:null}}))}},{key:"updatePositions",value:function(){for(var e=0,t=this.slideshowNodes.length;e<t;e+=1){var n=this.slideshowNodes[e],r=this.list.items[e],o=!!(.5+Math.min(1,Math.abs(r.proximity))<<0),i=n.inViewport!==r.inViewport;(n.inViewport||i)&&(o!==n.isAriaHidden&&(n.node.setAttribute("aria-hidden",o),n.isAriaHidden=o),n.node.style.transform="translate3d("+r.x+"px, 0, 0)",n.inViewport=r.inViewport)}}}])&&Ou(t.prototype,n),r&&Ou(t,r),i}(d.a);Cu(Ru,"defaultProps",{unorderedListSelector:".slides",itemSelector:".slide",imageSelector:"img",contentSelector:".slide-content",mediaSelector:".slide-media-container",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonSelector:".list-item-content__button",itemButtonContainerSelector:".list-item-content__button-container",arrowLeftWrapperSelector:".arrow-container--left",arrowRightWrapperSelector:".arrow-container--right",parentSectionSelector:".user-items-list-section",hideElementClass:"list-item-content--hidden"});function Du(e){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(n),!0).forEach((function(t){Hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zu(e,t){return(zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qu(e);if(t){var o=qu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wu(this,n)}}function Wu(e,t){return!t||"object"!==Du(t)&&"function"!=typeof t?Uu(e):t}function Uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(e){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu=20,Gu="px",Yu=576,Xu=function(e){var t=e.spaceValue,n=e.spaceUnit;return window.innerWidth<Yu&&(t=Vu,n=Gu),{value:t,unit:n}},Qu=function(e){var t=e.spaceValue,n=e.spaceUnit,r=Xu({spaceValue:t,spaceUnit:n});return"".concat(r.value).concat(r.unit)},Zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zu(e,t)}(i,e);var t,n,r,o=Nu(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Hu(Uu(t=o.call(this)),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),Hu(Uu(t),"loadImage",(function(e){e&&(e.onload=function(){e.dataset.loaded=!0},a.a.loadLazy(e,{load:!0,useAdvancedPositioning:!0}))})),Hu(Uu(t),"onSectionTweak",(function(e){var n={layout:e.userItemsListOptions.layout,userItems:e.userItems,userItemsListCardTheme:e.userItemsListOptions.userItemsListCardTheme,styles:e.styles,options:e.userItemsListOptions.carouselOptions,video:e.video};n.userItems.forEach((function(e){e.button&&(e.button.hasOwnProperty("buttonLink")&&(e.buttonLink=e.button.buttonLink),e.button.hasOwnProperty("buttonText")&&(e.buttonText=e.button.buttonText))}));var r=t.state.userItems.length!==n.userItems.length||t.state.layout!==n.layout;if(r)return!1;t.state.userItemsListCardTheme!==n.userItemsListCardTheme&&Xr(t.node,u.j,n.userItemsListCardTheme);var o=t.state.userItems.map((function(e,t){return Bc(n.userItems[t],e)}));if(r=t.shouldContentChangeUpdateDOM(o))return!1;var i=Bc(n.options,t.state.options);if(r=t.shouldOptionsChangeUpdateDOM(i))return!1;var a=Bc(n.styles,t.state.styles);if(r=t.shouldStylesChangeUpdateDOM(a))return!1;var s=Bc(n.video||{},t.state.video||{});return!(r=t.shouldVideoChangeUpdateDOM(s,t.state.video,n.video))&&(t.handleContentUpdate(o,n.userItems),t.handleOptionsUpdate(i,n.options),t.handleStylesUpdate(a,n.styles),t.ref=t.updateRef(),t.setState(Fu({},n)),!0)})),Hu(Uu(t),"handleOptionsUpdate",(function(e,n){var r=t.state.options,o=!1;if((e.includes("contentWidth.value")||e.includes("contentWidth.unit"))&&(t.ref.itemTitles.forEach((function(e){e.style.maxWidth="".concat(n.contentWidth.value).concat(n.contentWidth.unit)})),t.ref.itemDescriptions.forEach((function(e){e.style.maxWidth="".concat(n.contentWidth.value).concat(n.contentWidth.unit)})),t.ref.itemButtons.forEach((function(e){e.style.maxWidth="".concat(n.contentWidth.value).concat(n.contentWidth.unit)}))),(e.includes("mediaWidth.value")||e.includes("mediaWidth.unit"))&&(t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.width="".concat(n.mediaWidth.value).concat(n.mediaWidth.unit),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.width="".concat(n.mediaWidth.value).concat(n.mediaWidth.unit),t.ref.mediaContainers.forEach((function(e){e.style.width="".concat(n.mediaWidth.value).concat(n.mediaWidth.unit)}))),e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var i="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),a="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.ref.layoutContainer.style.paddingTop=i,t.ref.layoutContainer.style.paddingBottom=a}if(e.includes("maxColumns")&&(t.node.dataset.maxColumns=n.maxColumns,o=!0),e.includes("isShowAdjacentSlides")&&(t.node.dataset.showAdjacentSlides=n.isShowAdjacentSlides,o=!0),e.includes("navigationControls")&&(t.node.dataset.navigationControls=n.navigationControls,"arrows"===n.navigationControls)){var s=Qu({spaceValue:r.spaceBetweenSlides.value,spaceUnit:r.spaceBetweenSlides.unit}),c="".concat(r.navigationOffset.value).concat(r.navigationOffset.unit);if(t.ref.arrowLeftWrapper.style.gridGap=s,t.ref.arrowLeftWrapper.style.marginLeft=c,t.ref.arrowLeftWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,t.ref.arrowRightWrapper.style.gridGap=s,t.ref.arrowRightWrapper.style.marginRight=c,t.ref.arrowRightWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,r.isCardEnabled){var u="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),l="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),d="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),f="".concat(r.cardPaddinLeft.value).concat(r.cardPaddinLeft.unit);t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(u," calc(").concat(l," + ").concat(f,") ").concat(d," 0"),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(u," 0 ").concat(d," calc(").concat(l," + ").concat(f,")")}else t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="",t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding=""}if(e.includes("navigationOffset.value")||e.includes("navigationOffset.unit")){var h="".concat(n.navigationOffset.value).concat(n.navigationOffset.unit);t.ref.arrowLeftWrapper.style.marginLeft=h,t.ref.arrowRightWrapper.style.marginRight=h}if(e.includes("spaceBetweenSlides.value")||e.includes("spaceBetweenSlides.unit")){var p=Qu({spaceValue:n.spaceBetweenSlides.value,spaceUnit:n.spaceBetweenSlides.unit});t.node.dataset.spaceBetweenSlidesValue=n.spaceBetweenSlides.value,t.node.dataset.spaceBetweenSlidesUnit=n.spaceBetweenSlides.unit,t.ref.arrowLeftWrapper.style.gridGap=p,t.ref.arrowRightWrapper.style.gridGap=p,t.ref.slidesContainer.style.gridGap=p}if(e.includes("spaceBetweenContentAndMedia.value")||e.includes("spaceBetweenContentAndMedia.unit")){var m="".concat(n.spaceBetweenContentAndMedia.value).concat(n.spaceBetweenContentAndMedia.unit);"media-first"===t.state.options.contentOrder?t.ref.mediaContainers.forEach((function(e){e.style.marginBottom=m,e.style.marginTop=""})):t.ref.mediaContainers.forEach((function(e){e.style.marginBottom="",e.style.marginTop=m}))}if(e.includes("cardVerticalAlignment")&&(t.node.dataset.alignmentVertical=n.cardVerticalAlignment),e.includes("isCardEnabled"))if(n.isCardEnabled){var v="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),y="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),g="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),b="".concat(r.cardPaddingLeft.value).concat(r.cardPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=v,e.style.paddingRight=y,e.style.paddingBottom=g,e.style.paddingLeft=b,e.dataset.isCardEnabled="true"})),t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(v," calc(").concat(y," + ").concat(b,") ").concat(g," 0"),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(v," 0 ").concat(g," calc(").concat(y," + ").concat(b,")")}else t.ref.userItems.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft="",e.dataset.isCardEnabled="false",t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="",t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding=""}));if(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit")){var w="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),S="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),A="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),O="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=w,e.style.paddingRight=S,e.style.paddingBottom=A,e.style.paddingLeft=O})),t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(w," calc(").concat(S," + ").concat(O,") ").concat(A," 0"),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(w," 0 ").concat(A," calc(").concat(S," + ").concat(O,")")}if(e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var x="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemDescriptionSelector).style.marginTop=x}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var E="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemButtonContainerSelector).style.marginTop=E}))}if(e.includes("mediaAlignment")&&(t.node.dataset.mediaAlignment=n.mediaAlignment),(e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),(e.includes("customOptions.customTitleFontSize.value")||e.includes("customOptions.customTitleFontSize.unit"))&&bu({type:"title",rootNode:t.node,targetElements:t.ref.itemTitles,fontSizeValue:n.customOptions.customTitleFontSize.value,fontSizeUnit:n.customOptions.customTitleFontSize.unit}),(e.includes("customOptions.customBodyFontSize.value")||e.includes("customOptions.customBodyFontSize.unit"))&&bu({type:"body",rootNode:t.node,targetElements:t.ref.itemDescriptions,fontSizeValue:n.customOptions.customBodyFontSize.value,fontSizeUnit:n.customOptions.customBodyFontSize.unit}),(e.includes("customOptions.customButtonFontSize.value")||e.includes("customOptions.customButtonFontSize.unit"))&&bu({type:"button",rootNode:t.node,targetElements:t.ref.itemButtons,fontSizeValue:n.customOptions.customButtonFontSize.value,fontSizeUnit:n.customOptions.customButtonFontSize.unit}),e.includes("mediaAspectRatio")){var P="original"===n.mediaAspectRatio,k=P?"none":"cover",T=n.mediaAspectRatio;t.ref.arrowLeftWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,t.ref.arrowRightWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,t.ref.mediaInnerContainers.forEach((function(e){e.dataset.mediaAspectRatio=T})),P?t.ref.images.forEach((function(e){e.style.objectFit="",e.style.objectPosition="",e.dataset.mode=k,t.loadImage(e)})):t.ref.images.forEach((function(e){e.dataset.mode=k,t.loadImage(e)}))}o&&t.onResize()})),Hu(Uu(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,r){if(e.includes("title")){var o=t.ref.userItems[r].querySelector(t.props.itemTitleSelector);o&&t.renderContentUpdate({elementToUpdate:{textContainer:o,visibilityTarget:o},latestText:n[r].title})}if(e.includes("description")){var i=t.ref.userItems[r].querySelector(t.props.itemDescriptionSelector);i&&t.renderContentUpdate({elementToUpdate:{textContainer:i,visibilityTarget:i},latestText:n[r].description})}if(e.includes("buttonText")){var s=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);s&&t.renderContentUpdate({elementToUpdate:{textContainer:s,visibilityTarget:t.ref.userItems[r].querySelector(t.props.itemButtonContainerSelector)},latestText:n[r].buttonText})}if(e.includes("buttonLink")){var c=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);c&&(c.href=n[r].buttonLink)}if(e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var u=n[r].mediaFocalPoint,l=u.x,d=u.y,f=t.ref.userItems[r].querySelector(t.props.imageSelector);a.a.load(f,{load:!0,forceImageUpdate:!0,focalPoint:{x:l,y:d}}),f.dataset.imageFocalPoint="".concat(l,",").concat(d)}}))})),Hu(Uu(t),"renderContentUpdate",(function(e){var n=e.elementToUpdate,r=e.latestText;r?(n.visibilityTarget.classList.remove(t.props.hideElementClass),n.textContainer.innerHTML=r):n.visibilityTarget.classList.add(t.props.hideElementClass)})),Hu(Uu(t),"handleStylesUpdate",(function(e,n){var r=!1;if(e.includes("sectionTheme")&&Xr(t.ref.parentNode,u.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),r=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),r&&t.onResize()})),Hu(Uu(t),"shouldContentChangeUpdateDOM",(function(e){for(var t=!1,n=0;n<e.length;n++){if(e[n].includes("imageId")){t=!0;break}t=!1}return t})),Hu(Uu(t),"shouldOptionsChangeUpdateDOM",(function(e){return!!(e.includes("layoutWidth")||e.includes("contentOrder")||e.includes("titleFontSize")||e.includes("navigationControls")||e.includes("isInfiniteEnabled"))})),Hu(Uu(t),"shouldStylesChangeUpdateDOM",(function(e){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),Hu(Uu(t),"shouldVideoChangeUpdateDOM",(function(e,t,n){var r=!e.includes("url"),o=null===t&&""===(null==n?void 0:n.url),i=null===(null==n?void 0:n.videoFallbackContentItemId)&&r,a=o||i;return(e.includes("url")||e.includes("filter")||e.includes("filterStrength")||e.includes("playbackSpeed")||e.includes("videoFallbackContentItemId")||e.includes("videoFallbackFocalPoint"))&&!a})),Hu(Uu(t),"updateRef",(function(){return{layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(t.props.itemSelector)),images:Array.from(t.node.querySelectorAll(t.props.imageSelector)),contentContainers:Array.from(t.node.querySelectorAll(t.props.contentSelector)),mediaContainers:Array.from(t.node.querySelectorAll(t.props.mediaSelector)),mediaInnerContainers:Array.from(t.node.querySelectorAll(t.props.mediaInnerSelector)),slidesContainer:t.node.querySelector(t.props.slidesContainerSelector),arrowLeftWrapper:t.node.querySelector(t.props.arrowLeftWrapperSelector),arrowRightWrapper:t.node.querySelector(t.props.arrowRightWrapperSelector),parentNode:t.node.closest(t.props.parentSectionSelector),itemTitles:Array.from(t.node.querySelectorAll(t.props.itemTitleSelector)),itemDescriptions:Array.from(t.node.querySelectorAll(t.props.itemDescriptionSelector)),itemButtons:Array.from(t.node.querySelectorAll(t.props.itemButtonSelector))}})),Hu(Uu(t),"updateRefCloneItems",(function(){t.ref=t.updateRef()})),Hu(Uu(t),"handleArrowVisibility",(function(){if(!t.isInfiniteEnabled&&"arrows"===t.navigationControls){if(t.slideshowProps.totalSlideCount<=t.getSlideColumnCount())return t.hideArrow(t.previousBtn),void t.hideArrow(t.nextBtn);t.slideshowProps.targetSlideIndex<=0?t.hideArrow(t.previousBtn):t.showArrow(t.previousBtn),t.slideshowProps.targetSlideIndex>=t.behaviors.getLastScrollableSlideIndex()?t.hideArrow(t.nextBtn):t.showArrow(t.nextBtn)}})),Hu(Uu(t),"onResize",(function(){var e=t.getSlideColumnCount();t.removeClones(),t.slideshowNodes=t.buildItems(t.slides),t.list.props.items=t.slideshowNodes,t.loadImages(t.ref.images),t.list.props.slideshowGutterWidth=t.getSlideshowGutterWidth(),t.list.props.slideColumnCount=e,t.behaviors.props.slideColumnCount=e,t.list.props.spacing=Xu({spaceValue:t.spaceBetweenSlidesValue,spaceUnit:t.spaceBetweenSlidesUnit}),t.list.setSize(t.getSlideshowDimensions()),t.updatePositions(),t.slideshowProps.targetSlideIndex=t.slideshowProps.progressIndex,t.handleArrowVisibility()})),Hu(Uu(t),"removeClones",(function(){t.slidesContainer.innerHTML="";var e=new DocumentFragment;t.slides.forEach((function(t){e.appendChild(t)})),t.slidesContainer.appendChild(e)})),Hu(Uu(t),"onClickNavPrevious",(function(){t.behaviors.previousIndex()})),Hu(Uu(t),"onClickNavNext",(function(){t.behaviors.nextIndex()})),Hu(Uu(t),"onProgress",(function(e){t.slideshowProps.progressIndex=(.5+e<<0)%t.slideshowProps.totalSlideCount,t.list.setProgress(e),t.updatePositions()})),Hu(Uu(t),"onStartProgress",(function(e){if(t.slideshowProps.targetSlideIndex=e,t.handleArrowVisibility(),!t.dragBehaviors.isDragging){var n=t.slideshowNodes.length,r=Math.round((e+n)%n);t.updateAriaContainer({currentSlideIndex:r})}})),Hu(Uu(t),"onCloneItem",(function(e){var n=t.slideshowNodes[e],r=n.node.parentNode,o=n.node.cloneNode(!0),i=o.querySelector(t.nodeSelectors.slideshowItemImage);r.appendChild(o),t.slideshowNodes.push(Fu(Fu({},n),{},{node:o,imageNode:i,isImageLoadAdded:!1,inViewport:null})),t.loadImage(i)})),Hu(Uu(t),"destroy",(function(){t.behaviors.destroy(),delete t.behaviors,t.dragBehaviors.destroy(),delete t.dragBehaviors,t.unbindListeners()})),t.node=e,t.shouldShowAdjacentSlides="true"===e.getAttribute("data-show-adjacent-slides"),t.isInfiniteEnabled="true"===e.getAttribute("data-is-infinite-enabled"),t.spaceBetweenSlidesValue=Number(e.getAttribute("data-space-between-slides-value")),t.spaceBetweenSlidesUnit=e.getAttribute("data-space-between-slides-unit"),t.maxColumns=e.getAttribute("data-max-columns"),t.navigationControls=e.getAttribute("data-navigation-controls"),t.nodeSelectors={slideshowWidthConstrainer:".user-items-list-carousel__gutter",slidesContainer:".user-items-list-carousel__slides",slide:".user-items-list-carousel__slide",slideshowItemImage:".user-items-list-carousel__media",previousBtn:".user-items-list-carousel__arrow-button--left",nextBtn:".user-items-list-carousel__arrow-button--right"},t.classNames={isSlideshowInitialized:"user-items-list-carousel__slides--initialized",isArrowHidden:"user-items-list-carousel__arrow-button--hidden"};var n=t.props,r=n.itemSelector,s=n.imageSelector,c=n.contentSelector,l=n.mediaSelector,d=n.mediaInnerSelector,f=n.slidesContainerSelector,h=n.arrowLeftWrapperSelector,p=n.arrowRightWrapperSelector,m=n.parentSectionSelector,v=n.itemTitleSelector,y=n.itemDescriptionSelector,g=n.itemButtonSelector;return t.ref={layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(r)),images:Array.from(t.node.querySelectorAll(s)),contentContainers:Array.from(t.node.querySelector(c)),mediaContainers:Array.from(t.node.querySelectorAll(l)),mediaInnerContainers:Array.from(t.node.querySelectorAll(d)),slidesContainer:t.node.querySelector(f),arrowLeftWrapper:t.node.querySelector(h),arrowRightWrapper:t.node.querySelector(p),itemTitles:Array.from(t.node.querySelectorAll(v)),itemDescriptions:Array.from(t.node.querySelectorAll(y)),itemButtons:Array.from(t.node.querySelectorAll(g)),parentNode:t.node.closest(m)},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.initializeSlideshowDom(),t.initializeSlideshowBehaviors(),t.initializeSlideshowProperties(),t.initializeDragBehaviors(),t.initializeSlideshow(),t}return t=i,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"addAriaContainer",value:function(e){var t=e.targetElement,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.style="position: absolute; pointer-events: none; opacity: 0;",t.appendChild(n),this.ariaContainer=n}},{key:"updateAriaContainer",value:function(e){var t=e.currentSlideIndex,n=this.slideshowNodes.length;this.ariaContainer.innerHTML="Item ".concat(t+1," of ").concat(n)}},{key:"initializeSlideshowDom",value:function(){this.loadImages(this.ref.images),this.slideshowWidthConstrainer=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer),this.slidesContainer=this.node.querySelector(this.nodeSelectors.slidesContainer),this.previousBtn=this.node.querySelector(this.nodeSelectors.previousBtn),this.nextBtn=this.node.querySelector(this.nodeSelectors.nextBtn),this.slides=Array.from(this.node.querySelectorAll(this.nodeSelectors.slide)),this.slideshowNodes=this.buildItems(this.slides),this.addAriaContainer({targetElement:this.slideshowWidthConstrainer})}},{key:"initializeSlideshowBehaviors",value:function(){this.behaviors=new ru({nodes:{focus:this.slideshowWidthConstrainer},numSlides:this.slideshowNodes.length,slideColumnCount:this.getSlideColumnCount(),isAutoplay:!1,autoplayInterval:3e3,isInfinite:this.isInfiniteEnabled,transitionDuration:250,onProgress:this.onProgress,onStartProgress:this.onStartProgress,shouldStopNavAtEnds:!0}),this.list=new pu(Fu(Fu({items:this.slideshowNodes},this.getSlideshowDimensions()),{},{spacing:Xu({spaceValue:this.spaceBetweenSlidesValue,spaceUnit:this.spaceBetweenSlidesUnit}),isInfinite:this.isInfiniteEnabled,onCloneItem:this.onCloneItem,slideshowGutterWidth:this.getSlideshowGutterWidth(),onRedraw:this.updateRefCloneItems}))}},{key:"destroySlideshow",value:function(){this.behaviors&&this.behaviors.destroy(),this.list&&this.list.destroy()}},{key:"initializeSlideshowProperties",value:function(){this.slideshowProps={slideDimensions:this.list.props.items[0],totalSlideCount:this.slideshowNodes.length,progress:0,progressIndex:0,targetSlideIndex:0}}},{key:"initializeDragBehaviors",value:function(){var e=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer);this.dragBehaviors=new su(e,{slideshowProps:this.slideshowProps,behaviors:this.behaviors,callback:this.handleArrowVisibility})}},{key:"initializeSlideshow",value:function(){this.updatePositions(),this.slidesContainer.classList.add(this.classNames.isSlideshowInitialized),this.bindListeners(),this.handleArrowVisibility(),this.updateAriaContainer({currentSlideIndex:0})}},{key:"hideArrow",value:function(e){e.classList.add(this.classNames.isArrowHidden),e.setAttribute("tabindex","-1")}},{key:"showArrow",value:function(e){e.classList.remove(this.classNames.isArrowHidden),e.setAttribute("tabindex","0")}},{key:"getSlideColumnCount",value:function(){var e=this,t=window.innerWidth,n=1;return Object.values({"breakpoint-up-sm":{minScreenWidth:576,columnsWeHaveRoomFor:2},"breakpoint-up-lg":{minScreenWidth:992,columnsWeHaveRoomFor:3},"breakpoint-up-xxl":{minScreenWidth:1200,columnsWeHaveRoomFor:4}}).forEach((function(r){t>=r.minScreenWidth&&(n=Math.min(r.columnsWeHaveRoomFor,e.maxColumns))})),n}},{key:"getSlideshowGutterWidth",value:function(){var e=this.slidesContainer.getBoundingClientRect();return this.slidesContainer.offsetWidth/e.width*(e.x-this.slideshowWidthConstrainer.getBoundingClientRect().x)}},{key:"bindListeners",value:function(){M.a.watch(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.addEventListener("click",this.onClickNavPrevious),this.nextBtn.addEventListener("click",this.onClickNavNext)),this.onResize=ee(this.onResize,u.e),c.a.on(this.onResize)}},{key:"unbindListeners",value:function(){M.a.disconnect(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.removeEventListener("click",this.onClickNavPrevious),this.nextBtn.removeEventListener("click",this.onClickNavNext)),c.a.off(this.onResize)}},{key:"getSlideshowDimensions",value:function(){var e=this.slideshowWidthConstrainer.offsetWidth,t=this.slideshowWidthConstrainer.offsetHeight;return{regionWidth:e,regionHeight:t,maxWidth:e,maxHeight:t}}},{key:"buildItems",value:function(e){var t=this;return e.map((function(e,n){return{width:e.offsetWidth,height:e.offsetHeight,index:n,node:e,imageNode:e.querySelector(t.nodeSelectors.slideshowItemImage),isImageLoadAdded:!1,inViewport:null}}))}},{key:"updatePositions",value:function(){for(var e=0,t=this.slideshowNodes.length;e<t;e+=1){var n=this.slideshowNodes[e],r=this.list.items[e],o=!!(.5+Math.min(1,Math.abs(r.proximity))<<0),i=n.inViewport!==r.inViewport;(n.inViewport||i)&&(o!==n.isAriaHidden&&(n.node.setAttribute("aria-hidden",o),n.isAriaHidden=o),n.node.style.transform="translate3d("+r.x+"px, 0, 0)",n.inViewport=r.inViewport)}}}])&&Bu(t.prototype,n),r&&Bu(t,r),i}(d.a);Hu(Zu,"defaultProps",{itemSelector:".list-item",imageSelector:"img",contentSelector:".list-item-content",mediaSelector:".user-items-list-carousel__media-container",mediaInnerSelector:".user-items-list-carousel__media-inner",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonContainerSelector:".list-item-content__button-container",itemButtonSelector:".list-item-content__button",slidesContainerSelector:".user-items-list-carousel__slides",arrowLeftWrapperSelector:".user-items-list-carousel__arrow-wrapper--left",arrowRightWrapperSelector:".user-items-list-carousel__arrow-wrapper--right",arrowContainerSelector:".user-items-list-carousel__arrow-container",arrowPositionerSelector:".user-items-list-carousel__arrow-positioner",parentSectionSelector:".user-items-list-section",hideElementClass:"list-item-content--hidden"});function Ju(e){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ol(e);if(t){var o=ol(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nl(this,n)}}function nl(e,t){return!t||"object"!==Ju(t)&&"function"!=typeof t?rl(e):t}function rl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(i,e);var t,n,r,o=tl(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),il(rl(t=o.call(this)),"loadImage",(function(e){e&&(e.onload=function(){e.dataset.loaded=!0},a.a.loadLazy(e,{load:!0,useAdvancedPositioning:!0}))})),il(rl(t),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),il(rl(t),"onSectionTweak",(function(e){var n={layout:e.userItemsListOptions.layout,userItemsListCardTheme:e.userItemsListOptions.userItemsListCardTheme,userItems:Array.from(e.userItems),styles:e.styles,options:e.userItemsListOptions.simpleOptions,video:e.video};n.userItems.forEach((function(e){e.button&&(e.button.hasOwnProperty("buttonLink")&&(e.buttonLink=e.button.buttonLink),e.button.hasOwnProperty("buttonText")&&(e.buttonText=e.button.buttonText),e.buttonNewWindow=e.button.buttonNewWindow)}));var r=t.state.userItems.length!==n.userItems.length||t.state.layout!==n.layout;if(r)return!1;t.state.userItemsListCardTheme!==n.userItemsListCardTheme&&Xr(t.node,u.j,n.userItemsListCardTheme);var o=t.state.userItems.map((function(e,t){return Bc(n.userItems[t],e)}));if(r=t.shouldContentChangeUpdateDOM(o))return!1;var i=Bc(n.options,t.state.options);if(r=t.shouldOptionsChangeUpdateDOM(i))return!1;var a=Bc(n.styles,t.state.styles);if(r=t.shouldStylesChangeUpdateDOM(a))return!1;var s=Bc(n.video||{},t.state.video||{});return!(r=t.shouldVideoChangeUpdateDOM(s,t.state.video,n.video))&&(t.handleContentUpdate(o,n.userItems),t.handleOptionsUpdate(i,n.options),t.handleStylesUpdate(a,n.styles),t.ref=t.updateRef(),t.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),!0)})),il(rl(t),"handleOptionsUpdate",(function(e,n){var r=t.state.options,o=!1;if((e.includes("contentWidth.value")||e.includes("contentWidth.unit"))&&(t.ref.itemTitles.forEach((function(e){e.style.maxWidth="".concat(n.contentWidth.value).concat(n.contentWidth.unit)})),t.ref.itemDescriptions.forEach((function(e){e.style.maxWidth="".concat(n.contentWidth.value).concat(n.contentWidth.unit)})),t.ref.itemButtons.forEach((function(e){e.style.maxWidth="".concat(n.contentWidth.value).concat(n.contentWidth.unit)}))),(e.includes("mediaWidth.value")||e.includes("mediaWidth.unit"))&&t.ref.mediaContainers.forEach((function(e){e.style.width="".concat(n.mediaWidth.value).concat(n.mediaWidth.unit)})),e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var i="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),a="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.ref.layoutContainer.style.paddingTop=i,t.ref.layoutContainer.style.paddingBottom=a}if(e.includes("maxColumns")&&(t.node.dataset.numColumns=n.maxColumns,o=!0),e.includes("spaceBetweenRows.value")||e.includes("spaceBetweenRows.unit")||e.includes("spaceBetweenColumns.value")||e.includes("spaceBetweenColumns.unit")){var s="".concat(n.spaceBetweenRows.value).concat(n.spaceBetweenRows.unit),c="".concat(n.spaceBetweenColumns.value).concat(n.spaceBetweenColumns.unit);t.node.style.gridGap="".concat(s," ").concat(c),o=!0}if(e.includes("spaceBetweenContentAndMedia.value")||e.includes("spaceBetweenContentAndMedia.unit")){var u="".concat(n.spaceBetweenContentAndMedia.value).concat(n.spaceBetweenContentAndMedia.unit);"media-first"===t.state.options.contentOrder?t.ref.mediaContainers.forEach((function(e){e.style.marginBottom=u,e.style.marginTop=""})):t.ref.mediaContainers.forEach((function(e){e.style.marginBottom="",e.style.marginTop=u}))}if(e.includes("cardVerticalAlignment")&&(t.node.dataset.alignmentVertical=n.cardVerticalAlignment),e.includes("isCardEnabled"))if(n.isCardEnabled){var l="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),d="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),f="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),h="".concat(r.cardPaddingLeft.value).concat(r.cardPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=l,e.style.paddingRight=d,e.style.paddingBottom=f,e.style.paddingLeft=h,e.dataset.isCardEnabled="true"}))}else t.ref.userItems.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft="",e.dataset.isCardEnabled="false"}));if(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit")){var p="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),m="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),v="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),y="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=p,e.style.paddingRight=m,e.style.paddingBottom=v,e.style.paddingLeft=y}))}if(e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var g="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemDescriptionSelector).style.marginTop=g}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var b="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemButtonContainerSelector).style.marginTop=b}))}if(e.includes("mediaAlignment")&&(t.node.dataset.mediaAlignment=n.mediaAlignment),(e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),(e.includes("customOptions.customTitleFontSize.value")||e.includes("customOptions.customTitleFontSize.unit"))&&bu({type:"title",rootNode:t.node,targetElements:t.ref.itemTitles,fontSizeValue:n.customOptions.customTitleFontSize.value,fontSizeUnit:n.customOptions.customTitleFontSize.unit}),(e.includes("customOptions.customBodyFontSize.value")||e.includes("customOptions.customBodyFontSize.unit"))&&bu({type:"body",rootNode:t.node,targetElements:t.ref.itemDescriptions,fontSizeValue:n.customOptions.customBodyFontSize.value,fontSizeUnit:n.customOptions.customBodyFontSize.unit}),(e.includes("customOptions.customButtonFontSize.value")||e.includes("customOptions.customButtonFontSize.unit"))&&bu({type:"button",rootNode:t.node,targetElements:t.ref.itemButtons,fontSizeValue:n.customOptions.customButtonFontSize.value,fontSizeUnit:n.customOptions.customButtonFontSize.unit}),e.includes("mediaAspectRatio")){var w="original"===n.mediaAspectRatio,S=w?"none":"cover",A=n.mediaAspectRatio;t.ref.mediaInnerContainers.forEach((function(e){e.dataset.aspectRatio=A})),w?t.ref.images.forEach((function(e){e.style.objectFit="",e.style.objectPosition="",e.dataset.mode=S,t.loadImage(e)})):t.ref.images.forEach((function(e){e.dataset.mode=S,t.loadImage(e)}))}o&&t.onResize()})),il(rl(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,r){if(e.includes("title")){var o=t.ref.userItems[r].querySelector(t.props.itemTitleSelector);o&&t.renderContentUpdate({elementToUpdate:{textContainer:o,visibilityTarget:o},latestText:n[r].title})}if(e.includes("description")){var i=t.ref.userItems[r].querySelector(t.props.itemDescriptionSelector);i&&t.renderContentUpdate({elementToUpdate:{textContainer:i,visibilityTarget:i},latestText:n[r].description})}if(e.includes("buttonText")){var s=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);s&&t.renderContentUpdate({elementToUpdate:{textContainer:s,visibilityTarget:t.ref.userItems[r].querySelector(t.props.itemButtonContainerSelector)},latestText:n[r].buttonText})}if(e.includes("buttonLink")){var c=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);c&&(c.href=n[r].buttonLink)}if(e.includes("buttonNewWindow")){var u=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);u&&(u.target=n[r].buttonNewWindow?"_blank":"_self")}if(e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var l=n[r].mediaFocalPoint,d=l.x,f=l.y,h=t.ref.userItems[r].querySelector(t.props.imageSelector);a.a.load(h,{load:!0,forceImageUpdate:!0,focalPoint:{x:d,y:f}}),h.dataset.imageFocalPoint="".concat(d,",").concat(f)}}))})),il(rl(t),"renderContentUpdate",(function(e){var n=e.elementToUpdate,r=e.latestText;r?(n.visibilityTarget.classList.remove(t.props.hideElementClass),n.textContainer.innerHTML=r):n.visibilityTarget.classList.add(t.props.hideElementClass)})),il(rl(t),"handleStylesUpdate",(function(e,n){var r=!1;if(e.includes("sectionTheme")&&Xr(t.ref.parentNode,u.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),r=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),r&&t.onResize()})),il(rl(t),"shouldContentChangeUpdateDOM",(function(e){for(var t=!1,n=0;n<e.length;n++){if(e[n].includes("imageId")){t=!0;break}t=!1}return t})),il(rl(t),"shouldOptionsChangeUpdateDOM",(function(e){return!!(e.includes("layoutWidth")||e.includes("contentOrder")||e.includes("titleFontSize"))})),il(rl(t),"shouldStylesChangeUpdateDOM",(function(e){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),il(rl(t),"shouldVideoChangeUpdateDOM",(function(e,t,n){var r=!e.includes("url"),o=null===t&&""===(null==n?void 0:n.url),i=null===(null==n?void 0:n.videoFallbackContentItemId)&&r,a=o||i;return(e.includes("url")||e.includes("filter")||e.includes("filterStrength")||e.includes("playbackSpeed")||e.includes("videoFallbackContentItemId")||e.includes("videoFallbackFocalPoint"))&&!a})),il(rl(t),"updateRef",(function(){return{layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(t.props.itemSelector)),images:Array.from(t.node.querySelectorAll(t.props.imageSelector)),contentContainers:Array.from(t.node.querySelectorAll(t.props.contentSelector)),mediaContainers:Array.from(t.node.querySelectorAll(t.props.mediaSelector)),mediaInnerContainers:Array.from(t.node.querySelectorAll(t.props.mediaInnerSelector)),parentNode:t.node.closest(t.props.parentSectionSelector),itemTitles:Array.from(t.node.querySelectorAll(t.props.itemTitleSelector)),itemDescriptions:Array.from(t.node.querySelectorAll(t.props.itemDescriptionSelector)),itemButtons:Array.from(t.node.querySelectorAll(t.props.itemButtonSelector))}})),il(rl(t),"onResize",(function(){t.loadImages(t.ref.images)})),il(rl(t),"destroy",(function(){t.unbindListeners()})),t.node=e;var n=t.props,r=n.itemSelector,s=n.imageSelector,c=n.contentSelector,l=n.mediaSelector,d=n.mediaInnerSelector,f=n.parentSectionSelector,h=n.itemTitleSelector,p=n.itemDescriptionSelector,m=n.itemButtonSelector;return t.ref={layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(r)),images:Array.from(t.node.querySelectorAll(s)),contentContainers:Array.from(t.node.querySelector(c)),mediaContainers:Array.from(t.node.querySelectorAll(l)),mediaInnerContainers:Array.from(t.node.querySelectorAll(d)),itemTitles:Array.from(t.node.querySelectorAll(h)),itemDescriptions:Array.from(t.node.querySelectorAll(p)),itemButtons:Array.from(t.node.querySelectorAll(m)),parentNode:t.node.closest(f)},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.onResize=ee(t.onResize,u.e),t.bindListeners(),t.loadImages(t.ref.images),t}return t=i,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){M.a.watch(this.sectionId,this.onSectionTweak),c.a.on(this.onResize)}},{key:"unbindListeners",value:function(){M.a.disconnect(this.sectionId,this.onSectionTweak),c.a.off(this.onResize)}}])&&$u(t.prototype,n),r&&$u(t,r),i}(d.a);il(al,"defaultProps",{itemSelector:".list-item",imageSelector:"img",contentSelector:".list-item-content",mediaSelector:".list-item-media",mediaInnerSelector:".list-item-media-inner",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonContainerSelector:".list-item-content__button-container",itemButtonSelector:".list-item-content__button",parentSectionSelector:".user-items-list-section",hideElementClass:"list-item-content--hidden"});var sl=function(e){return new al(e)},cl=n(235),ul=n.n(cl);function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fl(e,t,n){return t&&dl(e.prototype,t),n&&dl(e,n),e}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yl(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gl(e){return function(e){if(Array.isArray(e))return bl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wl=function(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0};var Sl=function(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,t},Al=[];var Ol=function(e,t,n,r,o){var i=e.get("viewport")||[];Al[0]=t,Al[1]=n,Al[2]=r,Al[3]=o,wl(i,Al)||(e.gl.viewport(t,n,r,o),e.cache.set("viewport",Sl(Al,i)))};var xl=function(e,t,n,r,o){e.viewport[0]=t,e.viewport[1]=n,e.viewport[2]=r,e.viewport[3]=o,Ol.apply(void 0,[e.state].concat(gl(e.viewport)))};var El=function(e,t){var n,r=e.get("clearColor")||[];wl(r,t)||((n=e.gl).clearColor.apply(n,gl(t)),e.cache.set("clearColor",Sl(t,r)))};var Pl=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.gl,i=0;t&&(i|=o.COLOR_BUFFER_BIT),n&&(i|=o.DEPTH_BUFFER_BIT),r&&(i|=o.STENCIL_BUFFER_BIT),o.clear(i)};var kl=function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),t},Tl=function(){function e(){ll(this,e),this.listeners=[]}return fl(e,[{key:"add",value:function(e){this.listeners.push(e)}},{key:"remove",value:function(e){kl(this.listeners,e)}},{key:"dispatch",value:function(){var e=arguments;this.listeners.forEach((function(t){t.apply(void 0,gl(e))}))}},{key:"dispose",value:function(){this.listeners.length=0}}]),e}(),Cl=function(){function e(t){var n=this;ll(this,e),hl(this,"handleContextCreate",(function(){n.cache=new Map,n.enabledCapabilities=new Map})),hl(this,"dispose",(function(){n.renderer.onDispose.remove(n.dispose),n.cache.clear(),n.enabledCapabilities.clear()})),this.renderer=t,this.renderer.onContextCreate.add(this.handleContextCreate),this.renderer.onDispose.add(this.dispose)}return fl(e,[{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"enable",value:function(e){this.enabledCapabilities.get(e)||(this.enabledCapabilities.set(e,!0),this.gl.enable(e))}},{key:"disable",value:function(e){this.enabledCapabilities.get(e)&&(this.enabledCapabilities.set(e,!1),this.gl.disable(e))}},{key:"gl",get:function(){return this.renderer.gl}}]),e}();hl(Cl,"NAME","state");var Il=Cl,jl=function(){function e(t){var n=this;ll(this,e),hl(this,"handleContextCreate",(function(){n.cache=new Map})),hl(this,"dispose",(function(){n.renderer.onDispose.remove(n.dispose),n.cache.clear()})),this.renderer=t,this.renderer.onContextCreate.add(this.handleContextCreate),this.renderer.onDispose.add(this.dispose)}return fl(e,[{key:"get",value:function(e){var t=this.cache.get(e);return t||(t={},this.cache.set(e,t)),t}},{key:"update",value:function(e,t,n){this.cache.get(e)[t]=n}},{key:"remove",value:function(e){this.cache.delete(e)}}]),e}();hl(jl,"NAME","properties");var Ll=jl,_l=function(e){return e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"},Rl=function(){function e(t){var n=this,r=t.canvas,o=t.alpha,i=void 0!==o&&o,a=t.antialias,s=void 0!==a&&a,c=t.depth,u=void 0!==c&&c,l=t.stencil,d=void 0!==l&&l,f=t.premultipliedAlpha,h=void 0!==f&&f,p=t.preserveDrawingBuffer,m=void 0!==p&&p,v=t.pixelRatio,y=void 0===v?1:v,g=t.plugins,b=void 0===g?[]:g,w=t.onContextCreate,S=t.onContextLoss;ll(this,e),hl(this,"uniformValues",new Map),hl(this,"viewport",[0,0,2,2]),hl(this,"handleContextLost",(function(e){n.isContextLost=!0,n.onContextLoss.dispatch(),e.preventDefault()})),hl(this,"handleContextRestored",(function(){n.isContextLost=!1,n.createContext()})),this.contextAttributes={alpha:i,antialias:s,depth:u,stencil:d,premultipliedAlpha:h,preserveDrawingBuffer:m},this.canvas=r,this.pixelRatio=y,this.isContextLost=!1,this.initSignals(),this.initPlugins(b),w&&this.onContextCreate.add(w),S&&this.onContextLoss.add(S),this.createContext()}return fl(e,[{key:"initPlugins",value:function(t){var n=this;[].concat(gl(e.corePlugins),gl(t)).forEach((function(e){n[e.NAME]=new e(n)}))}},{key:"initSignals",value:function(){this.onContextCreate=new Tl,this.onContextLoss=new Tl,this.onBeforeRender=new Tl,this.onDispose=new Tl}},{key:"createContext",value:function(){if(this.gl=this.canvas.getContext("webgl",this.contextAttributes)||this.canvas.getContext("experimental-webgl",this.contextAttributes),!this.gl)throw this.isContextLost=!0,new Error("Error creating WebGL context");this.canvas.addEventListener("webglcontextlost",this.handleContextLost),this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored),this.defaultPrecision=_l(this.gl),this.onContextCreate.dispatch(this)}}]),e}();hl(Rl,"corePlugins",[Il,Ll]);var Dl=Rl;var Ml=function(e,t,n){!0!==e.isContextLost&&(t=t||e.canvas.clientWidth*e.pixelRatio,n=n||e.canvas.clientHeight*e.pixelRatio,e.canvas.width=t,e.canvas.height=n,xl(e,0,0,t,n))};var Fl=function(e){var t=e.gl;e.properties.cache.forEach((function(e){Object.values(e).forEach((function(n){switch(n.constructor.name){case"WebGLFramebuffer":t.deleteFramebuffer(n);break;case"WebGLRenderbuffer":t.deleteRenderbuffer(n);break;case"WebGLTexture":t.deleteTexture(n);break;case"WebGLBuffer":t.deleteBuffer(n);break;case"WebGLProgram":t.deleteProgram(n)}delete e[n]}))})),e.properties.cache.clear()};var Bl=function(e){Fl(e),e.onDispose.dispatch(),e.uniformValues.clear(),e.onContextCreate.dispose(),e.onContextLoss.dispose(),e.onBeforeRender.dispose(),e.onDispose.dispose(),e.canvas.removeEventListener("webglcontextlost",e.handleContextLost),e.canvas.removeEventListener("webglcontextrestored",e.handleContextRestored),e.canvas=null,e.gl=null};var zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=document.createElement("canvas");return i.width=n,i.height=o,i},Nl=!(!self.OffscreenCanvas||!self.OffscreenCanvas.prototype.transferToImageBitmap);var Wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r;return Nl?new OffscreenCanvas(n,o):zl({width:n,height:o})};n(399);var Ul=function(e,t){var n=e.properties.get(t);n.glTexture&&(e.gl.deleteTexture(n.glTexture),delete n.glTexture,e.properties.remove(t))};var ql=function(e,t){var n=e.properties.get(t);n&&(e.gl.deleteProgram(n.glProgram),e.properties.remove(t))};var Hl=function(e,t){var n=e.properties.get(t);n.glBuffer&&(e.gl.deleteBuffer(n.glBuffer),delete n.glBuffer),e.properties.remove(t)};var Vl=function(e,t){t.attributes.forEach((function(t){return Hl(e,t)})),t.index&&Hl(e,t.index)};function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yl=function(){function e(t){var n,r,o,i=t.renderer,a=t.instance,s=t.disposeMethod;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=0,(r="usageCount")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.renderer=i,this.instance=a,this.disposeMethod=s}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){this.disposeMethod(this.renderer,this.instance)}}])&&Gl(t.prototype,n),r&&Gl(t,r),e}();function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ql=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r="resources",o=new Map,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.renderer=t}var t,n,r;return t=e,(n=[{key:"getResource",value:function(e){var t=e.key,n=e.factory,r=e.disposeMethod,o=this.resources.get(t);return o||(o=new Yl({renderer:this.renderer,instance:n(),disposeMethod:r}),this.resources.set(t,o)),o.usageCount++,o.instance}},{key:"getTexture",value:function(e){var t=e.key,n=e.factory;return this.getResource({key:t,factory:n,disposeMethod:Ul})}},{key:"getProgram",value:function(e){var t=e.key,n=e.factory;return this.getResource({key:t,factory:n,disposeMethod:ql})}},{key:"getGeometry",value:function(e){var t=e.key,n=e.factory;return this.getResource({key:t,factory:n,disposeMethod:Vl})}},{key:"releaseResource",value:function(e){var t=this.resources.get(e);t&&0==--t.usageCount&&(t.dispose(),this.resources.delete(e))}},{key:"destroy",value:function(){this.resources.clear(),this.renderer=null}}])&&Xl(t.prototype,n),r&&Xl(t,r),e}();function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.canvas,r=e.clearColor,o=e.isActive,i=e.isDirty;if(t||o&&i){var a=n.contextWidth,s=n.contextHeight,c=n.isBitmapRenderer;xl(this.renderer,0,0,a,s),El(this.renderer.state,r),Pl(this.renderer),c?this.renderBitmap(e):this.renderImage(e),e.isDirty=!1}}function ed(e,t){var n=e.isActive,r=e.isDirty;(t||n&&r)&&e.render()}var td=function(){function e(t){var n=t.attributes,r=t.plugins;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kl(this,"rendererWidth",0),Kl(this,"rendererHeight",0),Kl(this,"isWebGLSupported",!0),Kl(this,"content",[]),this.webglCanvas=Wl();try{this.renderer=new Dl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){Kl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({canvas:this.webglCanvas,plugins:r},n)),this.renderContent=$l.bind(this),this.resourceCache=new Ql(this.renderer)}catch(e){this.isWebGLSupported=!1,this.renderer=null,this.renderContent=ed.bind(this)}}var t,n,r;return t=e,(n=[{key:"register",value:function(e){this.content.push(e)}},{key:"unregister",value:function(e){var t=this.content.indexOf(e);-1!==t&&this.content.splice(t,1)}},{key:"update",value:function(e){var t=this;return this.content.forEach((function(n){if(!n.isActive)return t;n.update(e),n.autoUpdate&&(n.isDirty=!0)})),this}},{key:"render",value:function(){for(var e=0,t=this.content.length;e<t;e++)this.renderContent(this.content[e]);return this}},{key:"renderBitmap",value:function(e){var t=e.canvas,n=t.contextWidth,r=t.contextHeight,o=t.context;n===this.rendererWidth&&r===this.rendererHeight||this.resize(n,r),e.render();var i=this.webglCanvas.transferToImageBitmap();o.transferFromImageBitmap(i)}},{key:"renderImage",value:function(e){var t=e.canvas,n=t.contextWidth,r=t.contextHeight,o=t.context;if(n>this.rendererWidth||r>this.rendererHeight){var i=Math.max(n,this.rendererWidth),a=Math.max(r,this.rendererHeight);this.resize(i,a)}e.render(),o.clearRect(0,0,n,r),o.drawImage(this.webglCanvas,0,this.webglCanvas.height-r,n,r,0,0,n,r)}},{key:"resize",value:function(e,t){this.rendererWidth=e,this.rendererHeight=t,Ml(this.renderer,this.rendererWidth,this.rendererHeight)}},{key:"destroy",value:function(){this.renderer&&(Bl(this.renderer),this.resourceCache.destroy())}},{key:"isEmpty",value:function(){return 0===this.content.length}}])&&Jl(t.prototype,n),r&&Jl(t,r),e}();function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function od(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function id(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.canvas,r=e.clearColor,o=e.isActive,i=e.isDirty;if(t||o&&i){var a=n.contextWidth,s=n.contextHeight;this.resize(a,s),El(this.renderer.state,r),Pl(this.renderer),e.render(),e.isDirty=!1}}function ad(e,t){var n=e.isActive,r=e.isDirty;(t||n&&r)&&e.render()}var sd=function(){function e(t){var n=t.content,r=t.canvas,o=t.attributes,i=t.plugins;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),od(this,"isWebGLSupported",!0),od(this,"rendererWidth",0),od(this,"rendererHeight",0),this.content=n;try{this.renderer=new Dl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(n),!0).forEach((function(t){od(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({canvas:r.$el,plugins:i},o)),this.renderContent=id.bind(this),this.resourceCache=new Ql(this.renderer)}catch(e){this.isWebGLSupported=!1,this.renderer=null,this.renderContent=ad.bind(this)}}var t,n,r;return t=e,(n=[{key:"update",value:function(e){return this.content.isActive?(this.content.update(e),this.content.autoUpdate&&(this.content.isDirty=!0),this):this}},{key:"render",value:function(){return this.renderContent(this.content),this}},{key:"resize",value:function(e,t){this.rendererWidth=e,this.rendererHeight=t,Ml(this.renderer,this.rendererWidth,this.rendererHeight)}},{key:"destroy",value:function(){this.renderer&&(Bl(this.renderer),this.resourceCache.destroy())}}])&&rd(t.prototype,n),r&&rd(t,r),e}();function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ld=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ud(this,"ticking",!1),ud(this,"raf",-1),ud(this,"tick",(function(e){n.raf=requestAnimationFrame(n.tick),n.callback(e)})),this.callback=t}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.ticking||(this.raf=requestAnimationFrame(this.tick),this.ticking=!0)}},{key:"stop",value:function(){this.ticking&&(cancelAnimationFrame(this.raf),this.ticking=!1)}}])&&cd(t.prototype,n),r&&cd(t,r),e}();function dd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.node,r=t.width,o=t.height,i=t.pixelRatio,a=void 0===i?1:i,s=t.contextType,c=void 0===s?"":s;dd(this,e),hd(this,"width",0),hd(this,"height",0),hd(this,"isBitmapRenderer",!1),this.node=n,this.canvas=zl(),this.pixelRatio=a,c&&this.getContext(c),this.node&&(this.node.appendChild(this.canvas),Object.assign(this.canvas.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"})),this.resize(r,o)}var t,n,r;return t=e,(n=[{key:"getContext",value:function(e){if("bitmaprenderer"===e){if(this.context=this.canvas.getContext("bitmaprenderer"),this.context)return void(this.isBitmapRenderer=!0);e="2d"}this.context=this.canvas.getContext(e),this.isBitmapRenderer=!1}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas.clientWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvas.clientHeight;return(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.canvas.width=this.contextWidth,this.canvas.height=this.contextHeight,!0)}},{key:"clear",value:function(){this.canvas.width=this.contextWidth}},{key:"contextWidth",get:function(){return this.width*this.pixelRatio|0}},{key:"contextHeight",get:function(){return this.height*this.pixelRatio|0}},{key:"$el",get:function(){return this.canvas}}])&&fd(t.prototype,n),r&&fd(t,r),e}(),md=function(){try{return window.top.__sqsWebGL,!0}catch(e){return!1}}()&&self.top||self;md.__sqsWebGL||(md.__sqsWebGL={initialized:!1,ticker:null,sharedController:null,dedicatedControllers:[],dedicatedContextLimit:Nl?1:4}),self.addEventListener("beforeunload",(function(){delete md.__sqsWebGL}));var vd=md.__sqsWebGL,yd=function(){function e(t){var n=this;ll(this,e),hl(this,"handleContextCreate",(function(){n.cache=new Map})),hl(this,"dispose",(function(){n.renderer.onContextCreate.remove(n.handleContextCreate),n.renderer.onDispose.remove(n.dispose),n.cache.clear()})),this.renderer=t,this.renderer.onContextCreate.add(this.handleContextCreate),this.renderer.onDispose.add(this.dispose)}return fl(e,[{key:"get",value:function(e){var t=this.cache.get(e);if(!t){if(!(t=this.renderer.gl.getExtension(e)))throw new Error("WebGLExtensions: ".concat(e," extension not supported."));this.cache.set(e,t)}return t}}]),e}();hl(yd,"NAME","extensions");var gd=yd,bd=function(){function e(t){var n=this;ll(this,e),hl(this,"nextTextureUnit",1),hl(this,"reset",(function(){n.nextTextureUnit=1})),this.renderer=t,this.renderer.onBeforeRender.add(this.reset),this.textureBindings=new WeakMap}return fl(e,[{key:"dispose",value:function(){this.renderer.onBeforeRender.remove(this.reset),this.renderer=null}}]),e}();hl(bd,"NAME","textures");var wd={plugins:[gd,bd],attributes:{alpha:!0,antialias:!1,depth:!0,stencil:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0}};function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){Od(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Od(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xd(){vd.ticker.stop(),vd.initialized=!1}var Ed=function(e){var t=vd.initialized,n=vd.dedicatedControllers,r=vd.dedicatedContextLimit;if(t&&xd(),vd.ticker=new ld((function(e){var t=vd.sharedController,n=vd.dedicatedControllers;t&&t.update(e).render();for(var r=0,o=n.length;r<o;r++)n[r].update(e).render()})),vd.ticker.start(),vd.initialized=!0,n.length<r){var o=new pd({node:e.node,pixelRatio:e.pixelRatio}),i=new sd(Ad({content:e,canvas:o},wd));return n.push(i),{canvas:o,renderController:i}}vd.sharedController||(vd.sharedController=new td(Ad({},wd)));var a=vd.sharedController,s=new pd({node:e.node,pixelRatio:Nl?e.pixelRatio:1,contextType:Nl?"bitmaprenderer":"2d"});return a.register(e),{canvas:s,renderController:a}},Pd=function(e){var t=vd.dedicatedControllers,n=vd.sharedController,r=t.find((function(t){return t.content===e}));r?(r.destroy(),t.splice(t.indexOf(r),1)):(n.unregister(e),n.isEmpty()&&(n.destroy(),vd.sharedController=null)),n&&!n.isEmpty()||0!==t.length||xd()};function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){Id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jd=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Id(this,"isActive",!1),Id(this,"isSupported",!0),Id(this,"autoUpdate",!0),Id(this,"isDirty",!0),Id(this,"clearColor",[1,1,1,1]),Id(this,"resourceKeys",[]),Id(this,"start",(function(){return r.isActive||(r.isActive=!0),r})),Id(this,"stop",(function(){return r.isActive?(r.isActive=!1,r):r})),Id(this,"refresh",(function(){return r.updateSize(),r.onRefresh(),r})),Id(this,"forceRender",(function(){r.renderController.renderContent(r,!0)})),this.node=t,this.props=Td(Td({},this.constructor.defaultProps),n),this.clearNode(),Object.assign(this,Ed(this)),this.renderer=this.renderController.renderer,this.resourceCache=this.renderController.resourceCache,this.isSupported=this.renderController.isWebGLSupported||this.constructor.hasFallback,this.isSupported&&this.updateSize()}var t,n,r;return t=e,(n=[{key:"setProps",value:function(e){var t=Td({},this.props);return this.props=Td(Td({},this.props),e),this.onUpdateProps(t),this}},{key:"onUpdateProps",value:function(e){}},{key:"updateSize",value:function(){var e,t;this.props.canvasSize&&(e=this.props.canvasSize.width,t=this.props.canvasSize.height),this.canvas.resize(e,t)&&Promise.resolve().then(this.forceRender)}},{key:"onRefresh",value:function(){}},{key:"update",value:function(e){}},{key:"render",value:function(){}},{key:"renderFrame",value:function(){return this.update(Date.now()),this.forceRender(),this.canvas.canvas}},{key:"destroy",value:function(){var e=this;return Pd(this),this.renderController=null,this.resourceKeys.forEach((function(t){e.resourceCache.releaseResource(t)})),this.clearNode(),this.onDestroy(),this}},{key:"clearNode",value:function(){this.node&&(this.node.innerHTML="")}},{key:"onDestroy",value:function(){}},{key:"getTexture",value:function(e){var t=e.key,n=e.factory;return this.resourceKeys.push(t),this.resourceCache.getTexture({key:t,factory:n})}},{key:"getProgram",value:function(e){var t=e.key,n=e.factory;return this.resourceKeys.push(t),this.resourceCache.getProgram({key:t,factory:n})}},{key:"getGeometry",value:function(e){var t=e.key,n=e.factory;return this.resourceKeys.push(t),this.resourceCache.getGeometry({key:t,factory:n})}},{key:"releaseResource",value:function(e){var t=this.resourceKeys.indexOf(e);-1!==t&&(this.resourceKeys.splice(t,1),this.resourceCache.releaseResource(e))}},{key:"pixelRatio",get:function(){return this.props.pixelRatio||1}}])&&Cd(t.prototype,n),r&&Cd(t,r),e}();Id(jd,"hasFallback",!1),Id(jd,"defaultProps",{canvasSize:null,pixelRatio:self.devicePixelRatio});var Ld=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.image,r=void 0===n?null:n,o=t.minFilter,i=void 0===o?9729:o,a=t.magFilter,s=void 0===a?9729:a,c=t.wrapS,u=void 0===c?33071:c,l=t.wrapT,d=void 0===l?33071:l,f=t.format,h=void 0===f?6408:f,p=t.type,m=void 0===p?5121:p,v=t.flipY,y=void 0===v||v,g=t.premultiplyAlpha,b=void 0!==g&&g;ll(this,e),this.image=r,this.minFilter=i,this.magFilter=s,this.wrapS=u,this.wrapT=d,this.format=h,this.type=m,this.flipY=y,this.premultiplyAlpha=b,this.generateMipmap=9729!==this.minFilter&&9728!==this.minFilter,this.needsUpdate=!1},_d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}(r,e);var t,n=(t=r,function(){var e,n=pl(t);if(vl()){var r=pl(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return yl(this,e)});function r(e){var t=e.geometry,o=e.material,i=e.offset,a=void 0===i?0:i,s=e.count,c=void 0===s?t.attributes.values().next().value.count:s;return ll(this,r),n.call(this,{geometry:t,material:o,offset:a,count:c})}return fl(r,[{key:"draw",value:function(e){e.drawArrays(this.mode,this.offset,this.count)}}]),r}(function(){function e(t){var n=t.geometry,r=t.material,o=t.offset,i=t.count;ll(this,e),this.geometry=n,this.material=r,this.offset=o,this.count=i}return fl(e,[{key:"draw",value:function(e){}},{key:"uniforms",get:function(){return this.material.uniforms}},{key:"program",get:function(){return this.material.program},set:function(e){this.material.program=e}},{key:"mode",get:function(){return this.material.mode}},{key:"options",get:function(){return this.material.options}},{key:"attributes",get:function(){return this.geometry.attributes}},{key:"index",get:function(){return this.geometry.index}}]),e}()),Rd=function e(t){var n=t.program,r=t.uniforms,o=void 0===r?{}:r,i=t.options,a=void 0===i?{}:i,s=t.mode,c=void 0===s?4:s;ll(this,e),this.program=n,this.uniforms=o,this.options=a,this.mode=c},Dd=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.vert,r=t.frag,o=t.precision;ll(this,e),this.vert=n,this.frag=r,this.precision=o};var Md=function(e){var t=e.geometry,n=e.vert,r=e.frag,o=e.precision,i=e.program,a=e.uniforms,s=e.options,c=e.mode,u=e.material,l=e.DrawInfoClass,d=void 0===l?_d:l,f=e.offset,h=e.count,p=e.primcount;return i=i||new Dd({vert:n,frag:r,precision:o}),new d({geometry:t,material:u=u||new Rd({program:i,uniforms:a,options:s,mode:c}),offset:f,count:h,primcount:p})};var Fd=function(e,t){var n=t.wrapS,r=t.wrapT,o=t.minFilter,i=t.magFilter,a=t.flipY,s=t.premultiplyAlpha;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s)};var Bd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.get("activeTexture")!==t&&(e.gl.activeTexture(33984+t),e.set("activeTexture",t))};var zd=function(e,t,n){var r="texture-".concat(n);e.get(r)!==t&&(e.gl.bindTexture(3553,t),e.set(r,t))};var Nd=function(e,t){var n=e.gl;t.image&&n.texImage2D(3553,0,t.format,t.format,t.type,t.image),t.generateMipmap&&n.generateMipmap(3553)};var Wd=function(e,t,n){var r=e.gl,o=e.properties.get(t);return Bd(e.state,n),o.glTexture?(zd(e.state,o.glTexture,n),!0===t.needsUpdate&&(Nd(e.state,t,o.glTexture),t.needsUpdate=!1)):(o.glTexture=r.createTexture(),zd(e.state,o.glTexture,n),Fd(r,t),Nd(e.state,t,o.glTexture)),n};var Ud=function(e,t){var n=e.textures,r=n.textureBindings,o=r.get(t);return o||(o=function(){return Wd(e,t,n.nextTextureUnit++)},r.set(t,o)),o},qd=function e(t){var n=t.array,r=t.itemSize,o=t.normalized,i=void 0!==o&&o,a=t.usage,s=void 0===a?35044:a,c=t.name,u=void 0===c?"":c,l=t.divisor,d=void 0===l?0:l;ll(this,e),this.array=n,this.itemSize=r,this.normalized=i,this.usage=s,this.name=u,this.divisor=d,this.count=n?n.length/r:0,this.needsUpdate=!1},Hd=function e(){ll(this,e),this.attributes=new Map,this.index=null};var Vd=function(e,t,n){return n.name=t,e.attributes.set(t,n),n};var Gd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=void 0===t?"aPosition":t,r=new Hd,o=new Float32Array([-1,-1,-1,3,3,-1]);return Vd(r,n,new qd({array:o,itemSize:2})),r};var Yd=function(e,t,n){var r="buffer-".concat(t);e.get(r)!==n&&(e.gl.bindBuffer(t,n),e.set(r,n))};var Xd=function(e,t,n){var r=e.properties.get(n);return r.glBuffer||(r.glBuffer=e.gl.createBuffer(),n.needsUpdate=!0),Yd(e.state,t,r.glBuffer),n.needsUpdate&&(e.gl.bufferData(t,n.array,n.usage),n.needsUpdate=!1),r.glBuffer};var Qd=function(e,t,n){var r=[];return n.forEach((function(n,o){var i=t.attributes.get(o),a=Xd(e,34962,i);r[n(i,a)]=1})),t.index&&Xd(e,34963,t.index),r};var Zd=function(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("could not compile shader: ".concat(e.getShaderInfoLog(r)));return r};var Jd=function(e,t){return"precision"!==e.substring(0,9)?"precision ".concat(t," float;\n").concat(e):e};var Kd=function(e,t){var n=e.gl,r=n.createProgram(),o=t.vert,i=Jd(t.frag,t.precision||e.defaultPrecision),a=Zd(n,o,n.VERTEX_SHADER),s=Zd(n,i,n.FRAGMENT_SHADER);if(n.attachShader(r,a),n.attachShader(r,s),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS))throw new Error("could not link shader: ".concat(n.getProgramInfoLog(r)));return n.deleteShader(a),n.deleteShader(s),r};var $d=function(e,t){e.get("enabledAttributes")||e.set("enabledAttributes",[]);var n=e.get("enabledAttributes");1!==n[t]&&(e.gl.enableVertexAttribArray(t),n[t]=1)};var ef=function(e,t){return function(n,r){return Yd(e.state,34962,r),$d(e.state,t),e.gl.vertexAttribPointer(t,n.itemSize,n.type||5126,n.normalize||!1,n.stride||0,n.offset||0),e.gl.vertexAttribDivisor&&e.gl.vertexAttribDivisor(t,n.divisor),t}};var tf=function(e,t){for(var n=new Map,r=e.gl,o=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),i=0;i<o;i++){var a=r.getActiveAttrib(t,i),s=r.getAttribLocation(t,a.name);n.set(a.name,ef(e,s))}return n};function nf(e){switch(e){case 5126:return function(e,t,n){e.uniform1f(t,n)};case 35664:return function(e,t,n){e.uniform2f(t,n[0],n[1])};case 35665:return function(e,t,n){e.uniform3f(t,n[0],n[1],n[2])};case 35666:return function(e,t,n){e.uniform4f(t,n[0],n[1],n[2],n[3])};case 5124:case 35670:case 35678:return function(e,t,n){e.uniform1i(t,n)};case 35667:case 35671:return function(e,t,n){e.uniform2i(t,n[0],n[1])};case 35668:case 35672:return function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])};case 35669:case 35673:return function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])};case 35674:return function(e,t,n){e.uniformMatrix2fv(t,!1,n)};case 35675:return function(e,t,n){e.uniformMatrix3fv(t,!1,n)};case 35676:return function(e,t,n){e.uniformMatrix4fv(t,!1,n)}}}function rf(e){switch(e){case 5126:return function(e,t,n){e.uniform1fv(t,n)};case 35664:return function(e,t,n){e.uniform2fv(t,n)};case 35665:return function(e,t,n){e.uniform3fv(t,n)};case 35666:return function(e,t,n){e.uniform4fv(t,n)};case 5124:case 35670:case 35678:return function(e,t,n){e.uniform1iv(t,n)};case 35667:case 35671:return function(e,t,n){e.uniform2iv(t,n)};case 35668:case 35672:return function(e,t,n){e.uniform3iv(t,n)};case 35669:case 35673:return function(e,t,n){e.uniform4iv(t,n)}}}var of=function(e,t,n){var r=e.getUniformLocation(t,n.name),o=(1===n.size?nf:rf)(n.type);return function(t){o(e,r,t.call?t():t)}};var af=function(e,t){for(var n=new Map,r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;o<r;o++){var i=e.getActiveUniform(t,o),a=i.name.replace(/\[.*?\]/,"");n.set(a,of(e,t,i))}return n},sf=function e(t,n){ll(this,e),this.attributeSetters=t,this.uniformSetters=n};var cf=function(e,t){var n=tf(e,t),r=af(e.gl,t);return new sf(n,r)};var uf=function(e,t){var n=e.properties.get(t);return n.glProgram||(n.glProgram=Kd(e,t),n.setters=cf(e,n.glProgram)),n};var lf=function(e,t){return e.get("program")!==t&&(e.gl.useProgram(t),e.cache.set("program",t),!0)};var df=function(e,t){e.forEach((function(e,n){e(t.get(n))}))};var ff=function(e,t){var n=e.get("enabledAttributes");0!==n[t]&&(e.gl.disableVertexAttribArray(t),n[t]=0)};var hf=function(e,t){if(!0!==e.isContextLost){var n=uf(e,t.program),r=n.glProgram,o=n.setters;lf(e.state,r),e.onBeforeRender.dispatch(t);var i=Qd(e,t,o.attributeSetters);for(var a in e.state.get("enabledAttributes").forEach((function(t,n){i[n]||ff(e.state,n)})),t.uniforms)e.uniformValues.set(a,t.uniforms[a]);df(o.uniformSetters,e.uniformValues),t.draw(e.gl)}},pf=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};var mf=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=t[8],f=n[0],h=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=c,e[6]=f*r+h*a+u,e[7]=f*o+h*s+l,e[8]=f*i+h*c+d,e};var vf=function(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};var yf=function(e){var t,n,r=e.matrix,o=void 0===r?[]:r,i=e.containerWidth,a=e.containerHeight,s=e.contentWidth,c=e.contentHeight,u=e.centerX,l=void 0===u?.5:u,d=e.centerY;s/c>i/a?(t=i*c/(a*s),n=1):(t=1,n=a*s/(i*c));var f=(t-1)/2*-1,h=(n-1)/2*-1,p=f+(l-.5)*f*2,m=h+(.5-(void 0===d?.5:d))*h*2;return pf(o),mf(o,o,[p,m]),vf(o,o,[t,n]),o},gf=n(236),bf=n.n(gf);function wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Af(e,t,n[t])}))}return e}function xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ef(e,t){return e(t={exports:{}},t.exports),t.exports}var Pf=Ef((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),kf=Ef((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),Tf=(kf.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),Cf=function(e){if(!Tf(e))throw TypeError(e+" is not an object!");return e},If=function(e){try{return!!e()}catch(e){return!0}},jf=!If((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Lf=Pf.document,_f=Tf(Lf)&&Tf(Lf.createElement),Rf=!jf&&!If((function(){return 7!=Object.defineProperty((e="div",_f?Lf.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),Df=Object.defineProperty,Mf={f:jf?Object.defineProperty:function(e,t,n){if(Cf(e),t=function(e,t){if(!Tf(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Tf(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Tf(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Tf(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),Cf(n),Rf)try{return Df(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},Ff=jf?function(e,t,n){return Mf.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},Bf={}.hasOwnProperty,zf=function(e,t){return Bf.call(e,t)},Nf=0,Wf=Math.random(),Uf=Ef((function(e){var t=Pf["__core-js_shared__"]||(Pf["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:kf.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))("native-function-to-string",Function.toString),qf=Ef((function(e){var t,n="Symbol(".concat(void 0===(t="src")?"":t,")_",(++Nf+Wf).toString(36)),r=(""+Uf).split("toString");kf.inspectSource=function(e){return Uf.call(e)},(e.exports=function(e,t,o,i){var a="function"==typeof o;a&&(zf(o,"name")||Ff(o,"name",t)),e[t]!==o&&(a&&(zf(o,n)||Ff(o,n,e[t]?""+e[t]:r.join(String(t)))),e===Pf?e[t]=o:i?e[t]?e[t]=o:Ff(e,t,o):(delete e[t],Ff(e,t,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[n]||Uf.call(this)}))})),Hf=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Vf=function(e,t,n){var r,o,i,a,s=e&Vf.F,c=e&Vf.G,u=e&Vf.S,l=e&Vf.P,d=e&Vf.B,f=c?Pf:u?Pf[t]||(Pf[t]={}):(Pf[t]||{}).prototype,h=c?kf:kf[t]||(kf[t]={}),p=h.prototype||(h.prototype={});for(r in c&&(n=t),n)i=((o=!s&&f&&void 0!==f[r])?f:n)[r],a=d&&o?Hf(i,Pf):l&&"function"==typeof i?Hf(Function.call,i):i,f&&qf(f,r,i,e&Vf.U),h[r]!=i&&Ff(h,r,a),l&&p[r]!=i&&(p[r]=i)};Pf.core=kf,Vf.F=1,Vf.G=2,Vf.S=4,Vf.P=8,Vf.B=16,Vf.W=32,Vf.U=64,Vf.R=128;var Gf=Vf;Gf(Gf.S+Gf.F*!jf,"Object",{defineProperty:Mf.f});var Yf=function(){},Xf="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0),Qf=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch),Zf=function(e){var t=e,n=0;do{n=t.offsetTop+n}while(t=t.offsetParent);return n},Jf=function(){function e(t,n){var r=this;wf(this,e),Af(this,"onResize",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldSkipUpdate,n=void 0!==t&&t,o=r.props.scrollEvents;r.computePositionData(),r.pos.offsetTop=Zf(r.node),r.pos.offsetBottom=document.body.scrollHeight-r.pos.offsetTop-r.pos.clientHeight,!o||Xf&&n||r.onUpdate(!0)})),Af(this,"onScroll",(function(){r.onUpdate(!Qf)})),Af(this,"onIntersect",(function(e){var t=xf(e,1)[0].isIntersecting;(0,r.props.onIntersection)(t),r.onUpdate(),t?Mo.a.on(r.onScroll):Mo.a.off(r.onScroll)})),Af(this,"destroy",(function(){r.unbindListeners()})),this.props=Of({},this.constructor.defaultProps,n),this.node=t,this.observer={intersection:null};var o=window.pageYOffset;this.pos={scrollTop:o,top:0,bottom:0,progress:0,intersectionProgress:0,windowHeight:0,clientHeight:0,offsetTop:0,offsetBottom:0,initial:this.getNodePositionData(this.node,o),isIntersecting:!1}}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.bindListeners()}},{key:"bindListeners",value:function(){if(c.a.on(this.onResize),this.onResize({shouldSkipUpdate:!0}),Xf)return this.observer.intersection=new IntersectionObserver(this.onIntersect,{rootMargin:"0px 0px 0px 0px"}),void this.observer.intersection.observe(this.node);Mo.a.on(this.onScroll)}},{key:"unbindListeners",value:function(){this.observer.intersection&&this.observer.intersection.unobserve(this.node),c.a.off(this.onResize),Mo.a.off(this.onScroll)}},{key:"onUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.scrollEvents,r=t.normalize;e?this.pos.scrollTop=window.pageYOffset:this.computePositionData();var o=this.props,i=o.onIntersection,a=o.onUpdate,s=this.pos,c=s.clientHeight,u=s.windowHeight,l=s.initial;this.pos.top=l.top-this.pos.scrollTop,this.pos.bottom=l.bottom-this.pos.scrollTop-u;var d=r?Math.min(this.pos.offsetTop,u):u,f=r?Math.min(this.pos.offsetBottom,u):u,h=-this.pos.top+d,p=d+c+f-u,m=1-(this.pos.top+c)/(u+c),v=h===p?1:(-this.pos.top+d)/(d+c+f-u);this.pos.progress=v<0?0:v>1?1:v,this.pos.intersectionProgress=m<0?0:m>1?1:m,Xf||(this.pos.intersectionProgress>0&&this.pos.intersectionProgress<1?this.pos.isIntersecting||(this.pos.isIntersecting=!0,i(this.pos.isIntersecting),this.onResize()):this.pos.isIntersecting&&(this.pos.isIntersecting=!1,i(this.pos.isIntersecting))),n&&a(this.pos)}},{key:"computePositionData",value:function(){this.pos.windowHeight=window.innerHeight,this.pos.clientHeight=this.node.clientHeight,this.pos.scrollTop=window.pageYOffset,this.pos.initial=this.getNodePositionData(this.node,this.pos.scrollTop)}},{key:"getNodePositionData",value:function(e,t){var n=e.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,a=n.left;return{top:Math.round(r)+t,right:o,bottom:Math.round(i)+t,left:a}}}])&&Sf(t.prototype,n),r&&Sf(t,r),e}();Af(Jf,"defaultProps",{scrollEvents:!0,onIntersection:Yf,onUpdate:Yf});var Kf=function e(t,n){var r=this;wf(this,e),Af(this,"onIntersection",(function(e){var t=r.props.onIntersection;r.state.isIntersecting=e,t(e)})),Af(this,"onUpdate",(function(e){var t=e.progress;r.onProgress(t)})),Af(this,"onProgress",(function(e){var t=r.props.onProgress;r.state.progress!==e&&(r.state.progress=e,t(r.state.progress))})),Af(this,"destroy",(function(){r.intersection.destroy()})),this.props=Of({},this.constructor.defaultProps,n);var o=this.props.normalize;if(t){var i=this.props,a=i.progressEvents,s=i.onProgress;this.state={normalize:o,progressEvents:a&&s,progress:-1,isIntersecting:!1},this.intersection=new Jf(t,{normalize:o,scrollEvents:this.state.progressEvents,onIntersection:this.onIntersection,onUpdate:this.onUpdate}),this.intersection.start()}else console.error("Error: No valid HTMLElement node was supplied!")};Af(Kf,"defaultProps",{progressEvents:!0,normalize:!0,onIntersection:Yf,onProgress:null});var $f=Kf;function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oh(e,t){return(oh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ch(e);if(t){var o=ch(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ah(this,n)}}function ah(e,t){return!t||"object"!==eh(t)&&"function"!=typeof t?sh(e):t}function sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ch(e){return(ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oh(e,t)}(i,e);var t,n,r,o=ih(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),uh(sh(n=o.call(this,e,nh({pixelRatio:Nl?Math.min(self.devicePixelRatio,1.5):1},t))),"onIntersection",(function(e){e?n.start():n.stop(),n.props.onIntersection(e)}));var r=n.props.image;return n.focalPoint=Object(h.b)(r)||{x:.5,y:.5},n.isImageLoaded=!1,n.isEnabled=n.isSupported&&!pt.b,r?(n.isEnabled&&n.createResources(),n.loadImage(r),n):ah(n)}return t=i,(n=[{key:"loadImage",value:function(e){var t=this;e.onload=function(){t.isEnabled&&(t.onImageLoaded(),e.style.visibility="hidden")},a.a.loadLazy(e,{load:!0,mode:"cover",useAdvancedPositioning:!0})}},{key:"onImageLoaded",value:function(){this.refresh(),this.isImageLoaded?this.texture.needsUpdate=!0:(this.isImageLoaded=!0,this.bindListeners())}},{key:"createResources",value:function(){var e,t,n=this.props,r=n.image,o=n.uniforms,i=n.pixelRatio;this.texture=new Ld({image:r}),this.drawInfo=Md({program:this.createProgram(),uniforms:nh(nh({},o),{},{uvMatrix:bf()(),uImage:Ud(this.renderer,this.texture),uResolution:[this.canvas.width,this.canvas.height],uReversePixelRatio:1/i}),geometry:this.getGeometry({key:"big-triangle",factory:Gd})}),e=this.renderer,t=this.drawInfo.program,uf(e,t),this.uniforms=this.drawInfo.uniforms,this.updateUvMatrix()}},{key:"createProgram",value:function(){var e=this.props,t=e.programKey,n=e.vert,r=e.frag;return this.getProgram({key:t,factory:function(){return new Dd({vert:n,frag:r})}})}},{key:"bindListeners",value:function(){this.intersectionScroll=new $f(this.node,{onIntersection:this.onIntersection,onProgress:this.props.onScrollProgress,normalize:!1}),c.a.on(this.refresh)}},{key:"unbindListeners",value:function(){c.a.off(this.refresh),this.intersectionScroll&&this.intersectionScroll.destroy()}},{key:"onUpdateProps",value:function(e){this.props.programKey!==e.programKey&&(this.releaseResource(e.programKey),this.drawInfo.program=this.createProgram()),(this.props.imageNeedsUpdate||this.props.image!==e.image)&&(this.texture.image=this.props.image,this.texture.needsUpdate=!0,this.props.imageNeedsUpdate=!1),Object.assign(this.uniforms,this.props.uniforms),this.refresh()}},{key:"update",value:function(){this.props.onUpdate()}},{key:"render",value:function(){hf(this.renderer,this.drawInfo)}},{key:"onRefresh",value:function(){this.uniforms.uResolution[0]=this.canvas.width,this.uniforms.uResolution[1]=this.canvas.height,this.updateUvMatrix(),this.props.onResize()}},{key:"updateUvMatrix",value:function(){yf({matrix:this.drawInfo.material.uniforms.uvMatrix,containerWidth:this.canvas.width,containerHeight:this.canvas.height,contentWidth:this.props.image.naturalWidth,contentHeight:this.props.image.naturalHeight,centerX:this.focalPoint.x,centerY:this.focalPoint.y})}},{key:"onDestroy",value:function(){this.isEnabled&&this.unbindListeners()}}])&&rh(t.prototype,n),r&&rh(t,r),i}(jd);uh(lh,"defaultProps",{programKey:null,vert:"#define GLSLIFY 1\nattribute vec3 aPosition;\nuniform mat3 uvMatrix;\nvarying vec2 vUv;\n\nvoid main(){\n  gl_Position=vec4(aPosition,1.);\n  vec2 uv=gl_Position.xy*.5+.5;\n\n  vUv=(uvMatrix*vec3(uv,1.)).xy;\n}",frag:"#define GLSLIFY 1\nuniform sampler2D uImage;\nvarying vec2 vUv;\n\nvoid main(){\n  gl_FragColor=texture2D(uImage,vUv);\n}",image:null,uniforms:{},imageNeedsUpdate:!1,onUpdate:te.a,onResize:te.a,onIntersection:te.a,onScrollProgress:null});function dh(e){return(dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fh(Object(n),!0).forEach((function(t){wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mh(e,t){return(mh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bh(e);if(t){var o=bh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yh(this,n)}}function yh(e,t){return!t||"object"!==dh(t)&&"function"!=typeof t?gh(e):t}function gh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bh(e){return(bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mh(e,t)}(i,e);var t,n,r,o=vh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),wh(gh(t=o.call(this)),"update",(function(){t.imageEffect.uniforms.uTime+=5e-5*t.state.speed,t.imageEffect.uniforms.uMorphTime+=1e-4*t.state.morphSpeed})),wh(gh(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.imageEffect=new lh(t.node.querySelector(".background-fx-canvas"),{programKey:"liquid",image:e.querySelector("img"),uniforms:hh({uTime:0,uMorphTime:0},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nfloat cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\nuniform float uComplexity;\nuniform float uDirection;\nuniform float uIntensity;\nuniform float uMorph;\nuniform float uSeed;\nuniform float uShadow;\nuniform float uSmoothness;\nuniform float uTime;\nuniform float uMorphTime;\nuniform sampler2D uImage;\n\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv,float amount){\n  float ca = cos(amount);\n  float sa = sin(amount);\n  \n  return vec2(\n    uv.x * ca + uv.y * sa,\n    -uv.x * sa + uv.y * ca\n  );\n}\n\nfloat getNoise(vec2 uv) {\n  vec2 direction = rotate(vec2(uTime), uDirection);\n  \n  return 1.0 - snoise(vec3(uv * uComplexity + direction, uMorphTime) + uSeed);\n}\n\nvoid main (void) {\n  float noise = 1.0 - cubicOut(smoothstep(1.0 - uSmoothness, 1.0, 1.0 - getNoise(vUv))) * uIntensity;\n  float shadow = smoothstep(1.0 - uIntensity, 1.0, noise) * uShadow * 0.5;\n  vec2 uv = (vUv - 0.5) * noise + 0.5;\n\n  gl_FragColor = texture2D(uImage, uv) - vec4(vec3(shadow), 0.0);\n}",onUpdate:t.update}),t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uComplexity=t.complexity,e.uDirection=(45+t.direction)*(Math.PI/180),e.uIntensity=.01*t.intensity,e.uSeed=t.seed,e.uShadow=.01*t.shadow,e.uSmoothness=.01*t.smoothness,e}}])&&ph(t.prototype,n),r&&ph(t,r),i}(d.a);wh(Sh,"defaultState",{complexity:2,direction:270,intensity:10,morphSpeed:5,seed:100,shadow:8,smoothness:100,speed:50});r.a.register("BackgroundImageFXLiquid",(function(e){return new Sh(e)}));function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oh(Object(n),!0).forEach((function(t){jh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ih(e);if(t){var o=Ih(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Th(this,n)}}function Th(e,t){return!t||"object"!==Ah(t)&&"function"!=typeof t?Ch(e):t}function Ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ih(e){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ph(e,t)}(i,e);var t,n,r,o=kh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),jh(Ch(t=o.call(this)),"shiftTarget",[0,0]),jh(Ch(t),"shiftResetTID",-1),jh(Ch(t),"onIntersection",(function(e){e?t.bindListeners():t.unbindListeners()})),jh(Ch(t),"resetShift",(function(){t.shiftTarget=[0,0]})),jh(Ch(t),"onPointerMove",(function(e){var n=t.sectionNode.getBoundingClientRect(),r=(e.clientX-n.left)/t.width,o=(e.clientY-n.top)/t.height;t.shiftTarget[0]=-2*r+1,t.shiftTarget[1]=2*o-1,t.onPointerLeave()})),jh(Ch(t),"onPointerLeave",(function(){clearTimeout(t.shiftResetTID),t.shiftResetTID=setTimeout(t.resetShift,2e3)})),jh(Ch(t),"onResize",(function(){var e=t.imageEffect.canvas,n=e.width,r=e.height,o=t.state,i=o.centerOffsetSize,a=o.isLimitRings,s=o.numRings,c=o.ringSize,u=.5*Math.min(n,r),l=.5*Math.sqrt(n*n+r*r),d=u*(.01*i),f=Math.ceil((l-i)/c),h=a?Math.min(s,f):f;t.width=n,t.height=r,t.imageEffect.uniforms.uCenterRadius=d,t.imageEffect.uniforms.uMaxRings=h})),jh(Ch(t),"update",(function(){var e=t.state.shiftSpeed,n=t.imageEffect.uniforms.uShift,r=t.shiftTarget[0]-n[0],o=t.shiftTarget[1]-n[1];n[0]+=r*(.002*e),n[1]+=o*(.002*e)})),jh(Ch(t),"destroy",(function(){t.imageEffect.destroy(),t.unbindListeners(),clearTimeout(t.shiftResetTID)})),t.node=e,t.sectionNode=t.node.closest("section")||t.node,t.imageEffect=new lh(t.node.querySelector(".background-fx-canvas"),{programKey:"refracted-circles",image:e.querySelector("img"),uniforms:xh({uCenterRadius:100,uMaxRings:-1,uShift:[0,0]},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat sineOut(float t) {\n  return sin(t * HALF_PI);\n}\n\nuniform sampler2D uImage;\nuniform float uCenterRadius;\nuniform float uMaxRings;\nuniform float uReversePixelRatio;\nuniform float uRingSize;\nuniform float uRotation;\nuniform float uScaleEven;\nuniform float uScaleOdd;\nuniform float uScaleTaperEven;\nuniform float uScaleTaperOdd;\nuniform float uShiftIntensity;\nuniform float uStepFlipRotation;\nuniform float uStepFlipX;\nuniform float uStepFlipY;\nuniform vec2 uResolution;\nuniform vec2 uShift;\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv, float amount) {\n  vec2 prime = vec2(uv.x * cos(amount) + uv.y * sin(amount),\n    -uv.x * sin(amount) + uv.y * cos(amount));\n  return prime;\n}\n\nfloat getStep (vec2 uv) {\n  return (floor(max(0.0, distance(uv, vec2(0.0)) - uCenterRadius) / uRingSize));\n}\n\nvoid main () {\n  vec2 uv = vUv - 0.5;\n  float aspect = uResolution.x / uResolution.y;\n  vec2 stepCoord = (gl_FragCoord.xy / uResolution * uReversePixelRatio) - 0.5;\n  float step = min(getStep(stepCoord * uResolution), uMaxRings);\n  float isEven = mod(step, 2.0);\n  float flipRotation = sign((1.0 - isEven + uStepFlipRotation) * 2.0 - 1.0);\n  vec2 flipAxis = vec2(\n    sign((1.0 - isEven + uStepFlipX) * 2.0 - 1.0),\n    sign((1.0 - isEven + uStepFlipY) * 2.0 - 1.0)\n  );\n  float progress = sineOut((step + 1.0) / (uMaxRings + 1.0));\n  float progressRotation = sineOut((step) / (uMaxRings));\n  float rotation = progressRotation * (uRotation) * flipRotation;\n  float scale = mix(uScaleOdd, uScaleEven, isEven);\n  float taper = mix(uScaleTaperEven, uScaleTaperOdd, isEven);\n  float taperScale = (1.0 - progress) * taper;\n  vec2 shift = uShift * uShiftIntensity * progress;\n\n  uv.x *= aspect;\n  uv = rotate(uv, rotation);\n  uv.x /= aspect;\n  uv =\n    (uv + shift) *\n      flipAxis *\n      scale *\n      (1.0 + taperScale) +\n    0.5;\n\n  gl_FragColor = texture2D(uImage, mod(uv * -sign(mod(uv, 2.0) - 1.0), 1.0));\n}",onUpdate:t.update,onResize:t.onResize,onIntersection:t.onIntersection}),t.width=t.node.clientWidth,t.height=t.node.clientHeight,t}return t=i,(n=[{key:"bindListeners",value:function(){this.sectionNode.addEventListener("mousemove",this.onPointerMove),this.sectionNode.addEventListener("mouseleave",this.onPointerLeave)}},{key:"unbindListeners",value:function(){this.sectionNode.removeEventListener("mousemove",this.onPointerMove),this.sectionNode.removeEventListener("mouseleave",this.onPointerLeave)}},{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uRotation=t.rotation*Math.PI/180,e.uRingSize=t.ringSize,e.uScaleEven=.01*t.scaleEven,e.uScaleOdd=.01*t.scaleOdd,e.uScaleTaperEven=.01*t.scaleTaperEven,e.uScaleTaperOdd=.01*t.scaleTaperOdd,e.uStepFlipRotation=1-+t.isStepFlipRotation,e.uStepFlipX=1-+t.isStepFlipX,e.uStepFlipY=1-+t.isStepFlipY,e.uShiftIntensity=.002*t.shiftIntensity,e}}])&&Eh(t.prototype,n),r&&Eh(t,r),i}(d.a);jh(Lh,"defaultState",{isLimitRings:!1,numRings:5,centerOffsetSize:55,ringSize:150,rotation:2,scaleEven:100,scaleOdd:90,scaleTaperEven:10,scaleTaperOdd:-10,shiftIntensity:50,shiftSpeed:20,isStepFlipRotation:!0,isStepFlipX:!1,isStepFlipY:!1});r.a.register("BackgroundImageFXRefractedCircles",(function(e){return new Lh(e)}));function _h(e){return(_h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(n),!0).forEach((function(t){Uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fh(e,t){return(Fh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wh(e);if(t){var o=Wh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zh(this,n)}}function zh(e,t){return!t||"object"!==_h(t)&&"function"!=typeof t?Nh(e):t}function Nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wh(e){return(Wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fh(e,t)}(i,e);var t,n,r,o=Bh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Uh(Nh(t=o.call(this)),"targetProgress",0),Uh(Nh(t),"isImmediate",!0),Uh(Nh(t),"onScrollProgress",(function(e){t.isImmediate&&(t.imageEffect.uniforms.uShift[1]=e,t.imageEffect.isDirty=!0,t.isImmediate=!1),t.targetProgress=e})),Uh(Nh(t),"onIntersection",(function(e){e&&(t.isImmediate=!0)})),Uh(Nh(t),"onUpdate",(function(){var e=t.imageEffect.uniforms.uShift[1],n=t.targetProgress;if(e!==n){var r=n-e;t.imageEffect.uniforms.uShift[1]=r<.01?n:e+.1*r,t.imageEffect.isDirty=!0}})),Uh(Nh(t),"updateSize",(function(){var e=t.imageEffect.canvas,n=e.width,r=e.height,o=t.state.lineSize,i=Math.sqrt(n*n+r*r),a=Math.ceil(i/o),s=a*o;t.imageEffect.uniforms.uLineSize=o,t.imageEffect.uniforms.uLineCount=a,t.imageEffect.uniforms.uLineRegionSize=s,t.imageEffect.uniforms.uResolution[0]=n,t.imageEffect.uniforms.uResolution[1]=r,t.isImmediate=!0})),Uh(Nh(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.imageEffect=new lh(t.node.querySelector(".background-fx-canvas"),{programKey:"refracted-lines",image:e.querySelector("img"),uniforms:Dh({uResolution:[1,1],uShift:[0,0]},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\nfloat cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\nuniform sampler2D uImage;\nuniform float uBulge;\nuniform float uLineCount;\nuniform float uLineRegionSize;\nuniform float uLineSize;\nuniform float uRotation;\nuniform float uScale;\nuniform float uShiftIntensity;\nuniform vec2 uOffsetScale;\nuniform vec2 uResolution;\nuniform vec2 uShift;\n\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv, float amount) {\n  vec2 prime = vec2(uv.x * cos(amount) + uv.y * sin(amount),\n    -uv.x * sin(amount) + uv.y * cos(amount));\n  return prime;\n}\n\nfloat getStep (vec2 uv) {\n  return (1.0 + floor(distance(uv.x, 0.0) / uLineRegionSize * uLineCount));\n}\n\nvoid main () {\n  vec2 uv = rotate((vUv - 0.5) * uResolution, uRotation);\n  float step = getStep(uv);\n  float multiplier = sign(uv.x);\n\n  uv = rotate(uv, -uRotation);\n\n  float aspect = uResolution.x / uResolution.y;\n\n  float interpStep = multiplier * step;\n  float strength = step / (uLineCount * 0.5);\n  vec2 rotated = vec2(cos(uRotation), sin(uRotation));\n\n  interpStep -= multiplier * 0.5;\n\n  vec2 centered = interpStep * uLineSize * vec2(aspect, 1.0) * uOffsetScale * rotated;\n  \n  uv += uShift * uResolution * uShiftIntensity * cubicOut((step + 1.0) / uLineCount);\n  uv = (uv - centered) * (2.0 - uScale + strength * uBulge) + centered;\n  uv /= uResolution;\n  uv += 0.5;\n  uv = mod(uv * -sign(mod(uv, 2.0) - 1.0), 1.0);\n\n  gl_FragColor = texture2D(uImage, uv);\n}",onResize:t.updateSize,onUpdate:t.onUpdate,onIntersection:t.onIntersection,onScrollProgress:t.onScrollProgress}),t.imageEffect.autoUpdate=!1,t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uRotation=t.rotation*Math.PI/180,e.uBulge=t.bulge,e.uOffsetScale=[t.offsetScaleX,t.offsetScaleY],e.uScale=t.scale,e.uShiftIntensity=t.shiftIntensity,e}}])&&Mh(t.prototype,n),r&&Mh(t,r),i}(d.a);Uh(qh,"defaultState",{bulge:-.25,lineSize:120,offsetScaleX:.5,offsetScaleY:.5,rotation:135,scale:.8,shiftIntensity:.25});r.a.register("BackgroundImageFXRefractedLines",(function(e){return new qh(e)}));function Hh(e){return(Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach((function(t){$h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xh(e,t){return(Xh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kh(e);if(t){var o=Kh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zh(this,n)}}function Zh(e,t){return!t||"object"!==Hh(t)&&"function"!=typeof t?Jh(e):t}function Jh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kh(e){return(Kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ep=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xh(e,t)}(i,e);var t,n,r,o=Qh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$h(Jh(t=o.call(this)),"update",(function(){t.imageEffect.uniforms.uTime+=1e-4*t.state.speed})),$h(Jh(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.imageEffect=new lh(t.node.querySelector(".background-fx-canvas"),{programKey:"static",image:e.querySelector("img"),uniforms:Gh({uTime:0},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n#define V_SEED_X 12.9898\n#define V_SEED_Y 78.233\n#define R_SEED 43758.5453\n\nuniform sampler2D uImage;\nuniform float uDepth;\nuniform float uNoise;\nuniform float uTime;\nuniform vec2 uResolution;\n\nvarying vec2 vUv;\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy, vec2(V_SEED_X, V_SEED_Y))) * R_SEED);\n}\n\nfloat filmGrain(vec2 uv) {\n  float random = rand(uv + uTime);\n  return snoise(vec3(uv, random) + random);\n}\n\nvoid main (void) {\n  vec4 origin = texture2D(uImage, vUv);\n  float grain = filmGrain(vUv * uResolution);\n  vec3 color = origin.rgb;\n\n  color *= 1.0 + (grain * uNoise * (-1.0 + uDepth + luma(origin) * 0.75));\n\n  gl_FragColor = vec4(color, origin.a);\n}",onUpdate:t.update}),t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uNoise=t.noise,e.uDepth=t.depth,e}}])&&Yh(t.prototype,n),r&&Yh(t,r),i}(d.a);$h(ep,"defaultState",{noise:.5,depth:0,speed:30});r.a.register("BackgroundImageFXStatic",(function(e){return new ep(e)}));function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?np(Object(n),!0).forEach((function(t){lp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t){return(ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ap(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=up(e);if(t){var o=up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sp(this,n)}}function sp(e,t){return!t||"object"!==tp(t)&&"function"!=typeof t?cp(e):t}function cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function up(e){return(up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ip(e,t)}(i,e);var t,n,r,o=ap(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),lp(cp(t=o.call(this)),"targetProgress",0),lp(cp(t),"isImmediate",!0),lp(cp(t),"onScrollProgress",(function(e){t.isImmediate&&(t.imageEffect.uniforms.uProgress=e,t.imageEffect.isDirty=!0,t.isImmediate=!1),t.targetProgress=e})),lp(cp(t),"onIntersection",(function(e){e&&(t.isImmediate=!0)})),lp(cp(t),"onUpdate",(function(){var e=t.imageEffect.uniforms.uProgress,n=t.targetProgress;if(e!==n){var r=n-e;t.imageEffect.uniforms.uProgress=r<.01?n:e+.1*r,t.imageEffect.isDirty=!0}})),lp(cp(t),"updateSize",(function(){var e=t.imageEffect.focalPoint,n=e.x,r=e.y;t.imageEffect.uniforms.uOrigin[0]=n,t.imageEffect.uniforms.uOrigin[1]=1-r,t.isImmediate=!0})),lp(cp(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.setState(JSON.parse(t.node.dataset.props)),t.imageEffect=new lh(t.node.querySelector(".background-fx-canvas"),{programKey:"parallax-program",image:e.querySelector("img"),uniforms:rp({uOrigin:[.5,.5],uProgress:0},t.updateUniforms({},t.state)),vert:"#define GLSLIFY 1\nattribute vec3 aPosition;\n\nuniform mat3 uvMatrix;\nuniform float uAmount;\nuniform vec2 uAngle;\nuniform float uZoomStart;\nuniform float uZoomEnd;\nuniform float uProgress;\nuniform vec2 uOrigin;\n\nvarying vec2 vUv;\n\nvoid main(){\n  gl_Position = vec4(aPosition, 1.);\n  vec2 uv = gl_Position.xy * .5 + .5;\n\n  vUv = (uvMatrix * vec3(uv, 1.)).xy;\n  vUv -= uOrigin;\n  vUv *= 1.0 - uAmount - mix(uZoomStart, uZoomEnd, uProgress);\n  vUv -= uAngle * mix(\n    (vec2(1.0) - uOrigin) * -uAmount,\n    uOrigin * uAmount,\n    uProgress\n  );\n  vUv += uOrigin;\n}",onResize:t.updateSize,onUpdate:t.onUpdate,onIntersection:t.onIntersection,onScrollProgress:t.onScrollProgress}),t.imageEffect.autoUpdate=!1,t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uAmount=t.amount,e.uAngle=[Math.cos(t.angle*Math.PI/180),Math.sin(t.angle*Math.PI/180)],e.uZoomStart=t.zoomStart,e.uZoomEnd=t.zoomEnd,e}}])&&op(t.prototype,n),r&&op(t,r),i}(d.a);lp(dp,"defaultState",{amount:.3,angle:90,zoomStart:0,zoomEnd:0});r.a.register("BackgroundImageFXParallax",(function(e){return new dp(e)})),r.a.register("AuthorProfileImageLoader",s),r.a.register("BlogImageLoader",l),r.a.register("BlogLayoutMasonry",C),r.a.register("EventsImageLoader",I),r.a.register("Flags",(function(e){return new _(e)})),r.a.register("FloatingCart",D),r.a.register("GalleryFullscreenSlideshow",(function(e){return new Ee(e)})),r.a.register("GalleryGrid",(function(e){return new nt(e)})),r.a.register("GalleryMasonry",(function(e){return new ht(e)})),r.a.register("GalleryStrips",(function(e){return new sn(e)})),r.a.register("GallerySlideshow",(function(e){return new Ft(e)})),r.a.register("GridImages",wr),r.a.register("Header",(function(e){return new so(e)})),r.a.register("ImageZoom",(function(e){return new yo(e)})),r.a.register("ItemPagination",bo),r.a.register("Lightbox",(function(e){return new To(e)})),r.a.register("MagicPaddingController",(function(e){return new Ro(e)})),r.a.register("PortfolioHover",(function(e){return new Rs(e)})),r.a.register("PortfolioIndexBackground",zs),r.a.register("ProductListImageLoader",Ns),r.a.register("ProductGallery",(function(e){return new $s(e)})),r.a.register("ProductItemVariants",(function(e){return new sc(e)})),r.a.register("ProductCartButton",(function(e){return new hc(e)})),r.a.register("SectionBackgroundOverlayController",(function(e){return new vc(e)})),r.a.register("SectionWrapperController",(function(e){return new jc(e)})),r.a.register("ImageAndText",(function(e){return new qc(e)})),r.a.register("UserAccountLink",Vc),r.a.register("UserItemsListBannerSlideshow",(function(e){return new Ru(e)})),r.a.register("UserItemsListSimple",sl),r.a.register("UserItemsListCarousel",(function(e){return new Zu(e)})),r.a.register("UserItemsListSimple",sl),go()&&r.a.register("GlobalAnimations",void 0),r.a.register("VideoBackground",(function(e){return ul()(e)})),r.a.initialize()}]))}));